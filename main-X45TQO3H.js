import{a as K,b as Fe,c as rv,d as j,e as WD,f as wh,g as YD,h as KD,i as QD,j as sv,k as XD,l as zc,m as ov,n as bh,o as JD,p as ZD,q as av,r as vt,s as co,t as Bi,u as Eh,v as Gc,w as eT,x as tT,y as os,z as _n}from"./chunk-FN4OY5XV.js";var nT=null;var lv=1,iT=Symbol("SIGNAL");function qe(t){let e=nT;return nT=t,e}var rT={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dF(t){if(!(dv(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===lv)){if(!t.producerMustRecompute(t)&&!cv(t)){t.dirty=!1,t.lastCleanEpoch=lv;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=lv}}function sT(t){return t&&(t.nextProducerIndex=0),qe(t)}function oT(t,e){if(qe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(dv(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)uv(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cv(t){Dh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(dF(n),i!==n.version))return!0}return!1}function aT(t){if(Dh(t),dv(t))for(let e=0;e<t.producerNode.length;e++)uv(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function uv(t,e){if(hF(t),Dh(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)uv(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Dh(r),r.producerIndexOfThis[i]=e}}function dv(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Dh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hF(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fF(){throw new Error}var pF=fF;function lT(t){pF=t}function ge(t){return typeof t=="function"}function Oa(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Th=Oa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function uo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ct=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(ge(i))try{i()}catch(s){e=s instanceof Th?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{cT(s)}catch(o){e=e??[],o instanceof Th?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Th(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&uo(n,e)}remove(e){let{_finalizers:n}=this;n&&uo(n,e),e instanceof t&&e._removeParent(this)}};Ct.EMPTY=(()=>{let t=new Ct;return t.closed=!0,t})();var hv=Ct.EMPTY;function Ch(t){return t instanceof Ct||t&&"closed"in t&&ge(t.remove)&&ge(t.add)&&ge(t.unsubscribe)}function cT(t){ge(t)?t():t.unsubscribe()}var mi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ra={setTimeout(t,e,...n){let{delegate:i}=Ra;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ra;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ih(t){Ra.setTimeout(()=>{let{onUnhandledError:e}=mi;if(e)e(t);else throw t})}function yr(){}var uT=fv("C",void 0,void 0);function dT(t){return fv("E",void 0,t)}function hT(t){return fv("N",t,void 0)}function fv(t,e,n){return{kind:t,value:e,error:n}}var ho=null;function Pa(t){if(mi.useDeprecatedSynchronousErrorHandling){let e=!ho;if(e&&(ho={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ho;if(ho=null,n)throw i}}else t()}function fT(t){mi.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=t)}var fo=class extends Ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ch(e)&&e.add(this)):this.destination=vF}static create(e,n,i){return new _r(e,n,i)}next(e){this.isStopped?mv(hT(e),this):this._next(e)}error(e){this.isStopped?mv(dT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mv(uT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mF=Function.prototype.bind;function pv(t,e){return mF.call(t,e)}var gv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Sh(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Sh(i)}else Sh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Sh(n)}}},_r=class extends fo{constructor(e,n,i){super();let r;if(ge(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&mi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&pv(e.next,s),error:e.error&&pv(e.error,s),complete:e.complete&&pv(e.complete,s)}):r=e}this.destination=new gv(r)}};function Sh(t){mi.useDeprecatedSynchronousErrorHandling?fT(t):Ih(t)}function gF(t){throw t}function mv(t,e){let{onStoppedNotification:n}=mi;n&&Ra.setTimeout(()=>n(t,e))}var vF={closed:!0,next:yr,error:gF,complete:yr};var Na=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(t){return t}function vv(...t){return yv(t)}function yv(t){return t.length===0?rn:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var _e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=_F(n)?n:new _r(n,i,r);return Pa(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=pT(i),new i((r,s)=>{let o=new _r({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Na](){return this}pipe(...n){return yv(n)(this)}toPromise(n){return n=pT(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function pT(t){var e;return(e=t??mi.Promise)!==null&&e!==void 0?e:Promise}function yF(t){return t&&ge(t.next)&&ge(t.error)&&ge(t.complete)}function _F(t){return t&&t instanceof fo||yF(t)&&Ch(t)}function _v(t){return ge(t?.lift)}function De(t){return e=>{if(_v(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(t,e,n,i,r){return new wv(t,e,n,i,r)}var wv=class extends fo{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ka(){return De((t,e)=>{let n=null;t._refCount++;let i=we(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Fa=class extends _e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_v(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ct;let n=this.getSubject();e.add(this.source.subscribe(we(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ct.EMPTY)}return e}refCount(){return ka()(this)}};var mT=Oa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=(()=>{class t extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Mh(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new mT}next(n){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?hv:(this.currentObservers=null,s.push(n),new Ct(()=>{this.currentObservers=null,uo(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new _e;return n.source=this,n}}return t.create=(e,n)=>new Mh(e,n),t})(),Mh=class extends xe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:hv}};var It=class extends xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Hc={now(){return(Hc.delegate||Date).now()},delegate:void 0};var xh=class extends xe{constructor(e=1/0,n=1/0,i=Hc){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var Ah=class extends Ct{constructor(e,n){super()}schedule(e,n=0){return this}};var qc={setInterval(t,e,...n){let{delegate:i}=qc;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var La=class extends Ah{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return qc.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&qc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,uo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Va=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Va.now=Hc.now;var Ba=class extends Va{constructor(e,n=Va.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var as=new Ba(La),bv=as;var Oh=class extends La{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Rh=class extends Ba{};var Ev=new Rh(Oh);var Bt=new _e(t=>t.complete());function Ph(t){return t&&ge(t.schedule)}function Dv(t){return t[t.length-1]}function ls(t){return ge(Dv(t))?t.pop():void 0}function ji(t){return Ph(Dv(t))?t.pop():void 0}function gT(t,e){return typeof Dv(t)=="number"?t.pop():e}var ja=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nh(t){return ge(t?.then)}function kh(t){return ge(t[Na])}function Fh(t){return Symbol.asyncIterator&&ge(t?.[Symbol.asyncIterator])}function Lh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vh=wF();function Bh(t){return ge(t?.[Vh])}function jh(t){return YD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield wh(n.read());if(r)return yield wh(void 0);yield yield wh(i)}}finally{n.releaseLock()}})}function $h(t){return ge(t?.getReader)}function Be(t){if(t instanceof _e)return t;if(t!=null){if(kh(t))return bF(t);if(ja(t))return EF(t);if(Nh(t))return DF(t);if(Fh(t))return vT(t);if(Bh(t))return TF(t);if($h(t))return CF(t)}throw Lh(t)}function bF(t){return new _e(e=>{let n=t[Na]();if(ge(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EF(t){return new _e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DF(t){return new _e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ih)})}function TF(t){return new _e(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function vT(t){return new _e(e=>{IF(t,e).catch(n=>e.error(n))})}function CF(t){return vT(jh(t))}function IF(t,e){var n,i,r,s;return WD(this,void 0,void 0,function*(){try{for(n=KD(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function An(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Jn(t,e=0){return De((n,i)=>{n.subscribe(we(i,r=>An(i,t,()=>i.next(r),e),()=>An(i,t,()=>i.complete(),e),r=>An(i,t,()=>i.error(r),e)))})}function gi(t,e=0){return De((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function yT(t,e){return Be(t).pipe(gi(e),Jn(e))}function _T(t,e){return Be(t).pipe(gi(e),Jn(e))}function wT(t,e){return new _e(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function bT(t,e){return new _e(n=>{let i;return An(n,e,()=>{i=t[Vh](),An(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>ge(i?.return)&&i.return()})}function Uh(t,e){if(!t)throw new Error("Iterable cannot be null");return new _e(n=>{An(n,e,()=>{let i=t[Symbol.asyncIterator]();An(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function ET(t,e){return Uh(jh(t),e)}function DT(t,e){if(t!=null){if(kh(t))return yT(t,e);if(ja(t))return wT(t,e);if(Nh(t))return _T(t,e);if(Fh(t))return Uh(t,e);if(Bh(t))return bT(t,e);if($h(t))return ET(t,e)}throw Lh(t)}function $e(t,e){return e?DT(t,e):Be(t)}function he(...t){let e=ji(t);return $e(t,e)}function vi(t,e){let n=ge(t)?t:()=>t,i=r=>r.error(n());return new _e(e?r=>e.schedule(i,0,r):i)}function Tv(t){return!!t&&(t instanceof _e||ge(t.lift)&&ge(t.subscribe))}var wr=Oa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function TT(t){return t instanceof Date&&!isNaN(t)}function de(t,e){return De((n,i)=>{let r=0;n.subscribe(we(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:SF}=Array;function MF(t,e){return SF(e)?t(...e):t(e)}function $a(t){return de(e=>MF(t,e))}var{isArray:xF}=Array,{getPrototypeOf:AF,prototype:OF,keys:RF}=Object;function zh(t){if(t.length===1){let e=t[0];if(xF(e))return{args:e,keys:null};if(PF(e)){let n=RF(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function PF(t){return t&&typeof t=="object"&&AF(t)===OF}function Gh(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function cs(...t){let e=ji(t),n=ls(t),{args:i,keys:r}=zh(t);if(i.length===0)return $e([],e);let s=new _e(NF(i,e,r?o=>Gh(r,o):rn));return n?s.pipe($a(n)):s}function NF(t,e,n=rn){return i=>{CT(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)CT(e,()=>{let c=$e(t[l],e),d=!1;c.subscribe(we(i,h=>{s[l]=h,d||(d=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function CT(t,e,n){t?An(n,t,e):e()}function IT(t,e,n,i,r,s,o,a){let l=[],c=0,d=0,h=!1,f=()=>{h&&!l.length&&!c&&e.complete()},p=w=>c<i?y(w):l.push(w),y=w=>{s&&e.next(w),c++;let _=!1;Be(n(w,d++)).subscribe(we(e,g=>{r?.(g),s?p(g):e.next(g)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){let g=l.shift();o?An(e,o,()=>y(g)):y(g)}f()}catch(g){e.error(g)}}))};return t.subscribe(we(e,p,()=>{h=!0,f()})),()=>{a?.()}}function ut(t,e,n=1/0){return ge(e)?ut((i,r)=>de((s,o)=>e(i,s,r,o))(Be(t(i,r))),n):(typeof e=="number"&&(n=e),De((i,r)=>IT(i,r,t,n)))}function us(t=1/0){return ut(rn,t)}function ST(){return us(1)}function $i(...t){return ST()($e(t,ji(t)))}function Hh(t){return new _e(e=>{Be(t()).subscribe(e)})}function Cv(...t){let e=ls(t),{args:n,keys:i}=zh(t),r=new _e(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let h=!1;Be(n[d]).subscribe(we(s,f=>{h||(h=!0,c--),a[d]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?Gh(i,a):a),s.complete())}))}});return e?r.pipe($a(e)):r}var kF=["addListener","removeListener"],FF=["addEventListener","removeEventListener"],LF=["on","off"];function Wt(t,e,n,i){if(ge(n)&&(i=n,n=void 0),i)return Wt(t,e,n).pipe($a(i));let[r,s]=jF(t)?FF.map(o=>a=>t[o](e,a,n)):VF(t)?kF.map(MT(t,e)):BF(t)?LF.map(MT(t,e)):[];if(!r&&ja(t))return ut(o=>Wt(o,e,n))(Be(t));if(!r)throw new TypeError("Invalid event target");return new _e(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function MT(t,e){return n=>i=>t[n](e,i)}function VF(t){return ge(t.addListener)&&ge(t.removeListener)}function BF(t){return ge(t.on)&&ge(t.off)}function jF(t){return ge(t.addEventListener)&&ge(t.removeEventListener)}function Wc(t=0,e,n=bv){let i=-1;return e!=null&&(Ph(e)?n=e:i=e),new _e(r=>{let s=TT(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function qh(...t){let e=ji(t),n=gT(t,1/0),i=t;return i.length?i.length===1?Be(i[0]):us(n)($e(i,e)):Bt}var{isArray:$F}=Array;function Wh(t){return t.length===1&&$F(t[0])?t[0]:t}function tt(t,e){return De((n,i)=>{let r=0;n.subscribe(we(i,s=>t.call(e,s,r++)&&i.next(s)))})}function Yh(...t){return t=Wh(t),t.length===1?Be(t[0]):new _e(UF(t))}function UF(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(Be(t[i]).subscribe(we(e,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}e.next(r)})))}}function Ua(...t){let e=ls(t),n=Wh(t);return n.length?new _e(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)Be(n[o]).subscribe(we(i,a=>{if(r[o].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(e?e(...l):l),r.some((c,d)=>!c.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Bt}function yi(t){return De((e,n)=>{let i=null,r=!1,s;i=e.subscribe(we(n,void 0,void 0,o=>{s=Be(t(o,yi(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function xT(t,e,n,i,r){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(we(o,d=>{let h=c++;l=a?t(l,d,h):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function br(t,e){return ge(e)?ut(t,e,1):ut(t,1)}function ds(t){return De((e,n)=>{let i=!1;e.subscribe(we(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function wt(t){return t<=0?()=>Bt:De((e,n)=>{let i=0;e.subscribe(we(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function AT(){return De((t,e)=>{t.subscribe(we(e,yr))})}function Yc(t){return de(()=>t)}function Iv(t,e){return e?n=>$i(e.pipe(wt(1),AT()),n.pipe(Iv(t))):ut((n,i)=>Be(t(n,i)).pipe(wt(1),Yc(n)))}function Sv(t,e=as){let n=Wc(t,e);return Iv(()=>n)}function Kh(t,e=rn){return t=t??zF,De((n,i)=>{let r,s=!0;n.subscribe(we(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function zF(t,e){return t===e}function Qh(t=GF){return De((e,n)=>{let i=!1;e.subscribe(we(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function GF(){return new wr}function Mv(...t){return e=>$i(e,he(...t))}function Ui(t){return De((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Zn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?tt((r,s)=>t(r,s,i)):rn,wt(1),n?ds(e):Qh(()=>new wr))}function za(t){return t<=0?()=>Bt:De((e,n)=>{let i=[];e.subscribe(we(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function xv(t,e){let n=arguments.length>=2;return i=>i.pipe(t?tt((r,s)=>t(r,s,i)):rn,za(1),n?ds(e):Qh(()=>new wr))}function Kc(){return De((t,e)=>{let n,i=!1;t.subscribe(we(e,r=>{let s=n;n=r,i&&e.next([s,r]),i=!0}))})}function po(t,e){return De(xT(t,e,arguments.length>=2,!0))}function OT(t={}){let{connector:e=()=>new xe,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,c=0,d=!1,h=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),o=l=void 0,d=h=!1},y=()=>{let w=o;p(),w?.unsubscribe()};return De((w,_)=>{c++,!h&&!d&&f();let g=l=l??e();_.add(()=>{c--,c===0&&!h&&!d&&(a=Av(y,r))}),g.subscribe(_),!o&&c>0&&(o=new _r({next:C=>g.next(C),error:C=>{h=!0,f(),a=Av(p,n,C),g.error(C)},complete:()=>{d=!0,f(),a=Av(p,i),g.complete()}}),Be(w).subscribe(o))})(s)}}function Av(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new _r({next:()=>{i.unsubscribe(),t()}});return Be(e(...n)).subscribe(i)}function Xh(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,OT({connector:()=>new xh(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function hs(...t){let e=ji(t);return De((n,i)=>{(e?$i(t,n,e):$i(t,n)).subscribe(i)})}function st(t,e){return De((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(we(i,l=>{r?.unsubscribe();let c=0,d=s++;Be(t(l,d)).subscribe(r=we(i,h=>i.next(e?e(l,h,d,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Jh(t,e){return ge(e)?st(()=>t,e):st(()=>t)}function bt(t){return De((e,n)=>{Be(t).subscribe(we(n,()=>n.complete(),yr)),!n.closed&&e.subscribe(n)})}function Je(t,e,n){let i=ge(t)||e||n?{next:t,error:e,complete:n}:t;return i?De((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(we(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):rn}function Qc(...t){let e=ls(t);return De((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let l=0;l<r;l++)Be(t[l]).subscribe(we(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(rn))&&(o=null))},yr));n.subscribe(we(i,l=>{if(a){let c=[l,...s];i.next(e?e(...c):c)}}))})}var HF="https://g.co/ng/security#xss",fe=class extends Error{constructor(e,n){super(Of(e,n)),this.code=e}};function Of(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function uu(t){return{toString:t}.toString()}var Zh="__parameters__";function qF(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function hC(t,e,n){return uu(()=>{let i=qF(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,d){let h=l.hasOwnProperty(Zh)?l[Zh]:Object.defineProperty(l,Zh,{value:[]})[Zh];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var sn=globalThis;function nt(t){for(let e in t)if(t[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function WF(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function bn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(bn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YF=nt({__forward_ref__:nt});function Mr(t){return t.__forward_ref__=Mr,t.toString=function(){return bn(this())},t}function wn(t){return fC(t)?t():t}function fC(t){return typeof t=="function"&&t.hasOwnProperty(YF)&&t.__forward_ref__===Mr}function te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ie(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rf(t){return RT(t,mC)||RT(t,gC)}function pC(t){return Rf(t)!==null}function RT(t,e){return t.hasOwnProperty(e)?t[e]:null}function KF(t){let e=t&&(t[mC]||t[gC]);return e||null}function PT(t){return t&&(t.hasOwnProperty(NT)||t.hasOwnProperty(QF))?t[NT]:null}var mC=nt({\u0275prov:nt}),NT=nt({\u0275inj:nt}),gC=nt({ngInjectableDef:nt}),QF=nt({ngInjectorDef:nt}),re=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vC(t){return t&&!!t.\u0275providers}var XF=nt({\u0275cmp:nt}),JF=nt({\u0275dir:nt}),ZF=nt({\u0275pipe:nt}),eL=nt({\u0275mod:nt}),uf=nt({\u0275fac:nt}),Xc=nt({__NG_ELEMENT_ID__:nt}),kT=nt({__NG_ENV_ID__:nt});function Vy(t){return typeof t=="string"?t:t==null?"":String(t)}function tL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vy(t)}function nL(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new fe(-200,t)}function By(t,e){throw new fe(-201,!1)}var Le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Le||{}),Wv;function yC(){return Wv}function On(t){let e=Wv;return Wv=t,e}function _C(t,e,n){let i=Rf(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Le.Optional)return null;if(e!==void 0)return e;By(t,"Injector")}var iL={},Zc=iL,Yv="__NG_DI_FLAG__",df="ngTempTokenPath",rL="ngTokenPath",sL=/\n/gm,oL="\u0275",FT="__source",Ya;function aL(){return Ya}function fs(t){let e=Ya;return Ya=t,e}function lL(t,e=Le.Default){if(Ya===void 0)throw new fe(-203,!1);return Ya===null?_C(t,void 0,e):Ya.get(t,e&Le.Optional?null:void 0,e)}function q(t,e=Le.Default){return(yC()||lL)(wn(t),e)}function U(t,e=Le.Default){return q(t,Pf(e))}function Pf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kv(t){let e=[];for(let n=0;n<t.length;n++){let i=wn(t[n]);if(Array.isArray(i)){if(i.length===0)throw new fe(900,!1);let r,s=Le.Default;for(let o=0;o<i.length;o++){let a=i[o],l=cL(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(q(r,s))}else e.push(q(i))}return e}function wC(t,e){return t[Yv]=e,t.prototype[Yv]=e,t}function cL(t){return t[Yv]}function uL(t,e,n,i){let r=t[df];throw e[FT]&&r.unshift(e[FT]),t.message=dL(`
`+t.message,r,n,i),t[rL]=r,t[df]=null,t}function dL(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==oL?t.slice(2):t;let r=bn(e);if(Array.isArray(e))r=e.map(bn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):bn(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(sL,`
  `)}`}var du=wC(hC("Optional"),8);var bC=wC(hC("SkipSelf"),4);function yo(t,e){let n=t.hasOwnProperty(uf);return n?t[uf]:null}function hL(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function fL(t){return t.flat(Number.POSITIVE_INFINITY)}function jy(t,e){t.forEach(n=>Array.isArray(n)?jy(n,e):e(n))}function EC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pL(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function mL(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function $y(t,e,n){let i=hu(t,e);return i>=0?t[i|1]=n:(i=~i,mL(t,i,e,n)),i}function Ov(t,e){let n=hu(t,e);if(n>=0)return t[n|1]}function hu(t,e){return gL(t,e,1)}function gL(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var Qa={},Rn=[],Xa=new re(""),DC=new re("",-1),TC=new re(""),ff=class{get(e,n=Zc){if(n===Zc){let i=new Error(`NullInjectorError: No provider for ${bn(e)}!`);throw i.name="NullInjectorError",i}return n}},CC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(CC||{}),Hi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hi||{}),En=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(En||{});function vL(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function Qv(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];_L(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function yL(t){return t===3||t===4||t===6}function _L(t){return t.charCodeAt(0)===64}function eu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?LT(t,n,r,null,e[++i]):LT(t,n,r,null,null))}}return t}function LT(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var IC="ng-template";function wL(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&vL(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Uy(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Uy(t){return t.type===4&&t.value!==IC}function bL(t,e,n){let i=t.type===4&&!n?IC:t.value;return e===i}function EL(t,e,n){let i=4,r=t.attrs,s=r!==null?CL(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!_i(i)&&!_i(l))return!1;if(o&&_i(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!bL(t,l,n)||l===""&&e.length===1){if(_i(i))return!1;o=!0}}else if(i&8){if(r===null||!wL(t,r,l,n)){if(_i(i))return!1;o=!0}}else{let c=e[++a],d=DL(l,r,Uy(t),n);if(d===-1){if(_i(i))return!1;o=!0;continue}if(c!==""){let h;if(d>s?h="":h=r[d+1].toLowerCase(),i&2&&c!==h){if(_i(i))return!1;o=!0}}}}return _i(i)||o}function _i(t){return(t&1)===0}function DL(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return IL(e,t)}function SC(t,e,n=!1){for(let i=0;i<e.length;i++)if(EL(t,e[i],n))return!0;return!1}function TL(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function CL(t){for(let e=0;e<t.length;e++){let n=t[e];if(yL(n))return e}return t.length}function IL(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function SL(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function VT(t,e){return t?":not("+e.trim()+")":e}function ML(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!_i(o)&&(e+=VT(s,r),r=""),i=o,s=s||!_i(i);n++}return r!==""&&(e+=VT(s,r)),e}function xL(t){return t.map(ML).join(",")}function AL(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!_i(r))break;r=s}i++}return{attrs:e,classes:n}}function dt(t){return uu(()=>{let e=RC(t),n=Fe(K({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===CC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hi.Emulated,styles:t.styles||Rn,_:null,schemas:t.schemas||null,tView:null,id:""});PC(n);let i=t.dependencies;return n.directiveDefs=jT(i,!1),n.pipeDefs=jT(i,!0),n.id=PL(n),n})}function OL(t){return Er(t)||MC(t)}function RL(t){return t!==null}function Se(t){return uu(()=>({type:t.type,bootstrap:t.bootstrap||Rn,declarations:t.declarations||Rn,imports:t.imports||Rn,exports:t.exports||Rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function BT(t,e){if(t==null)return Qa;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=En.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==En.None?[i,a]:i,e[s]=o):n[s]=i}return n}function Et(t){return uu(()=>{let e=RC(t);return PC(e),e})}function fu(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Er(t){return t[XF]||null}function MC(t){return t[JF]||null}function xC(t){return t[ZF]||null}function AC(t){let e=Er(t)||MC(t)||xC(t);return e!==null?e.standalone:!1}function OC(t,e){let n=t[eL]||null;if(!n&&e===!0)throw new Error(`Type ${bn(t)} does not have '\u0275mod' property.`);return n}function RC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BT(t.inputs,e),outputs:BT(t.outputs),debugInfo:null}}function PC(t){t.features?.forEach(e=>e(t))}function jT(t,e){if(!t)return null;let n=e?xC:OL;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(RL)}function PL(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Nf(t){return{\u0275providers:t}}function NL(...t){return{\u0275providers:NC(!0,t),\u0275fromNgModule:!0}}function NC(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return jy(e,o=>{let a=o;Xv(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&kC(r,s),n}function kC(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];zy(r,s=>{e(s,i)})}}function Xv(t,e,n,i){if(t=wn(t),!t)return!1;let r=null,s=PT(t),o=!s&&Er(t);if(!s&&!o){let l=t.ngModule;if(s=PT(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Xv(c,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{jy(s.imports,d=>{Xv(d,e,n,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&kC(c,e)}if(!a){let c=yo(r)||(()=>new r);e({provide:r,useFactory:c,deps:Rn},r),e({provide:TC,useValue:r,multi:!0},r),e({provide:Xa,useValue:()=>q(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=t;zy(l,d=>{e(d,c)})}}else return!1;return r!==t&&t.providers!==void 0}function zy(t,e){for(let n of t)vC(n)&&(n=n.\u0275providers),Array.isArray(n)?zy(n,e):e(n)}var kL=nt({provide:String,useValue:nt});function FC(t){return t!==null&&typeof t=="object"&&kL in t}function FL(t){return!!(t&&t.useExisting)}function LL(t){return!!(t&&t.useFactory)}function Ja(t){return typeof t=="function"}function VL(t){return!!t.useClass}var kf=new re(""),rf={},BL={},Rv;function Ff(){return Rv===void 0&&(Rv=new ff),Rv}var jt=class{},tu=class extends jt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zv(e,o=>this.processProvider(o)),this.records.set(DC,Ga(void 0,this)),r.has("environment")&&this.records.set(jt,Ga(void 0,this));let s=this.records.get(kf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(TC,Rn,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=qe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),qe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=fs(this),i=On(void 0),r;try{return e()}finally{fs(n),On(i)}}get(e,n=Zc,i=Le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(kT))return e[kT](this);i=Pf(i);let r,s=fs(this),o=On(void 0);try{if(!(i&Le.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=GL(e)&&Rf(e);c&&this.injectableDefInScope(c)?l=Ga(Jv(e),rf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Le.Self?Ff():this.parent;return n=i&Le.Optional&&n===Zc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[df]=a[df]||[]).unshift(bn(e)),s)throw a;return uL(a,e,"R3InjectorError",this.source)}else throw a}finally{On(o),fs(s)}}resolveInjectorInitializers(){let e=qe(null),n=fs(this),i=On(void 0),r;try{let s=this.get(Xa,Rn,Le.Self);for(let o of s)o()}finally{fs(n),On(i),qe(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(bn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(e){e=wn(e);let n=Ja(e)?e:wn(e&&e.provide),i=$L(e);if(!Ja(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ga(void 0,rf,!0),r.factory=()=>Kv(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=qe(null);try{return n.value===rf&&(n.value=BL,n.value=n.factory()),typeof n.value=="object"&&n.value&&zL(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{qe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=wn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Jv(t){let e=Rf(t),n=e!==null?e.factory:yo(t);if(n!==null)return n;if(t instanceof re)throw new fe(204,!1);if(t instanceof Function)return jL(t);throw new fe(204,!1)}function jL(t){if(t.length>0)throw new fe(204,!1);let n=KF(t);return n!==null?()=>n.factory(t):()=>new t}function $L(t){if(FC(t))return Ga(void 0,t.useValue);{let e=LC(t);return Ga(e,rf)}}function LC(t,e,n){let i;if(Ja(t)){let r=wn(t);return yo(r)||Jv(r)}else if(FC(t))i=()=>wn(t.useValue);else if(LL(t))i=()=>t.useFactory(...Kv(t.deps||[]));else if(FL(t))i=()=>q(wn(t.useExisting));else{let r=wn(t&&(t.useClass||t.provide));if(UL(t))i=()=>new r(...Kv(t.deps));else return yo(r)||Jv(r)}return i}function Ga(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UL(t){return!!t.deps}function zL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GL(t){return typeof t=="function"||typeof t=="object"&&t instanceof re}function Zv(t,e){for(let n of t)Array.isArray(n)?Zv(n,e):n&&vC(n)?Zv(n.\u0275providers,e):e(n)}function Ti(t,e){t instanceof tu&&t.assertNotDestroyed();let n,i=fs(t),r=On(void 0);try{return e()}finally{fs(i),On(r)}}function VC(){return yC()!==void 0||aL()!=null}function HL(t){if(!VC())throw new fe(-203,!1)}function qL(t){let e=sn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function WL(t){return typeof t=="function"}var xr=0,Re=1,be=2,on=3,bi=4,Gn=5,nu=6,iu=7,Ei=8,Za=9,qi=10,At=11,ru=12,$T=13,nl=14,Di=15,pu=16,Ha=17,Dr=18,Lf=19,BC=20,ps=21,Pv=22,_o=23,zn=25,jC=1;var wo=7,pf=8,el=9,Un=10,Gy=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Gy||{});function go(t){return Array.isArray(t)&&typeof t[jC]=="object"}function Ar(t){return Array.isArray(t)&&t[jC]===!0}function $C(t){return(t.flags&4)!==0}function Vf(t){return t.componentOffset>-1}function Hy(t){return(t.flags&1)===1}function ms(t){return!!t.template}function YL(t){return(t[be]&512)!==0}var ey=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function UC(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Ki(){return zC}function zC(t){return t.type.prototype.ngOnChanges&&(t.setInput=QL),KL}Ki.ngInherit=!0;function KL(){let t=HC(this),e=t?.current;if(e){let n=t.previous;if(n===Qa)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function QL(t,e,n,i,r){let s=this.declaredInputs[i],o=HC(t)||XL(t,{previous:Qa,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new ey(c&&c.currentValue,n,l===Qa),UC(t,e,r,n)}var GC="__ngSimpleChanges__";function HC(t){return t[GC]||null}function XL(t,e){return t[GC]=e}var UT=null;var zi=function(t,e,n){UT?.(t,e,n)},JL="svg",ZL="math",eV=!1;function tV(){return eV}function Wi(t){for(;Array.isArray(t);)t=t[xr];return t}function qC(t,e){return Wi(e[t])}function ei(t,e){return Wi(e[t.index])}function WC(t,e){return t.data[e]}function qy(t,e){return t[e]}function vs(t,e){let n=e[t];return go(n)?n:n[xr]}function nV(t){return(t[be]&4)===4}function Wy(t){return(t[be]&128)===128}function iV(t){return Ar(t[on])}function mf(t,e){return e==null?null:t[e]}function YC(t){t[Ha]=0}function rV(t){t[be]&1024||(t[be]|=1024,Wy(t)&&su(t))}function sV(t,e){for(;t>0;)e=e[nl],t--;return e}function Yy(t){return!!(t[be]&9216||t[_o]?.dirty)}function ty(t){t[qi].changeDetectionScheduler?.notify(1),Yy(t)?su(t):t[be]&64&&(tV()?(t[be]|=1024,su(t)):t[qi].changeDetectionScheduler?.notify())}function su(t){t[qi].changeDetectionScheduler?.notify();let e=ou(t);for(;e!==null&&!(e[be]&8192||(e[be]|=8192,!Wy(e)));)e=ou(e)}function KC(t,e){if((t[be]&256)===256)throw new fe(911,!1);t[ps]===null&&(t[ps]=[]),t[ps].push(e)}function oV(t,e){if(t[ps]===null)return;let n=t[ps].indexOf(e);n!==-1&&t[ps].splice(n,1)}function ou(t){let e=t[on];return Ar(e)?e[on]:e}var Ne={lFrame:oI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function aV(){return Ne.lFrame.elementDepthCount}function lV(){Ne.lFrame.elementDepthCount++}function cV(){Ne.lFrame.elementDepthCount--}function QC(){return Ne.bindingsEnabled}function XC(){return Ne.skipHydrationRootTNode!==null}function uV(t){return Ne.skipHydrationRootTNode===t}function dV(){Ne.skipHydrationRootTNode=null}function We(){return Ne.lFrame.lView}function Yt(){return Ne.lFrame.tView}function Mo(t){return Ne.lFrame.contextLView=t,t[Ei]}function xo(t){return Ne.lFrame.contextLView=null,t}function Hn(){let t=JC();for(;t!==null&&t.type===64;)t=t.parent;return t}function JC(){return Ne.lFrame.currentTNode}function hV(){let t=Ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function mu(t,e){let n=Ne.lFrame;n.currentTNode=t,n.isParent=e}function ZC(){return Ne.lFrame.isParent}function eI(){Ne.lFrame.isParent=!1}function fV(){return Ne.lFrame.contextLView}function tI(){let t=Ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pV(t){return Ne.lFrame.bindingIndex=t}function Bf(){return Ne.lFrame.bindingIndex++}function nI(t){let e=Ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mV(){return Ne.lFrame.inI18n}function gV(t,e){let n=Ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,ny(e)}function vV(){return Ne.lFrame.currentDirectiveIndex}function ny(t){Ne.lFrame.currentDirectiveIndex=t}function yV(t){let e=Ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function iI(){return Ne.lFrame.currentQueryIndex}function Ky(t){Ne.lFrame.currentQueryIndex=t}function _V(t){let e=t[Re];return e.type===2?e.declTNode:e.type===1?t[Gn]:null}function rI(t,e,n){if(n&Le.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&Le.Host);)if(r=_V(s),r===null||(s=s[nl],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=Ne.lFrame=sI();return i.currentTNode=e,i.lView=t,!0}function Qy(t){let e=sI(),n=t[Re];Ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sI(){let t=Ne.lFrame,e=t===null?null:t.child;return e===null?oI(t):e}function oI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aI(){let t=Ne.lFrame;return Ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lI=aI;function Xy(){let t=aI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wV(t){return(Ne.lFrame.contextLView=sV(t,Ne.lFrame.contextLView))[Ei]}function Ao(){return Ne.lFrame.selectedIndex}function bo(t){Ne.lFrame.selectedIndex=t}function Jy(){let t=Ne.lFrame;return WC(t.tView,t.selectedIndex)}function bV(){return Ne.lFrame.currentNamespace}var cI=!0;function Zy(){return cI}function e0(t){cI=t}function EV(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=zC(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function t0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function sf(t,e,n){uI(t,e,3,n)}function of(t,e,n,i){(t[be]&3)===n&&uI(t,e,n,i)}function Nv(t,e){let n=t[be];(n&3)===e&&(n&=16383,n+=1,t[be]=n)}function uI(t,e,n,i){let r=i!==void 0?t[Ha]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[Ha]+=65536),(a<s||s==-1)&&(DV(t,n,e,l),t[Ha]=(t[Ha]&4294901760)+l+2),l++}function zT(t,e){zi(4,t,e);let n=qe(null);try{e.call(t)}finally{qe(n),zi(5,t,e)}}function DV(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[be]>>14<t[Ha]>>16&&(t[be]&3)===e&&(t[be]+=16384,zT(a,s)):zT(a,s)}var Ka=-1,Eo=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function TV(t){return t instanceof Eo}function CV(t){return(t.flags&8)!==0}function IV(t){return(t.flags&16)!==0}function dI(t){return t!==Ka}function gf(t){return t&32767}function SV(t){return t>>16}function vf(t,e){let n=SV(t),i=e;for(;n>0;)i=i[nl],n--;return i}var iy=!0;function yf(t){let e=iy;return iy=t,e}var MV=256,hI=MV-1,fI=5,xV=0,Gi={};function AV(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Xc)&&(i=n[Xc]),i==null&&(i=n[Xc]=xV++);let r=i&hI,s=1<<r;e.data[t+(r>>fI)]|=s}function _f(t,e){let n=pI(t,e);if(n!==-1)return n;let i=e[Re];i.firstCreatePass&&(t.injectorIndex=e.length,kv(i.data,t),kv(e,null),kv(i.blueprint,null));let r=n0(t,e),s=t.injectorIndex;if(dI(r)){let o=gf(r),a=vf(r,e),l=a[Re].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function kv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function n0(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=_I(r),i===null)return Ka;if(n++,r=r[nl],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ka}function ry(t,e,n){AV(t,e,n)}function mI(t,e,n){if(n&Le.Optional||t!==void 0)return t;By(e,"NodeInjector")}function gI(t,e,n,i){if(n&Le.Optional&&i===void 0&&(i=null),!(n&(Le.Self|Le.Host))){let r=t[Za],s=On(void 0);try{return r?r.get(e,i,n&Le.Optional):_C(e,i,n&Le.Optional)}finally{On(s)}}return mI(i,e,n)}function vI(t,e,n,i=Le.Default,r){if(t!==null){if(e[be]&2048&&!(i&Le.Self)){let o=NV(t,e,n,i,Gi);if(o!==Gi)return o}let s=yI(t,e,n,i,Gi);if(s!==Gi)return s}return gI(e,n,i,r)}function yI(t,e,n,i,r){let s=RV(n);if(typeof s=="function"){if(!rI(e,t,i))return i&Le.Host?mI(r,n,i):gI(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&Le.Optional))By(n);else return o}finally{lI()}}else if(typeof s=="number"){let o=null,a=pI(t,e),l=Ka,c=i&Le.Host?e[Di][Gn]:null;for((a===-1||i&Le.SkipSelf)&&(l=a===-1?n0(t,e):e[a+8],l===Ka||!HT(i,!1)?a=-1:(o=e[Re],a=gf(l),e=vf(l,e)));a!==-1;){let d=e[Re];if(GT(s,a,d.data)){let h=OV(a,e,n,o,i,c);if(h!==Gi)return h}l=e[a+8],l!==Ka&&HT(i,e[Re].data[a+8]===c)&&GT(s,a,e)?(o=d,a=gf(l),e=vf(l,e)):a=-1}}return r}function OV(t,e,n,i,r,s){let o=e[Re],a=o.data[t+8],l=i==null?Vf(a)&&iy:i!=o&&(a.type&3)!==0,c=r&Le.Host&&s===a,d=af(a,o,n,l,c);return d!==null?Do(e,o,d,a):Gi}function af(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,d=s>>20,h=i?a:a+d,f=r?a+d:c;for(let p=h;p<f;p++){let y=o[p];if(p<l&&n===y||p>=l&&y.type===n)return p}if(r){let p=o[l];if(p&&ms(p)&&p.type===n)return l}return null}function Do(t,e,n,i){let r=t[n],s=e.data;if(TV(r)){let o=r;o.resolving&&nL(tL(s[n]));let a=yf(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?On(o.injectImpl):null,d=rI(t,i,Le.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&EV(n,s[n],e)}finally{c!==null&&On(c),yf(a),o.resolving=!1,lI()}}return r}function RV(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xc)?t[Xc]:void 0;return typeof e=="number"?e>=0?e&hI:PV:e}function GT(t,e,n){let i=1<<t;return!!(n[e+(t>>fI)]&i)}function HT(t,e){return!(t&Le.Self)&&!(t&Le.Host&&e)}var vo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return vI(this._tNode,this._lView,e,Pf(i),n)}};function PV(){return new vo(Hn(),We())}function ys(t){return uu(()=>{let e=t.prototype.constructor,n=e[uf]||sy(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[uf]||sy(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function sy(t){return fC(t)?()=>{let e=sy(wn(t));return e&&e()}:yo(t)}function NV(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[be]&2048&&!(o[be]&512);){let a=yI(s,o,n,i|Le.Self,Gi);if(a!==Gi)return a;let l=s.parent;if(!l){let c=o[BC];if(c){let d=c.get(n,Gi,i);if(d!==Gi)return d}l=_I(o),o=o[nl]}s=l}return r}function _I(t){let e=t[Re],n=e.type;return n===2?e.declTNode:n===1?t[Gn]:null}function qT(t,e=null,n=null,i){let r=wI(t,e,n,i);return r.resolveInjectorInitializers(),r}function wI(t,e=null,n=null,i,r=new Set){let s=[n||Rn,NL(t)];return i=i||(typeof t=="object"?void 0:bn(t)),new tu(s,e||Ff(),i||null,r)}var Kt=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return qT({name:""},r,i,"");{let s=i.name??"";return qT({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=Zc,e.NULL=new ff,e.\u0275prov=te({token:e,providedIn:"any",factory:()=>q(DC)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var kV="ngOriginalError";function Fv(t){return t[kV]}var Yi=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fv(e);for(;n&&Fv(n);)n=Fv(n);return n||null}},bI=new re("",{providedIn:"root",factory:()=>U(Yi).handleError.bind(void 0)}),jf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FV,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),oy=class extends jf{constructor(e){super(),this._lView=e}onDestroy(e){return KC(this._lView,e),()=>oV(this._lView,e)}};function FV(){return new oy(We())}function LV(){return il(Hn(),We())}function il(t,e){return new $t(ei(t,e))}var $t=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=LV;let t=e;return t})();function VV(t){return t instanceof $t?t.nativeElement:t}var ay=class extends xe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,VC()&&(this.destroyRef=U(jf,{optional:!0})??void 0)}emit(e){let n=qe(null);try{super.next(e)}finally{qe(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Lv(s),r&&(r=Lv(r)),o&&(o=Lv(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ct&&e.add(a),a}};function Lv(t){return e=>{setTimeout(t,void 0,e)}}var Ze=ay;function BV(){return this._results[Symbol.iterator]()}var ly=class t{get changes(){return this._changes??=new Ze}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=BV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=fL(e);(this._changesDetected=!hL(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function EI(t){return(t.flags&128)===128}var DI=new Map,jV=0;function $V(){return jV++}function UV(t){DI.set(t[Lf],t)}function zV(t){DI.delete(t[Lf])}var WT="__ngContext__";function To(t,e){go(e)?(t[WT]=e[Lf],UV(e)):t[WT]=e}function TI(t){return II(t[ru])}function CI(t){return II(t[bi])}function II(t){for(;t!==null&&!Ar(t);)t=t[bi];return t}var cy;function SI(t){cy=t}function GV(){if(cy!==void 0)return cy;if(typeof document<"u")return document;throw new fe(210,!1)}var $f=new re("",{providedIn:"root",factory:()=>HV}),HV="ng",i0=new re(""),an=new re("",{providedIn:"platform",factory:()=>"unknown"});var r0=new re("",{providedIn:"root",factory:()=>GV().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qV="h",WV="b";var YV=()=>null;function s0(t,e,n=!1){return YV(t,e,n)}var MI=!1,KV=new re("",{providedIn:"root",factory:()=>MI});var uy=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${HF})`}};function Uf(t){return t instanceof uy?t.changingThisBreaksApplicationSecurity:t}function xI(t){return t instanceof Function?t():t}function QV(t){return(t??U(Kt)).get(an)==="browser"}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tr||{}),XV;function o0(t,e){return XV(t,e)}function qa(t,e,n,i,r){if(i!=null){let s,o=!1;Ar(i)?s=i:go(i)&&(o=!0,i=i[xr]);let a=Wi(i);t===0&&n!==null?r==null?kI(e,n,a):wf(e,n,a,r||null,!0):t===1&&n!==null?wf(e,n,a,r||null,!0):t===2?h2(e,a,o):t===3&&e.destroyNode(a),s!=null&&p2(e,t,s,n,r)}}function JV(t,e){return t.createText(e)}function ZV(t,e,n){t.setValue(e,n)}function AI(t,e,n){return t.createElement(e,n)}function e2(t,e){OI(t,e),e[xr]=null,e[Gn]=null}function t2(t,e,n,i,r,s){i[xr]=r,i[Gn]=e,zf(t,i,n,1,r,s)}function OI(t,e){e[qi].changeDetectionScheduler?.notify(1),zf(t,e,e[At],2,null,null)}function n2(t){let e=t[ru];if(!e)return Vv(t[Re],t);for(;e;){let n=null;if(go(e))n=e[ru];else{let i=e[Un];i&&(n=i)}if(!n){for(;e&&!e[bi]&&e!==t;)go(e)&&Vv(e[Re],e),e=e[on];e===null&&(e=t),go(e)&&Vv(e[Re],e),n=e&&e[bi]}e=n}}function i2(t,e,n,i){let r=Un+i,s=n.length;i>0&&(n[r-1][bi]=e),i<s-Un?(e[bi]=n[r],EC(n,Un+i,e)):(n.push(e),e[bi]=null),e[on]=n;let o=e[pu];o!==null&&n!==o&&r2(o,e);let a=e[Dr];a!==null&&a.insertView(t),ty(e),e[be]|=128}function r2(t,e){let n=t[el],r=e[on][on][Di];e[Di]!==r&&(t[be]|=Gy.HasTransplantedViews),n===null?t[el]=[e]:n.push(e)}function RI(t,e){let n=t[el],i=n.indexOf(e);n.splice(i,1)}function dy(t,e){if(t.length<=Un)return;let n=Un+e,i=t[n];if(i){let r=i[pu];r!==null&&r!==t&&RI(r,i),e>0&&(t[n-1][bi]=i[bi]);let s=hf(t,Un+e);e2(i[Re],i);let o=s[Dr];o!==null&&o.detachView(s[Re]),i[on]=null,i[bi]=null,i[be]&=-129}return i}function PI(t,e){if(!(e[be]&256)){let n=e[At];n.destroyNode&&zf(t,e,n,3,null,null),n2(e)}}function Vv(t,e){if(e[be]&256)return;let n=qe(null);try{e[be]&=-129,e[be]|=256,e[_o]&&aT(e[_o]),o2(t,e),s2(t,e),e[Re].type===1&&e[At].destroy();let i=e[pu];if(i!==null&&Ar(e[on])){i!==e[on]&&RI(i,e);let r=e[Dr];r!==null&&r.detachView(t)}zV(e)}finally{qe(n)}}function s2(t,e){let n=t.cleanup,i=e[iu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[iu]=null);let r=e[ps];if(r!==null){e[ps]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function o2(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Eo)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];zi(4,a,l);try{l.call(a)}finally{zi(5,a,l)}}else{zi(4,r,s);try{s.call(r)}finally{zi(5,r,s)}}}}}function NI(t,e,n){return a2(t,e.parent,n)}function a2(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[xr];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===Hi.None||s===Hi.Emulated)return null}return ei(i,n)}}function wf(t,e,n,i,r){t.insertBefore(e,n,i,r)}function kI(t,e,n){t.appendChild(e,n)}function YT(t,e,n,i,r){i!==null?wf(t,e,n,i,r):kI(t,e,n)}function l2(t,e,n,i){t.removeChild(e,n,i)}function a0(t,e){return t.parentNode(e)}function c2(t,e){return t.nextSibling(e)}function FI(t,e,n){return d2(t,e,n)}function u2(t,e,n){return t.type&40?ei(t,n):null}var d2=u2,KT;function l0(t,e,n,i){let r=NI(t,i,e),s=e[At],o=i.parent||e[Gn],a=FI(o,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)YT(s,r,n[l],a,!1);else YT(s,r,n,a,!1);KT!==void 0&&KT(s,i,e,n,r)}function lf(t,e){if(e!==null){let n=e.type;if(n&3)return ei(e,t);if(n&4)return hy(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return lf(t,i);{let r=t[e.index];return Ar(r)?hy(-1,r):Wi(r)}}else{if(n&32)return o0(e,t)()||Wi(t[e.index]);{let i=LI(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=ou(t[Di]);return lf(r,i)}else return lf(t,e.next)}}}return null}function LI(t,e){if(e!==null){let i=t[Di][Gn],r=e.projection;return i.projection[r]}return null}function hy(t,e){let n=Un+t+1;if(n<e.length){let i=e[n],r=i[Re].firstChild;if(r!==null)return lf(i,r)}return e[wo]}function h2(t,e,n){let i=a0(t,e);i&&l2(t,i,e,n)}function c0(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],l=n.type;if(o&&e===0&&(a&&To(Wi(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)c0(t,e,n.child,i,r,s,!1),qa(e,t,r,a,s);else if(l&32){let c=o0(n,i),d;for(;d=c();)qa(e,t,r,d,s);qa(e,t,r,a,s)}else l&16?VI(t,e,i,n,r,s):qa(e,t,r,a,s);n=o?n.projectionNext:n.next}}function zf(t,e,n,i,r,s){c0(n,i,t.firstChild,e,r,s,!1)}function f2(t,e,n){let i=e[At],r=NI(t,n,e),s=n.parent||e[Gn],o=FI(s,n,e);VI(i,0,e,n,r,o)}function VI(t,e,n,i,r,s){let o=n[Di],l=o[Gn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];qa(e,t,r,d,s)}else{let c=l,d=o[on];EI(i)&&(c.flags|=128),c0(t,e,c,d,r,s,!0)}}function p2(t,e,n,i,r){let s=n[wo],o=Wi(n);s!==o&&qa(e,t,i,s,r);for(let a=Un;a<n.length;a++){let l=n[a];zf(l[Re],l,t,e,i,s)}}function m2(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Tr.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Tr.Important),t.setStyle(n,i,r,s))}}function g2(t,e,n){t.setAttribute(e,"style",n)}function BI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jI(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&Qv(t,e,i),r!==null&&BI(t,e,r),s!==null&&g2(t,e,s)}var Or={};function ye(t=1){$I(Yt(),We(),Ao()+t,!1)}function $I(t,e,n,i){if(!i)if((e[be]&3)===3){let s=t.preOrderCheckHooks;s!==null&&sf(e,s,n)}else{let s=t.preOrderHooks;s!==null&&of(e,s,0,n)}bo(n)}function Pe(t,e=Le.Default){let n=We();if(n===null)return q(t,e);let i=Hn();return vI(i,n,wn(t),e)}function UI(){let t="invalid";throw new Error(t)}function zI(t,e,n,i,r,s){let o=qe(null);try{let a=null;r&En.SignalBased&&(a=e[i][iT]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&En.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):UC(e,a,i,s)}finally{qe(o)}}function v2(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)bo(~r);else{let s=r,o=n[++i],a=n[++i];gV(o,s);let l=e[s];a(2,l)}}}finally{bo(-1)}}function Gf(t,e,n,i,r,s,o,a,l,c,d){let h=e.blueprint.slice();return h[xr]=r,h[be]=i|4|128|8|64,(c!==null||t&&t[be]&2048)&&(h[be]|=2048),YC(h),h[on]=h[nl]=t,h[Ei]=n,h[qi]=o||t&&t[qi],h[At]=a||t&&t[At],h[Za]=l||t&&t[Za]||null,h[Gn]=s,h[Lf]=$V(),h[nu]=d,h[BC]=c,h[Di]=e.type==2?t[Di]:h,h}function gu(t,e,n,i,r){let s=t.data[e];if(s===null)s=y2(t,e,n,i,r),mV()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=hV();s.injectorIndex=o===null?-1:o.injectorIndex}return mu(s,!0),s}function y2(t,e,n,i,r){let s=JC(),o=ZC(),a=o?s:s&&s.parent,l=t.data[e]=T2(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function GI(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function HI(t,e,n,i,r){let s=Ao(),o=i&2;try{bo(-1),o&&e.length>zn&&$I(t,e,zn,!1),zi(o?2:0,r),n(i,r)}finally{bo(s),zi(o?3:1,r)}}function qI(t,e,n){if($C(e)){let i=qe(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{qe(i)}}}function WI(t,e,n){QC()&&(A2(t,e,n,ei(n,e)),(n.flags&64)===64&&ZI(t,e,n))}function YI(t,e,n=ei){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function KI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=u0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function u0(t,e,n,i,r,s,o,a,l,c,d){let h=zn+i,f=h+r,p=_2(h,f),y=typeof c=="function"?c():c;return p[Re]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function _2(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Or);return n}function w2(t,e,n,i){let s=i.get(KV,MI)||n===Hi.ShadowDom,o=t.selectRootElement(e,s);return b2(o),o}function b2(t){E2(t)}var E2=()=>null;function D2(t,e,n,i){let r=nS(e);r.push(n),t.firstCreatePass&&iS(t).push(i,r.length-1)}function T2(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return XC()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function QT(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=En.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}t===0?XT(i,n,c,a,l):XT(i,n,c,a)}return i}function XT(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function C2(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let d=i;d<r;d++){let h=s[d],f=n?n.get(h):null,p=f?f.inputs:null,y=f?f.outputs:null;l=QT(0,h.inputs,d,l,p),c=QT(1,h.outputs,d,c,y);let w=l!==null&&o!==null&&!Uy(e)?$2(l,d,o):null;a.push(w)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function I2(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function QI(t,e,n,i,r,s,o,a){let l=ei(e,n),c=e.inputs,d;!a&&c!=null&&(d=c[i])?(d0(t,n,d,i,r),Vf(e)&&S2(n,e.index)):e.type&3?(i=I2(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function S2(t,e){let n=vs(e,t);n[be]&16||(n[be]|=64)}function XI(t,e,n,i){if(QC()){let r=i===null?null:{"":-1},s=R2(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&JI(t,e,n,o,r,a),r&&P2(n,i,r)}n.mergedAttrs=eu(n.mergedAttrs,n.attrs)}function JI(t,e,n,i,r,s){for(let c=0;c<i.length;c++)ry(_f(n,e),t,i[c].type);k2(n,t.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=GI(t,e,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];n.mergedAttrs=eu(n.mergedAttrs,d.hostAttrs),F2(t,n,e,l,d),N2(l,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}C2(t,n,s)}function M2(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;x2(o)!=a&&o.push(a),o.push(n,i,s)}}function x2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function A2(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Vf(n)&&L2(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||_f(n,e),To(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let l=t.data[a],c=Do(e,t,a,n);if(To(c,e),o!==null&&j2(e,a-r,c,l,n,o),ms(l)){let d=vs(n.index,e);d[Ei]=Do(e,t,a,n)}}}function ZI(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=vV();try{bo(s);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];ny(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&O2(l,c)}}finally{bo(-1),ny(o)}}function O2(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function R2(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(SC(e,o.selectors,!1))if(i||(i=[]),ms(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;fy(t,e,l)}else i.unshift(o),fy(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function fy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function P2(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new fe(-301,!1);i.push(e[r],s)}}}function N2(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ms(e)&&(n[""]=t)}}function k2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function F2(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=yo(r.type,!0)),o=new Eo(s,ms(r),Pe);t.blueprint[i]=o,n[i]=o,M2(t,e,i,GI(t,n,r.hostVars,Or),r)}function L2(t,e,n){let i=ei(e,t),r=KI(n),s=t[qi].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Hf(t,Gf(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function V2(t,e,n,i,r,s){let o=ei(t,e);B2(e[At],o,s,t.value,n,i,r)}function B2(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?Vy(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function j2(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],h=o[a++];zI(i,n,l,c,d,h)}}function $2(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function eS(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function tS(t,e){let n=t.contentQueries;if(n!==null){let i=qe(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];Ky(s),a.contentQueries(2,e[o],o)}}}finally{qe(i)}}}function Hf(t,e){return t[ru]?t[$T][bi]=e:t[ru]=e,t[$T]=e,e}function py(t,e,n){Ky(0);let i=qe(null);try{e(t,n)}finally{qe(i)}}function nS(t){return t[iu]||(t[iu]=[])}function iS(t){return t.cleanup||(t.cleanup=[])}function rS(t,e){let n=t[Za],i=n?n.get(Yi,null):null;i&&i.handleError(e)}function d0(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],d=t.data[o];zI(d,c,i,a,l,r)}}function U2(t,e,n){let i=qC(e,t);ZV(t[At],i,n)}function z2(t,e){let n=vs(e,t),i=n[Re];G2(i,n);let r=n[xr];r!==null&&n[nu]===null&&(n[nu]=s0(r,n[Za])),h0(i,n,n[Ei])}function G2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function h0(t,e,n){Qy(e);try{let i=t.viewQuery;i!==null&&py(1,i,n);let r=t.template;r!==null&&HI(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Dr]?.finishViewCreation(t),t.staticContentQueries&&tS(t,e),t.staticViewQueries&&py(2,t.viewQuery,n);let s=t.components;s!==null&&H2(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[be]&=-5,Xy()}}function H2(t,e){for(let n=0;n<e.length;n++)z2(t,e[n])}function q2(t,e,n,i){let r=qe(null);try{let s=e.tView,a=t[be]&4096?4096:16,l=Gf(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[e.index];l[pu]=c;let d=t[Dr];return d!==null&&(l[Dr]=d.createEmbeddedView(s)),h0(s,l,n),l}finally{qe(r)}}function JT(t,e){return!e||e.firstChild===null||EI(t)}function W2(t,e,n,i=!0){let r=e[Re];if(i2(r,e,t,n),i){let o=hy(n,t),a=e[At],l=a0(a,t[wo]);l!==null&&t2(r,t[Gn],a,e,l,o)}let s=e[nu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function bf(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(Wi(s)),Ar(s)&&Y2(s,i);let o=n.type;if(o&8)bf(t,e,n.child,i);else if(o&32){let a=o0(n,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=LI(e,n);if(Array.isArray(a))i.push(...a);else{let l=ou(e[Di]);bf(l[Re],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Y2(t,e){for(let n=Un;n<t.length;n++){let i=t[n],r=i[Re].firstChild;r!==null&&bf(i[Re],i,r,e)}t[wo]!==t[xr]&&e.push(t[wo])}var sS=[];function K2(t){return t[_o]??Q2(t)}function Q2(t){let e=sS.pop()??Object.create(J2);return e.lView=t,e}function X2(t){t.lView[_o]!==t&&(t.lView=null,sS.push(t))}var J2=Fe(K({},rT),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{su(t.lView)},consumerOnSignalRead(){this.lView[_o]=this}}),oS=100;function aS(t,e=!0,n=0){let i=t[qi],r=i.rendererFactory,s=!1;s||r.begin?.();try{Z2(t,n)}catch(o){throw e&&rS(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function Z2(t,e){my(t,e);let n=0;for(;Yy(t);){if(n===oS)throw new fe(103,!1);n++,my(t,1)}}function eB(t,e,n,i){let r=e[be];if((r&256)===256)return;let s=!1;!s&&e[qi].inlineEffectRunner?.flush(),Qy(e);let o=null,a=null;!s&&tB(t)&&(a=K2(e),o=sT(a));try{YC(e),pV(t.bindingStartIndex),n!==null&&HI(t,e,n,2,i);let l=(r&3)===3;if(!s)if(l){let h=t.preOrderCheckHooks;h!==null&&sf(e,h,null)}else{let h=t.preOrderHooks;h!==null&&of(e,h,0,null),Nv(e,0)}if(nB(e),lS(e,0),t.contentQueries!==null&&tS(t,e),!s)if(l){let h=t.contentCheckHooks;h!==null&&sf(e,h)}else{let h=t.contentHooks;h!==null&&of(e,h,1),Nv(e,1)}v2(t,e);let c=t.components;c!==null&&uS(e,c,0);let d=t.viewQuery;if(d!==null&&py(2,d,i),!s)if(l){let h=t.viewCheckHooks;h!==null&&sf(e,h)}else{let h=t.viewHooks;h!==null&&of(e,h,2),Nv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Pv]){for(let h of e[Pv])h();e[Pv]=null}s||(e[be]&=-73)}catch(l){throw su(e),l}finally{a!==null&&(oT(a,o),X2(a)),Xy()}}function tB(t){return t.type!==2}function lS(t,e){for(let n=TI(t);n!==null;n=CI(n))for(let i=Un;i<n.length;i++){let r=n[i];cS(r,e)}}function nB(t){for(let e=TI(t);e!==null;e=CI(e)){if(!(e[be]&Gy.HasTransplantedViews))continue;let n=e[el];for(let i=0;i<n.length;i++){let r=n[i],s=r[on];rV(r)}}}function iB(t,e,n){let i=vs(e,t);cS(i,n)}function cS(t,e){Wy(t)&&my(t,e)}function my(t,e){let i=t[Re],r=t[be],s=t[_o],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&cv(s)),s&&(s.dirty=!1),t[be]&=-9217,o)eB(i,t,i.template,t[Ei]);else if(r&8192){lS(t,1);let a=i.components;a!==null&&uS(t,a,1)}}function uS(t,e,n){for(let i=0;i<e.length;i++)iB(t,e[i],n)}function f0(t){for(t[qi].changeDetectionScheduler?.notify();t;){t[be]|=64;let e=ou(t);if(YL(t)&&!e)return t;t=e}return null}var Co=class{get rootNodes(){let e=this._lView,n=e[Re];return bf(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ei]}set context(e){this._lView[Ei]=e}get destroyed(){return(this._lView[be]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[on];if(Ar(e)){let n=e[pf],i=n?n.indexOf(this):-1;i>-1&&(dy(e,i),hf(n,i))}this._attachedToViewContainer=!1}PI(this._lView[Re],this._lView)}onDestroy(e){KC(this._lView,e)}markForCheck(){f0(this._cdRefInjectingView||this._lView)}detach(){this._lView[be]&=-129}reattach(){ty(this._lView),this._lView[be]|=128}detectChanges(){this._lView[be]|=1024,aS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,OI(this._lView[Re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=e,ty(this._lView)}},Cr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oB;let t=e;return t})(),rB=Cr,sB=class extends rB{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=q2(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new Co(r)}};function oB(){return qf(Hn(),We())}function qf(t,e){return t.type&4?new sB(e,t,il(t,e)):null}var eJ=new RegExp(`^(\\d+)*(${WV}|${qV})*(.*)`);var aB=()=>null;function ZT(t,e){return aB(t,e)}var Ef=class{},gy=class{},Df=class{};function lB(t){let e=Error(`No component factory found for ${bn(t)}.`);return e[cB]=t,e}var cB="ngComponent";var vy=class{resolveComponentFactory(e){throw lB(e)}},Wf=(()=>{let e=class e{};e.NULL=new vy;let t=e;return t})(),au=class{},rl=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>uB();let t=e;return t})();function uB(){let t=We(),e=Hn(),n=vs(e.index,t);return(go(n)?n:t)[At]}var dB=(()=>{let e=class e{};e.\u0275prov=te({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Bv={};var eC=new Set;function Yf(t){eC.has(t)||(eC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tC(...t){}function hB(){let t=typeof sn.requestAnimationFrame=="function",e=sn[t?"requestAnimationFrame":"setTimeout"],n=sn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=hB().nativeRequestAnimationFrame,mB(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new fe(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,fB,tC,tC);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},fB={};function p0(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pB(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yy(t),t.isCheckStableRunning=!0,p0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yy(t))}function mB(t){let e=()=>{pB(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(gB(a))return n.invokeTask(r,s,o,a);try{return nC(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),iC(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return nC(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),iC(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,yy(t),p0(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function yy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function nC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iC(t){t._nesting--,p0(t)}var _y=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ze,this.onMicrotaskEmpty=new Ze,this.onStable=new Ze,this.onError=new Ze}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function gB(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function vB(t="zone.js",e){return t==="noop"?new _y:t==="zone.js"?new Te(e):t}var Wa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wa||{}),yB={destroy(){}};function Kf(t,e){!e&&HL(Kf);let n=e?.injector??U(Kt);if(!QV(n))return yB;Yf("NgAfterNextRender");let i=n.get(m0),r=i.handler??=new by,s=e?.phase??Wa.MixedReadWrite,o=()=>{r.unregister(l),a()},a=n.get(jf).onDestroy(o),l=Ti(n,()=>new wy(s,()=>{o(),t()}));return r.register(l),{destroy:o}}var wy=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=U(Te),this.errorHandler=U(Yi,{optional:!0}),U(Ef,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},by=class{constructor(){this.executingCallbacks=!1,this.buckets={[Wa.EarlyRead]:new Set,[Wa.Write]:new Set,[Wa.MixedReadWrite]:new Set,[Wa.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},m0=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=te({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ey(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=qv(r,a);else if(s==2){let l=a,c=e[++o];i=qv(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Tf=class extends Wf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Er(e);return new Io(n,this.ngModule)}};function rC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function _B(t){let e=t.toLowerCase();return e==="svg"?JL:e==="math"?ZL:null}var Dy=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Pf(i);let r=this.injector.get(e,Bv,i);return r!==Bv||n===Bv?r:this.parentInjector.get(e,n,i)}},Io=class extends Df{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=rC(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return rC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=qe(null);try{r=r||this.ngModule;let o=r instanceof jt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Dy(e,o):e,l=a.get(au,null);if(l===null)throw new fe(407,!1);let c=a.get(dB,null),d=a.get(m0,null),h=a.get(Ef,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:h},p=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=i?w2(p,i,this.componentDef.encapsulation,a):AI(p,y,_B(y)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let g=null;w!==null&&(g=s0(w,a,!0));let C=u0(0,null,null,1,0,null,null,null,null,null,null),b=Gf(null,C,null,_,null,null,f,p,a,null,g);Qy(b);let x,R;try{let P=this.componentDef,A,E=null;P.findHostDirectiveDefs?(A=[],E=new Map,P.findHostDirectiveDefs(P,A,E),A.push(P)):A=[P];let D=wB(b,w),I=bB(D,w,P,A,b,f,p);R=WC(C,zn),w&&TB(p,P,w,i),n!==void 0&&CB(R,this.ngContentSelectors,n),x=DB(I,P,A,E,b,[IB]),h0(C,b,null)}finally{Xy()}return new Ty(this.componentType,x,il(R,b),b,R)}finally{qe(s)}}},Ty=class extends gy{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Co(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;d0(s[Re],s,r,e,n),this.previousInputValues.set(e,n);let o=vs(this._tNode.index,s);f0(o)}}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function wB(t,e){let n=t[Re],i=zn;return t[i]=e,gu(n,i,2,"#host",null)}function bB(t,e,n,i,r,s,o){let a=r[Re];EB(i,t,e,o);let l=null;e!==null&&(l=s0(e,r[Za]));let c=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let h=Gf(r,KI(n),null,d,r[t.index],t,s,c,null,null,l);return a.firstCreatePass&&fy(a,t,i.length-1),Hf(r,h),r[t.index]=h}function EB(t,e,n,i){for(let r of t)e.mergedAttrs=eu(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Ey(e,e.mergedAttrs,!0),n!==null&&jI(i,n,e))}function DB(t,e,n,i,r,s){let o=Hn(),a=r[Re],l=ei(o,r);JI(a,r,o,n,null,i);for(let d=0;d<n.length;d++){let h=o.directiveStart+d,f=Do(r,a,h,o);To(f,r)}ZI(a,r,o),l&&To(l,r);let c=Do(r,a,o.directiveStart+o.componentOffset,o);if(t[Ei]=r[Ei]=c,s!==null)for(let d of s)d(c,e);return qI(a,o,r),c}function TB(t,e,n,i){if(i)Qv(t,n,["ng-version","17.3.10"]);else{let{attrs:r,classes:s}=AL(e.selectors[0]);r&&Qv(t,n,r),s&&s.length>0&&BI(t,n,s.join(" "))}}function CB(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function IB(){let t=Hn();t0(We()[Re],t)}var _s=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SB;let t=e;return t})();function SB(){let t=Hn();return hS(t,We())}var MB=_s,dS=class extends MB{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=n0(this._hostTNode,this._hostLView);if(dI(e)){let n=vf(e,this._hostLView),i=gf(e),r=n[Re].data[i+8];return new vo(r,n)}else return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=sC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Un}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=ZT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,JT(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!WL(e),a;if(o)a=n;else{let y=n||{};a=y.index,i=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let l=o?e:new Io(Er(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let w=(o?c:this.parentInjector).get(jt,null);w&&(s=w)}let d=Er(l.componentType??{}),h=ZT(this._lContainer,d?.id??null),f=h?.firstChild??null,p=l.create(c,r,f,s);return this.insertImpl(p.hostView,a,JT(this._hostTNode,h)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(iV(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[on],c=new dS(l,l[Gn],l[on]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return W2(o,r,s,i),e.attachToViewContainerRef(),EC(jv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=sC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=dy(this._lContainer,n);i&&(hf(jv(this._lContainer),n),PI(i[Re],i))}detach(e){let n=this._adjustIndex(e,-1),i=dy(this._lContainer,n);return i&&hf(jv(this._lContainer),n)!=null?new Co(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function sC(t){return t[pf]}function jv(t){return t[pf]||(t[pf]=[])}function hS(t,e){let n,i=e[t.index];return Ar(i)?n=i:(n=eS(i,e,null,t),e[t.index]=n,Hf(e,n)),AB(n,e,t,i),new dS(n,t,e)}function xB(t,e){let n=t[At],i=n.createComment(""),r=ei(e,t),s=a0(n,r);return wf(n,s,i,c2(n,r),!1),i}var AB=PB,OB=()=>!1;function RB(t,e,n){return OB(t,e,n)}function PB(t,e,n,i){if(t[wo])return;let r;n.type&8?r=Wi(i):r=xB(e,n),t[wo]=r}var Cy=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Iy=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)g0(e,n).matches!==null&&this.queries[n].setDirty()}},Cf=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=$B(e):this.predicate=e}},Sy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},My=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,NB(n,s)),this.matchTNodeWithReadOption(e,n,af(n,e,s,!1,!1))}else i===Cr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,af(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===$t||r===_s||r===Cr&&n.type&4)this.addMatch(n.index,-2);else{let s=af(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function NB(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function kB(t,e){return t.type&11?il(t,e):t.type&4?qf(t,e):null}function FB(t,e,n,i){return n===-1?kB(e,t):n===-2?LB(t,e,i):Do(t,t[Re],n,e)}function LB(t,e,n){if(n===$t)return il(e,t);if(n===Cr)return qf(e,t);if(n===_s)return hS(e,t)}function fS(t,e,n,i){let r=e[Dr].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(FB(e,d,o[l+1],n.metadata.read))}}r.matches=a}return r.matches}function xy(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=fS(t,e,r,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let h=Un;h<d.length;h++){let f=d[h];f[pu]===f[on]&&xy(f[Re],f,c,i)}if(d[el]!==null){let h=d[el];for(let f=0;f<h.length;f++){let p=h[f];xy(p[Re],p,c,i)}}}}}return i}function VB(t,e){return t[Dr].queries[e].queryList}function pS(t,e,n){let i=new ly((n&4)===4);return D2(t,e,i,i.destroy),(e[Dr]??=new Iy).queries.push(new Cy(i))-1}function BB(t,e,n){let i=Yt();return i.firstCreatePass&&(mS(i,new Cf(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),pS(i,We(),e)}function jB(t,e,n,i){let r=Yt();if(r.firstCreatePass){let s=Hn();mS(r,new Cf(e,n,i),s.index),UB(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return pS(r,We(),n)}function $B(t){return t.split(",").map(e=>e.trim())}function mS(t,e,n){t.queries===null&&(t.queries=new Sy),t.queries.track(new My(e,n))}function UB(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function g0(t,e){return t.queries.getByIndex(e)}function zB(t,e){let n=t[Re],i=g0(n,e);return i.crossesNgTemplate?xy(n,t,e,[]):fS(n,t,i,e)}function GB(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(YB))}return s}return If.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((h,f)=>{a.push(""),o.push(i(h).then(p=>{a[c+f]=p,d.splice(d.indexOf(h),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>KB(s));e.push(l)}),qB(),Promise.all(e).then(()=>{})}var If=new Map,HB=new Set;function qB(){let t=If;return If=new Map,t}function WB(){return If.size===0}function YB(t){return typeof t=="string"?t:t.text()}function KB(t){HB.delete(t)}function QB(t){return Object.getPrototypeOf(t.prototype).constructor}function Ci(t){let e=QB(t.type),n=!0,i=[t];for(;e;){let r;if(ms(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new fe(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=ef(t.inputs),o.inputTransforms=ef(t.inputTransforms),o.declaredInputs=ef(t.declaredInputs),o.outputs=ef(t.outputs);let a=r.hostBindings;a&&tj(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&ZB(t,l),c&&ej(t,c),XB(t,r),WF(t.outputs,r.outputs),ms(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ci&&(n=!1)}}e=Object.getPrototypeOf(e)}JB(i)}function XB(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function JB(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=eu(r.hostAttrs,n=eu(n,r.hostAttrs))}}function ef(t){return t===Qa?{}:t===Rn?[]:t}function ZB(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function ej(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function tj(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var gs=class{},lu=class{};var Sf=class extends gs{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tf(this);let r=OC(e);this._bootstrapComponents=xI(r.bootstrap),this._r3Injector=wI(e,n,[{provide:gs,useValue:this},{provide:Wf,useValue:this.componentFactoryResolver},...i],bn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mf=class extends lu{constructor(e){super(),this.moduleType=e}create(e){return new Sf(this.moduleType,e,[])}};function nj(t,e,n){return new Sf(t,e,n)}var Ay=class extends gs{constructor(e){super(),this.componentFactoryResolver=new Tf(this),this.instance=null;let n=new tu([...e.providers,{provide:gs,useValue:this},{provide:Wf,useValue:this.componentFactoryResolver}],e.parent||Ff(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qf(t,e,n=null){return new Ay({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Oo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new It(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gS(t,e,n){return t[e]=n}function Ir(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function ij(t,e,n,i){let r=Ir(t,e,n);return Ir(t,e+1,i)||r}function rj(t){return(t.flags&32)===32}function sj(t,e,n,i,r,s,o,a,l){let c=e.consts,d=gu(e,t,4,o||null,mf(c,a));XI(e,n,d,mf(c,l)),t0(e,d);let h=d.tView=u0(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function Rr(t,e,n,i,r,s,o,a){let l=We(),c=Yt(),d=t+zn,h=c.firstCreatePass?sj(d,c,l,e,n,i,r,s,o):c.data[d];mu(h,!1);let f=oj(c,l,h,t);Zy()&&l0(c,l,f,h),To(f,l);let p=eS(f,l,f,h);return l[d]=p,Hf(l,p),RB(p,h,l),Hy(h)&&WI(c,l,h),o!=null&&YI(l,h,a),Rr}var oj=aj;function aj(t,e,n,i){return e0(!0),e[At].createComment("")}function Pr(t,e,n,i){let r=We(),s=Bf();if(Ir(r,s,e)){let o=Yt(),a=Jy();V2(a,r,t,e,n,i)}return Pr}function lj(t,e,n,i){return Ir(t,Bf(),n)?e+Vy(n)+i:Or}function tf(t,e){return t<<17|e<<2}function So(t){return t>>17&32767}function cj(t){return(t&2)==2}function uj(t,e){return t&131071|e<<17}function Oy(t){return t|2}function tl(t){return(t&131068)>>2}function $v(t,e){return t&-131069|e<<2}function dj(t){return(t&1)===1}function Ry(t){return t|1}function hj(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=So(o),l=tl(o);t[i]=n;let c=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||hu(h,d)>0)&&(c=!0)}else d=n;if(r)if(l!==0){let f=So(t[a+1]);t[i+1]=tf(f,a),f!==0&&(t[f+1]=$v(t[f+1],i)),t[a+1]=uj(t[a+1],i)}else t[i+1]=tf(a,0),a!==0&&(t[a+1]=$v(t[a+1],i)),a=i;else t[i+1]=tf(l,0),a===0?a=i:t[l+1]=$v(t[l+1],i),l=i;c&&(t[i+1]=Oy(t[i+1])),oC(t,d,i,!0),oC(t,d,i,!1),fj(e,d,t,i,s),o=tf(a,l),s?e.classBindings=o:e.styleBindings=o}function fj(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&hu(s,e)>=0&&(n[i+1]=Ry(n[i+1]))}function oC(t,e,n,i){let r=t[n+1],s=e===null,o=i?So(r):tl(r),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];pj(l,e)&&(a=!0,t[o+1]=i?Ry(c):Oy(c)),o=i?So(c):tl(c)}a&&(t[n+1]=i?Oy(r):Ry(r))}function pj(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?hu(t,e)>=0:!1}var wi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mj(t){return t.substring(wi.key,wi.keyEnd)}function gj(t){return vj(t),vS(t,yS(t,0,wi.textEnd))}function vS(t,e){let n=wi.textEnd;return n===e?-1:(e=wi.keyEnd=yj(t,wi.key=e,n),yS(t,e,n))}function vj(t){wi.key=0,wi.keyEnd=0,wi.value=0,wi.valueEnd=0,wi.textEnd=t.length}function yS(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function yj(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Pn(t,e,n){let i=We(),r=Bf();if(Ir(i,r,e)){let s=Yt(),o=Jy();QI(s,o,i,t,e,i[At],n,!1)}return Pn}function Py(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";d0(t,n,s[o],o,i)}function qn(t,e){return wj(t,e,null,!0),qn}function sl(t){bj(Sj,_j,t,!0)}function _j(t,e){for(let n=gj(e);n>=0;n=vS(e,n))$y(t,mj(e),!0)}function wj(t,e,n,i){let r=We(),s=Yt(),o=nI(2);if(s.firstUpdatePass&&wS(s,t,o,i),e!==Or&&Ir(r,o,e)){let a=s.data[Ao()];bS(s,a,r,r[At],t,r[o+1]=xj(e,n),i,o)}}function bj(t,e,n,i){let r=Yt(),s=nI(2);r.firstUpdatePass&&wS(r,null,s,i);let o=We();if(n!==Or&&Ir(o,s,n)){let a=r.data[Ao()];if(ES(a,i)&&!_S(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=qv(l,n||"")),Py(r,a,o,n,i)}else Mj(r,a,o,o[At],o[s+1],o[s+1]=Ij(t,e,n),i,s)}}function _S(t,e){return e>=t.expandoStartIndex}function wS(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[Ao()],o=_S(t,n);ES(s,i)&&e===null&&!o&&(e=!1),e=Ej(r,s,e,i),hj(r,s,e,n,o,i)}}function Ej(t,e,n,i){let r=yV(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Uv(null,t,e,n,i),n=cu(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=Uv(r,t,e,n,i),s===null){let l=Dj(t,e,i);l!==void 0&&Array.isArray(l)&&(l=Uv(null,t,e,l[1],i),l=cu(l,e.attrs,i),Tj(t,e,i,l))}else s=Cj(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function Dj(t,e,n){let i=n?e.classBindings:e.styleBindings;if(tl(i)!==0)return t[So(i)]}function Tj(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[So(r)]=i}function Cj(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=cu(i,o,n)}return cu(i,e.attrs,n)}function Uv(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=cu(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function cu(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),$y(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Ij(t,e,n){if(n==null||n==="")return Rn;let i=[],r=Uf(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function Sj(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&$y(t,i,n)}function Mj(t,e,n,i,r,s,o,a){r===Or&&(r=Rn);let l=0,c=0,d=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let f=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0,y=null,w;d===h?(l+=2,c+=2,f!==p&&(y=h,w=p)):h===null||d!==null&&d<h?(l+=2,y=d):(c+=2,y=h,w=p),y!==null&&bS(t,e,n,i,y,w,o,a),d=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function bS(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=dj(c)?aC(l,e,n,r,tl(c),o):void 0;if(!xf(d)){xf(s)||cj(c)&&(s=aC(l,null,n,r,a,o));let h=qC(Ao(),n);m2(i,o,h,r,s)}}function aC(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),d=c?l[1]:l,h=d===null,f=n[r+1];f===Or&&(f=h?Rn:void 0);let p=h?Ov(f,i):d===i?f:void 0;if(c&&!xf(p)&&(p=Ov(l,i)),xf(p)&&(a=p,o))return a;let y=t[r+1];r=o?So(y):tl(y)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Ov(l,i))}return a}function xf(t){return t!==void 0}function xj(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=bn(Uf(t)))),t}function ES(t,e){return(t.flags&(e?8:16))!==0}function Aj(t,e,n,i,r,s){let o=e.consts,a=mf(o,r),l=gu(e,t,2,i,a);return XI(e,n,l,mf(o,s)),l.attrs!==null&&Ey(l,l.attrs,!1),l.mergedAttrs!==null&&Ey(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Y(t,e,n,i){let r=We(),s=Yt(),o=zn+t,a=r[At],l=s.firstCreatePass?Aj(o,s,r,e,n,i):s.data[o],c=Oj(s,r,l,a,e,t);r[o]=c;let d=Hy(l);return mu(l,!0),jI(a,c,l),!rj(l)&&Zy()&&l0(s,r,c,l),aV()===0&&To(c,r),lV(),d&&(WI(s,r,l),qI(s,l,r)),i!==null&&YI(r,l),Y}function J(){let t=Hn();ZC()?eI():(t=t.parent,mu(t,!1));let e=t;uV(e)&&dV(),cV();let n=Yt();return n.firstCreatePass&&(t0(n,t),$C(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&CV(e)&&Py(n,e,We(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IV(e)&&Py(n,e,We(),e.stylesWithoutHost,!1),J}function Ee(t,e,n,i){return Y(t,e,n,i),J(),Ee}var Oj=(t,e,n,i,r,s)=>(e0(!0),AI(i,r,bV()));function vu(){return We()}function Xf(t,e,n){let i=We(),r=Bf();if(Ir(i,r,e)){let s=Yt(),o=Jy();QI(s,o,i,t,e,i[At],n,!0)}return Xf}var mo=void 0;function Rj(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var Pj=["en",[["a","p"],["AM","PM"],mo],[["AM","PM"],mo,mo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mo,"{1} 'at' {0}",mo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Rj],zv={};function v0(t){let e=Nj(t),n=lC(e);if(n)return n;let i=e.split("-")[0];if(n=lC(i),n)return n;if(i==="en")return Pj;throw new fe(701,!1)}function lC(t){return t in zv||(zv[t]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[t]),zv[t]}var ol=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ol||{});function Nj(t){return t.toLowerCase().replace(/_/g,"-")}var Af="en-US";var kj=Af;function Fj(t){typeof t=="string"&&(kj=t.toLowerCase().replace(/_/g,"-"))}function Ut(t,e,n,i){let r=We(),s=Yt(),o=Hn();return Vj(s,r,r[At],o,t,e,i),Ut}function Lj(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[iu],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function Vj(t,e,n,i,r,s,o){let a=Hy(i),c=t.firstCreatePass&&iS(t),d=e[Ei],h=nS(e),f=!0;if(i.type&3||o){let w=ei(i,e),_=o?o(w):w,g=h.length,C=o?x=>o(Wi(x[i.index])):i.index,b=null;if(!o&&a&&(b=Lj(t,e,r,i.index)),b!==null){let x=b.__ngLastListenerFn__||b;x.__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,f=!1}else{s=uC(i,e,d,s,!1);let x=n.listen(_,r,s);h.push(s,x),c&&c.push(r,C,g,g+1)}}else s=uC(i,e,d,s,!1);let p=i.outputs,y;if(f&&p!==null&&(y=p[r])){let w=y.length;if(w)for(let _=0;_<w;_+=2){let g=y[_],C=y[_+1],R=e[g][C].subscribe(s),P=h.length;h.push(s,R),c&&c.push(r,i.index,P,-(P+1))}}}function cC(t,e,n,i){let r=qe(null);try{return zi(6,e,n),n(i)!==!1}catch(s){return rS(t,s),!1}finally{zi(7,e,n),qe(r)}}function uC(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?vs(t.index,e):e;f0(a);let l=cC(e,n,i,o),c=s.__ngNextListenerFn__;for(;c;)l=cC(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function Qi(t=1){return wV(t)}function Bj(t,e){let n=null,i=TL(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?SC(t,s,!0):SL(i,s))return r}return n}function y0(t){let e=We()[Di][Gn];if(!e.projection){let n=t?t.length:1,i=e.projection=pL(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?Bj(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function _0(t,e=0,n){let i=We(),r=Yt(),s=gu(r,zn+t,16,null,n||null);s.projection===null&&(s.projection=e),eI(),(!i[nu]||XC())&&(s.flags&32)!==32&&f2(r,i,s)}function yu(t,e,n,i){jB(t,e,n,i)}function DS(t,e,n){BB(t,e,n)}function al(t){let e=We(),n=Yt(),i=iI();Ky(i+1);let r=g0(n,i);if(t.dirty&&nV(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=zB(e,i);t.reset(s,VV),t.notifyOnChanges()}return!0}return!1}function ll(){return VB(We(),iI())}function jj(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function w0(t){let e=fV();return qy(e,zn+t)}function ue(t,e=""){let n=We(),i=Yt(),r=t+zn,s=i.firstCreatePass?gu(i,r,1,e,null):i.data[r],o=$j(i,n,s,e,t);n[r]=o,Zy()&&l0(i,n,o,s),mu(s,!1)}var $j=(t,e,n,i,r)=>(e0(!0),JV(e[At],i));function Ve(t){return ti("",t,""),Ve}function ti(t,e,n){let i=We(),r=lj(i,t,e,n);return r!==Or&&U2(i,Ao(),r),ti}function Uj(t,e,n){let i=Yt();if(i.firstCreatePass){let r=ms(t);Ny(n,i.data,i.blueprint,r,!0),Ny(e,i.data,i.blueprint,r,!1)}}function Ny(t,e,n,i,r){if(t=wn(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ny(t[s],e,n,i,r);else{let s=Yt(),o=We(),a=Hn(),l=Ja(t)?t:wn(t.provide),c=LC(t),d=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(Ja(t)||!t.multi){let p=new Eo(c,r,Pe),y=Hv(l,e,r?d:d+f,h);y===-1?(ry(_f(a,o),s,l),Gv(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[y]=p,o[y]=p)}else{let p=Hv(l,e,d+f,h),y=Hv(l,e,d,d+f),w=p>=0&&n[p],_=y>=0&&n[y];if(r&&!_||!r&&!w){ry(_f(a,o),s,l);let g=Hj(r?Gj:zj,n.length,r,i,c);!r&&_&&(n[y].providerFactory=g),Gv(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),o.push(g)}else{let g=TS(n[r?y:p],c,!r&&i);Gv(s,t,p>-1?p:y,g)}!r&&i&&_&&n[y].componentProviders++}}}function Gv(t,e,n,i){let r=Ja(e),s=VL(e);if(r||s){let l=(s?wn(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(n);d===-1?c.push(n,[i,l]):c[d+1].push(i,l)}else c.push(n,l)}}}function TS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hv(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function zj(t,e,n,i){return ky(this.multi,[])}function Gj(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Do(n,n[Re],this.providerFactory.index,i);s=a.slice(0,o),ky(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],ky(r,s);return s}function ky(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function Hj(t,e,n,i,r){let s=new Eo(t,n,Pe);return s.multi=[],s.index=e,s.componentProviders=0,TS(s,r,i&&!n),s}function Ro(t,e=[]){return n=>{n.providersResolver=(i,r)=>Uj(i,r?r(t):t,e)}}var qj=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=NC(!1,i.type),s=r.length>0?Qf([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=te({token:e,providedIn:"environment",factory:()=>new e(q(jt))});let t=e;return t})();function Po(t){Yf("NgStandalone"),t.getStandaloneInjector=e=>e.get(qj).getOrCreateStandaloneInjector(t)}function CS(t,e){let n=t[e];return n===Or?void 0:n}function Wj(t,e,n,i,r,s){let o=e+n;return Ir(t,o,r)?gS(t,o+1,s?i.call(s,r):i(r)):CS(t,o+1)}function Yj(t,e,n,i,r,s,o){let a=e+n;return ij(t,a,r,s)?gS(t,a+2,o?i.call(o,r,s):i(r,s)):CS(t,a+2)}function ae(t,e){let n=Yt(),i,r=t+zn;n.firstCreatePass?(i=Kj(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=yo(i.type,!0)),o,a=On(Pe);try{let l=yf(!1),c=s();return yf(l),jj(n,We(),r,c),c}finally{On(a)}}function Kj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function ce(t,e,n){let i=t+zn,r=We(),s=qy(r,i);return IS(r,i)?Wj(r,tI(),e,s.transform,n,s):s.transform(n)}function Jf(t,e,n,i){let r=t+zn,s=We(),o=qy(s,r);return IS(s,r)?Yj(s,tI(),e,o.transform,n,i,o):o.transform(n,i)}function IS(t,e){return t[Re].data[e].pure}function b0(t,e){return qf(t,e)}var nf=null;function Qj(t){nf!==null&&(t.defaultEncapsulation!==nf.defaultEncapsulation||t.preserveWhitespaces!==nf.preserveWhitespaces)||(nf=t)}var Sr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},SS=new Sr("17.3.10"),Zf=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var E0=new re(""),_u=new re(""),ep=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,D0||(Xj(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(q(Te),q(tp),q(_u))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),tp=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return D0?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Xj(t){D0=t}var D0;function ws(t){return!!t&&typeof t.then=="function"}function T0(t){return!!t&&typeof t.subscribe=="function"}var np=new re(""),MS=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=U(np,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(ws(o))i.push(o);else if(T0(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ip=new re("");function Jj(){lT(()=>{throw new fe(600,!1)})}function Zj(t){return t.isBoundToModule}function e$(t,e,n){try{let i=n();return ws(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function xS(t,e){return Array.isArray(e)?e.reduce(xS,t):K(K({},t),e)}var Xi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(bI),this.afterRenderEffectManager=U(m0),this.externalTestViews=new Set,this.beforeRender=new xe,this.afterTick=new xe,this.componentTypes=[],this.components=[],this.isStable=U(Oo).hasPendingTasks.pipe(de(i=>!i)),this._injector=U(jt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Df;if(!this._injector.get(MS).done){let p=!s&&AC(i),y=!1;throw new fe(405,y)}let a;s?a=i:a=this._injector.get(Wf).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=Zj(a)?void 0:this._injector.get(gs),c=r||a.selector,d=a.create(Kt.NULL,[],c,l),h=d.location.nativeElement,f=d.injector.get(E0,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),cf(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new fe(101,!1);let r=qe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,qe(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===oS)throw new fe(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:l}of this._views)t$(a,o,l)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Fy(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Fy(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;cf(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(ip,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cf(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new fe(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function t$(t,e,n){!e&&!Fy(t)||n$(t,n,e)}function Fy(t){return Yy(t)}function n$(t,e,n){let i;n?(i=0,t[be]|=1024):t[be]&64?i=0:i=1,aS(t,e,i)}var Ly=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},rp=(()=>{let e=class e{compileModuleSync(i){return new Mf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=OC(i),o=xI(s.declarations).reduce((a,l)=>{let c=Er(l);return c&&a.push(new Io(c)),a},[]);return new Ly(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),i$=new re("");function r$(t,e,n){let i=new Mf(n);return Promise.resolve(i)}function dC(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var s$=(()=>{let e=class e{constructor(){this.zone=U(Te),this.applicationRef=U(Xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function o$(t){return[{provide:Te,useFactory:t},{provide:Xa,multi:!0,useFactory:()=>{let e=U(s$,{optional:!0});return()=>e.initialize()}},{provide:Xa,multi:!0,useFactory:()=>{let e=U(c$);return()=>{e.initialize()}}},{provide:bI,useFactory:a$}]}function a$(){let t=U(Te),e=U(Yi);return n=>t.runOutsideAngular(()=>e.handleError(n))}function l$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var c$=(()=>{let e=class e{constructor(){this.subscription=new Ct,this.initialized=!1,this.zone=U(Te),this.pendingTasks=U(Oo)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u$(){return typeof $localize<"u"&&$localize.locale||Af}var wu=new re("",{providedIn:"root",factory:()=>U(wu,Le.Optional|Le.SkipSelf)||u$()});var AS=new re(""),OS=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=vB(r?.ngZone,l$({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=nj(i.moduleType,this.injector,o$(()=>s)),a=o.injector.get(Yi,null);return s.runOutsideAngular(()=>{let l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{cf(this._modules,o),l.unsubscribe()})}),e$(a,s,()=>{let l=o.injector.get(MS);return l.runInitializers(),l.donePromise.then(()=>{let c=o.injector.get(wu,Af);return Fj(c||Af),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=xS({},r);return r$(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(Xi);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new fe(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(AS,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(q(Kt))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Jc=null,RS=new re("");function d$(t){if(Jc&&!Jc.get(RS,!1))throw new fe(400,!1);Jj(),Jc=t;let e=t.get(OS);return p$(t),e}function C0(t,e,n=[]){let i=`Platform: ${e}`,r=new re(i);return(s=[])=>{let o=PS();if(!o||o.injector.get(RS,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):d$(h$(a,i))}return f$(r)}}function h$(t=[],e){return Kt.create({name:e,providers:[{provide:kf,useValue:"platform"},{provide:AS,useValue:new Set([()=>Jc=null])},...t]})}function f$(t){let e=PS();if(!e)throw new fe(401,!1);return e}function PS(){return Jc?.get(OS)??null}function p$(t){t.get(i0,null)?.forEach(n=>n())}function I0(){return!1}var Ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=m$;let t=e;return t})();function m$(t){return g$(Hn(),We(),(t&16)===16)}function g$(t,e,n){if(Vf(t)&&!n){let i=vs(t.index,e);return new Co(i,i)}else if(t.type&47){let i=e[Di];return new Co(i,e)}return null}var NS=C0(null,"core",[]),kS=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(q(Xi))},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();function sp(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function S0(t){let e=qe(null);try{return t()}finally{qe(e)}}function No(t,e){let n=Er(t),i=e.elementInjector||Ff();return new Io(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function FS(t){let e=Er(t);if(!e)return null;let n=new Io(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var US=null;function Zi(){return US}function zS(t){US??=t}var op=class{};var ft=new re(""),k0=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:()=>U(_$),providedIn:"platform"});let t=e;return t})(),GS=new re(""),_$=(()=>{let e=class e extends k0{constructor(){super(),this._doc=U(ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zi().getBaseHref(this._doc)}onPopState(i){let r=Zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function F0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function LS(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Nr(t){return t&&t[0]!=="?"?"?"+t:t}var ko=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:()=>U(L0),providedIn:"root"});let t=e;return t})(),HS=new re(""),L0=(()=>{let e=class e extends ko{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return F0(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Nr(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Nr(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Nr(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(q(k0),q(HS,8))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qS=(()=>{let e=class e extends ko{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=F0(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Nr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Nr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(q(k0),q(HS,8))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),ul=(()=>{let e=class e{constructor(i){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=E$(LS(VS(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Nr(r))}normalize(i){return e.stripTrailingSlash(b$(this._basePath,VS(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Nr(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Nr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=Nr,e.joinWithSlash=F0,e.stripTrailingSlash=LS,e.\u0275fac=function(r){return new(r||e)(q(ko))},e.\u0275prov=te({token:e,factory:()=>w$(),providedIn:"root"});let t=e;return t})();function w$(){return new ul(q(ko))}function b$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function VS(t){return t.replace(/\/index.html$/,"")}function E$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var WS=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(WS||{});var kr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function bu(t,e){let n=v0(t),i=n[ol.NumberSymbols][e];if(typeof i>"u"){if(e===kr.CurrencyDecimal)return n[ol.NumberSymbols][kr.Decimal];if(e===kr.CurrencyGroup)return n[ol.NumberSymbols][kr.Group]}return i}function D$(t,e){return v0(t)[ol.NumberFormats][e]}var T$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,BS=22,ap=".",Eu="0",C$=";",I$=",",M0="#";function S$(t,e,n,i,r,s,o=!1){let a="",l=!1;if(!isFinite(t))a=bu(n,kr.Infinity);else{let c=O$(t);o&&(c=A$(c));let d=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){let C=s.match(T$);if(C===null)throw new Error(`${s} is not a valid digit info`);let b=C[1],x=C[3],R=C[5];b!=null&&(d=x0(b)),x!=null&&(h=x0(x)),R!=null?f=x0(R):x!=null&&h>f&&(f=h)}R$(c,h,f);let p=c.digits,y=c.integerLen,w=c.exponent,_=[];for(l=p.every(C=>!C);y<d;y++)p.unshift(0);for(;y<0;y++)p.unshift(0);y>0?_=p.splice(y,p.length):(_=p,p=[0]);let g=[];for(p.length>=e.lgSize&&g.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)g.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&g.unshift(p.join("")),a=g.join(bu(n,i)),_.length&&(a+=bu(n,r)+_.join("")),w&&(a+=bu(n,kr.Exponential)+"+"+w)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function M$(t,e,n){let i=D$(e,WS.Decimal),r=x$(i,bu(e,kr.MinusSign));return S$(t,r,e,kr.Group,kr.Decimal,n)}function x$(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(C$),r=i[0],s=i[1],o=r.indexOf(ap)!==-1?r.split(ap):[r.substring(0,r.lastIndexOf(Eu)+1),r.substring(r.lastIndexOf(Eu)+1)],a=o[0],l=o[1]||"";n.posPre=a.substring(0,a.indexOf(M0));for(let d=0;d<l.length;d++){let h=l.charAt(d);h===Eu?n.minFrac=n.maxFrac=d+1:h===M0?n.maxFrac=d+1:n.posSuf+=h}let c=a.split(I$);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let d=r.length-n.posPre.length-n.posSuf.length,h=s.indexOf(M0);n.negPre=s.substring(0,h).replace(/'/g,""),n.negSuf=s.slice(h+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function A$(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function O$(t){let e=Math.abs(t)+"",n=0,i,r,s,o,a;for((r=e.indexOf(ap))>-1&&(e=e.replace(ap,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===Eu;s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===Eu;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>BS&&(i=i.splice(0,BS-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}function R$(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen,s=Math.min(Math.max(e,r),n),o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let h=o;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let h=1;h<o;h++)i[h]=0}if(a>=5)if(o-1<0){for(let h=0;h>o;h--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=s!==0,c=e+t.integerLen,d=i.reduceRight(function(h,f,p,y){return f=f+h,y[p]=f<10?f:f-10,l&&(y[p]===0&&p>=c?y.pop():l=!1),f>=10?1:0},0);d&&(i.unshift(d),t.integerLen++)}function x0(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function lp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var dl=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new A0,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){jS("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){jS("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(Pe(_s),Pe(Cr))},e.\u0275dir=Et({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),A0=class{constructor(){this.$implicit=null,this.ngIf=null}};function jS(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${bn(e)}'.`)}function YS(t,e){return new fe(2100,!1)}var O0=class{createSubscription(e,n){return S0(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){S0(()=>e.unsubscribe())}},R0=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},P$=new R0,N$=new O0,Nn=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(ws(i))return P$;if(T0(i))return N$;throw YS(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(Pe(Ji,16))},e.\u0275pipe=fu({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var KS=(()=>{let e=class e{constructor(i){this._locale=i}transform(i,r,s){if(!k$(i))return null;s||=this._locale;try{let o=F$(i);return M$(o,s,r)}catch(o){throw YS(e,o.message)}}};e.\u0275fac=function(r){return new(r||e)(Pe(wu,16))},e.\u0275pipe=fu({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function k$(t){return!(t==null||t===""||t!==t)}function F$(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var QS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),V0="browser",L$="server";function XS(t){return t===V0}function bs(t){return t===L$}var JS=(()=>{let e=class e{};e.\u0275prov=te({token:e,providedIn:"root",factory:()=>XS(U(an))?new P0(U(ft),window):new N0});let t=e;return t})(),P0=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=V$(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function V$(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var N0=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},cl=class{};var Tu=class{},up=class{},Fo=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var j0=class{encodeKey(e){return ZS(e)}encodeValue(e){return ZS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function $$(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var U$=/%(\d[a-f0-9])/gi,z$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZS(t){return encodeURIComponent(t).replace(U$,(e,n)=>z$[n]??e)}function cp(t){return`${t}`}var Ds=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new j0,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=$$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(cp):[cp(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(cp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(cp(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var $0=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function G$(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eM(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tM(t){return typeof Blob<"u"&&t instanceof Blob}function nM(t){return typeof FormData<"u"&&t instanceof FormData}function H$(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Du=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(G$(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Fo,this.context??=new $0,!this.params)this.params=new Ds,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||eM(this.body)||tM(this.body)||nM(this.body)||H$(this.body)?this.body:this.body instanceof Ds?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nM(this.body)?null:tM(this.body)?this.body.type||null:eM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ds?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),d)),new t(n,i,o,{params:d,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},hl=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(hl||{}),Cu=class{constructor(e,n=fp.Ok,i="OK"){this.headers=e.headers||new Fo,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},U0=class t extends Cu{constructor(e={}){super(e),this.type=hl.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},dp=class t extends Cu{constructor(e={}){super(e),this.type=hl.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hp=class extends Cu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fp=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(fp||{});function B0(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Iu=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Du)o=i;else{let c;s.headers instanceof Fo?c=s.headers:c=new Fo(s.headers);let d;s.params&&(s.params instanceof Ds?d=s.params:d=new Ds({fromObject:s.params})),o=new Du(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=he(o).pipe(br(c=>this.handler.handle(c)));if(i instanceof Du||s.observe==="events")return a;let l=a.pipe(tt(c=>c instanceof dp));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(de(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(de(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Ds().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,B0(s,r))}post(i,r,s={}){return this.request("POST",i,B0(s,r))}put(i,r,s={}){return this.request("PUT",i,B0(s,r))}};e.\u0275fac=function(r){return new(r||e)(q(Tu))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function oM(t,e){return e(t)}function q$(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function W$(t,e,n){return(i,r)=>Ti(n,()=>e(i,s=>t(s,r)))}var Y$=new re(""),z0=new re(""),K$=new re(""),Q$=new re("");function X$(){let t=null;return(e,n)=>{t===null&&(t=(U(Y$,{optional:!0})??[]).reduceRight(q$,oM));let i=U(Oo),r=i.add();return t(e,n).pipe(Ui(()=>i.remove(r)))}}var iM=(()=>{let e=class e extends Tu{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=U(Oo);let s=U(Q$,{optional:!0});this.backend=s??i}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(z0),...this.injector.get(K$,[])]));this.chain=s.reduceRight((o,a)=>W$(o,a,this.injector),oM)}let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(Ui(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(q(up),q(jt))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();var J$=/^\)\]\}',?\n/;function Z$(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var rM=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new fe(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?$e(r.\u0275loadImpl()):he(null)).pipe(st(()=>new _e(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((_,g)=>a.setRequestHeader(_,g.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let _=i.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(i.responseType){let _=i.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let l=i.serializeBody(),c=null,d=()=>{if(c!==null)return c;let _=a.statusText||"OK",g=new Fo(a.getAllResponseHeaders()),C=Z$(a)||i.url;return c=new U0({headers:g,status:a.status,statusText:_,url:C}),c},h=()=>{let{headers:_,status:g,statusText:C,url:b}=d(),x=null;g!==fp.NoContent&&(x=typeof a.response>"u"?a.responseText:a.response),g===0&&(g=x?fp.Ok:0);let R=g>=200&&g<300;if(i.responseType==="json"&&typeof x=="string"){let P=x;x=x.replace(J$,"");try{x=x!==""?JSON.parse(x):null}catch(A){x=P,R&&(R=!1,x={error:A,text:x})}}R?(o.next(new dp({body:x,headers:_,status:g,statusText:C,url:b||void 0})),o.complete()):o.error(new hp({error:x,headers:_,status:g,statusText:C,url:b||void 0}))},f=_=>{let{url:g}=d(),C=new hp({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:g||void 0});o.error(C)},p=!1,y=_=>{p||(o.next(d()),p=!0);let g={type:hl.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(g.total=_.total),i.responseType==="text"&&a.responseText&&(g.partialText=a.responseText),o.next(g)},w=_=>{let g={type:hl.UploadProgress,loaded:_.loaded};_.lengthComputable&&(g.total=_.total),o.next(g)};return a.addEventListener("load",h),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),i.reportProgress&&(a.addEventListener("progress",y),l!==null&&a.upload&&a.upload.addEventListener("progress",w)),a.send(l),o.next({type:hl.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",h),a.removeEventListener("timeout",f),i.reportProgress&&(a.removeEventListener("progress",y),l!==null&&a.upload&&a.upload.removeEventListener("progress",w)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(q(cl))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),aM=new re(""),eU="XSRF-TOKEN",tU=new re("",{providedIn:"root",factory:()=>eU}),nU="X-XSRF-TOKEN",iU=new re("",{providedIn:"root",factory:()=>nU}),pp=class{},rU=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=lp(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(q(ft),q(an),q(tU))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function sU(t,e){let n=t.url.toLowerCase();if(!U(aM)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=U(pp).getToken(),r=U(iU);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var lM=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(lM||{});function oU(t,e){return{\u0275kind:t,\u0275providers:e}}function aU(...t){let e=[Iu,rM,iM,{provide:Tu,useExisting:iM},{provide:up,useExisting:rM},{provide:z0,useValue:sU,multi:!0},{provide:aM,useValue:!0},{provide:pp,useClass:rU}];for(let n of t)e.push(...n.\u0275providers);return Nf(e)}var sM=new re("");function lU(){return oU(lM.LegacyInterceptors,[{provide:sM,useFactory:X$},{provide:z0,useExisting:sM,multi:!0}])}var cM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({providers:[aU(lU())]});let t=e;return t})();var q0=class extends op{constructor(){super(...arguments),this.supportsDOMEvents=!0}},W0=class t extends q0{static makeCurrent(){zS(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=cU();return n==null?null:uU(n)}resetBaseElement(){Su=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lp(document.cookie,e)}},Su=null;function cU(){return Su=Su||document.querySelector("base"),Su?Su.getAttribute("href"):null}function uU(t){return new URL(t,document.baseURI).pathname}var Y0=class{addToWindow(e){sn.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new fe(5103,!1);return s},sn.getAllAngularTestabilities=()=>e.getAllTestabilities(),sn.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=sn.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};sn.frameworkStabilizers||(sn.frameworkStabilizers=[]),sn.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Zi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},dU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),K0=new re(""),pM=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new fe(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(q(K0),q(Te))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),mp=class{constructor(e){this._doc=e}},G0="ng-app-id",mM=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bs(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${G0}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(G0),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(G0,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(q(ft),q($f),q(r0,8),q(an))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),H0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},X0=/%COMP%/g,gM="%COMP%",hU=`_nghost-${gM}`,fU=`_ngcontent-${gM}`,pU=!0,mU=new re("",{providedIn:"root",factory:()=>pU});function gU(t){return fU.replace(X0,t)}function vU(t){return hU.replace(X0,t)}function vM(t,e){return e.map(n=>n.replace(X0,t))}var dM=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=bs(l),this.defaultRenderer=new Mu(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hi.ShadowDom&&(r=Fe(K({},r),{encapsulation:Hi.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof gp?s.applyToHost(i):s instanceof xu&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Hi.Emulated:o=new gp(c,d,r,this.appId,h,a,l,f);break;case Hi.ShadowDom:return new Q0(c,d,i,r,a,l,this.nonce,f);default:o=new xu(c,d,r,h,a,l,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(q(pM),q(mM),q($f),q(mU),q(ft),q(an),q(Te),q(r0))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),Mu=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(H0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(hM(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(hM(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new fe(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=H0[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=H0[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Tr.DashCase|Tr.Important)?e.style.setProperty(n,i,r&Tr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Tr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Zi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function hM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Q0=class extends Mu{constructor(e,n,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=vM(r.id,r.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xu=class extends Mu{constructor(e,n,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?vM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gp=class extends xu{constructor(e,n,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,n,i,s,o,a,l,c),this.contentAttr=gU(c),this.hostAttr=vU(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},yU=(()=>{let e=class e extends mp{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(q(ft))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),fM=["alt","control","meta","shift"],_U={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},bU=(()=>{let e=class e extends mp{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zi().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),fM.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=_U[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),fM.forEach(a=>{if(a!==s){let l=wU[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(q(ft))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function EU(){W0.makeCurrent()}function DU(){return new Yi}function TU(){return SI(document),document}var CU=[{provide:an,useValue:V0},{provide:i0,useValue:EU,multi:!0},{provide:ft,useFactory:TU,deps:[]}],yM=C0(NS,"browser",CU),IU=new re(""),SU=[{provide:_u,useClass:Y0,deps:[]},{provide:E0,useClass:ep,deps:[Te,tp,_u]},{provide:ep,useClass:ep,deps:[Te,tp,_u]}],MU=[{provide:kf,useValue:"root"},{provide:Yi,useFactory:DU,deps:[]},{provide:K0,useClass:yU,multi:!0,deps:[ft,Te,an]},{provide:K0,useClass:bU,multi:!0,deps:[ft]},dM,mM,pM,{provide:au,useExisting:dM},{provide:cl,useClass:dU,deps:[]},[]],_M=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:$f,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(q(IU,12))},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({providers:[...MU,...SU],imports:[QS,kS]});let t=e;return t})();var wM=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(q(ft))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ae="primary",Gu=Symbol("RouteTitle"),n_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vl(t){return new n_(t)}function xU(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function AU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!er(t[n],e[n]))return!1;return!0}function er(t,e){let n=t?i_(t):void 0,i=e?i_(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!AM(t[r],e[r]))return!1;return!0}function i_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function OM(t){return t.length>0?t[t.length-1]:null}function Ss(t){return Tv(t)?t:ws(t)?$e(Promise.resolve(t)):he(t)}var OU={exact:PM,subset:NM},RM={exact:RU,subset:PU,ignored:()=>!0};function EM(t,e,n){return OU[n.paths](t.root,e.root,n.matrixParams)&&RM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function RU(t,e){return er(t,e)}function PM(t,e,n){if(!Vo(t.segments,e.segments)||!_p(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!PM(t.children[i],e.children[i],n))return!1;return!0}function PU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AM(t[n],e[n]))}function NM(t,e,n){return kM(t,e,e.segments,n)}function kM(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Vo(r,n)||e.hasChildren()||!_p(r,n,i))}else if(t.segments.length===n.length){if(!Vo(t.segments,n)||!_p(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!NM(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Vo(t.segments,r)||!_p(t.segments,r,i)||!t.children[Ae]?!1:kM(t.children[Ae],e,s,i)}}function _p(t,e,n){return e.every((i,r)=>RM[n](t[r].parameters,i.parameters))}var Ts=class{constructor(e=new Ke([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=vl(this.queryParams),this._queryParamMap}toString(){return FU.serialize(this)}},Ke=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wp(this)}},Lo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vl(this.parameters),this._parameterMap}toString(){return LM(this)}};function NU(t,e){return Vo(t,e)&&t.every((n,i)=>er(n.parameters,e[i].parameters))}function Vo(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function kU(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Ae&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Ae&&(n=n.concat(e(r,i)))}),n}var Hu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:()=>new Fu,providedIn:"root"});let t=e;return t})(),Fu=class{parse(e){let n=new s_(e);return new Ts(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Au(e.root,!0)}`,i=BU(e.queryParams),r=typeof e.fragment=="string"?`#${LU(e.fragment)}`:"";return`${n}${i}${r}`}},FU=new Fu;function wp(t){return t.segments.map(e=>LM(e)).join("/")}function Au(t,e){if(!t.hasChildren())return wp(t);if(e){let n=t.children[Ae]?Au(t.children[Ae],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==Ae&&i.push(`${r}:${Au(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=kU(t,(i,r)=>r===Ae?[Au(t.children[Ae],!1)]:[`${r}:${Au(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ae]!=null?`${wp(t)}/${n[0]}`:`${wp(t)}/(${n.join("//")})`}}function FM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vp(t){return FM(t).replace(/%3B/gi,";")}function LU(t){return encodeURI(t)}function r_(t){return FM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bp(t){return decodeURIComponent(t)}function DM(t){return bp(t.replace(/\+/g,"%20"))}function LM(t){return`${r_(t.path)}${VU(t.parameters)}`}function VU(t){return Object.entries(t).map(([e,n])=>`;${r_(e)}=${r_(n)}`).join("")}function BU(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${vp(n)}=${vp(r)}`).join("&"):`${vp(n)}=${vp(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var jU=/^[^\/()?;#]+/;function J0(t){let e=t.match(jU);return e?e[0]:""}var $U=/^[^\/()?;=#]+/;function UU(t){let e=t.match($U);return e?e[0]:""}var zU=/^[^=?&#]+/;function GU(t){let e=t.match(zU);return e?e[0]:""}var HU=/^[^&#]+/;function qU(t){let e=t.match(HU);return e?e[0]:""}var s_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Ae]=new Ke(e,n)),i}parseSegment(){let e=J0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(e),new Lo(bp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=UU(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=J0(this.remaining);r&&(i=r,this.capture(i))}e[bp(n)]=bp(i)}parseQueryParam(e){let n=GU(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=qU(this.remaining);o&&(i=o,this.capture(i))}let r=DM(n),s=DM(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=J0(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new fe(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ae);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Ae]:new Ke([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new fe(4011,!1)}};function VM(t){return t.segments.length>0?new Ke([],{[Ae]:t}):t}function BM(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=BM(r);if(i===Ae&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Ke(t.segments,e);return WU(n)}function WU(t){if(t.numberOfChildren===1&&t.children[Ae]){let e=t.children[Ae];return new Ke(t.segments.concat(e.segments),e.children)}return t}function yl(t){return t instanceof Ts}function YU(t,e,n=null,i=null){let r=jM(t);return $M(r,e,n,i)}function jM(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new Ke(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=VM(i);return e??r}function $M(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Z0(r,r,r,n,i);let s=KU(e);if(s.toRoot())return Z0(r,r,new Ke([],{}),n,i);let o=QU(s,r,t),a=o.processChildren?Pu(o.segmentGroup,o.index,s.commands):zM(o.segmentGroup,o.index,s.commands);return Z0(r,o.segmentGroup,a,n,i)}function Ep(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Lu(t){return typeof t=="object"&&t!=null&&t.outlets}function Z0(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=UM(t,e,n);let a=VM(BM(o));return new Ts(a,s,r)}function UM(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=UM(s,e,n)}),new Ke(t.segments,i)}var Dp=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Ep(i[0]))throw new fe(4003,!1);let r=i.find(Lu);if(r&&r!==OM(i))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function KU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Dp(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Dp(n,e,i)}var ml=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function QU(t,e,n){if(t.isAbsolute)return new ml(e,!0,0);if(!n)return new ml(e,!1,NaN);if(n.parent===null)return new ml(n,!0,0);let i=Ep(t.commands[0])?0:1,r=n.segments.length-1+i;return XU(n,r,t.numberOfDoubleDots)}function XU(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new fe(4005,!1);r=i.segments.length}return new ml(i,!1,r-s)}function JU(t){return Lu(t[0])?t[0].outlets:{[Ae]:t}}function zM(t,e,n){if(t??=new Ke([],{}),t.segments.length===0&&t.hasChildren())return Pu(t,e,n);let i=ZU(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Ke(t.segments.slice(0,i.pathIndex),{});return s.children[Ae]=new Ke(t.segments.slice(i.pathIndex),t.children),Pu(s,0,r)}else return i.match&&r.length===0?new Ke(t.segments,{}):i.match&&!t.hasChildren()?o_(t,e,n):i.match?Pu(t,0,r):o_(t,e,n)}function Pu(t,e,n){if(n.length===0)return new Ke(t.segments,{});{let i=JU(n),r={};if(Object.keys(i).some(s=>s!==Ae)&&t.children[Ae]&&t.numberOfChildren===1&&t.children[Ae].segments.length===0){let s=Pu(t.children[Ae],e,n);return new Ke(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=zM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Ke(t.segments,r)}}function ZU(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Lu(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!CM(l,c,o))return s;i+=2}else{if(!CM(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function o_(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Lu(s)){let l=e3(s.outlets);return new Ke(i,l)}if(r===0&&Ep(n[0])){let l=t.segments[e];i.push(new Lo(l.path,TM(n[0]))),r++;continue}let o=Lu(s)?s.outlets[Ae]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Ep(a)?(i.push(new Lo(o,TM(a))),r+=2):(i.push(new Lo(o,{})),r++)}return new Ke(i,{})}function e3(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=o_(new Ke([],{}),0,i))}),e}function TM(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function CM(t,e,n){return t==n.path&&er(e,n.parameters)}var Nu="imperative",Qt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qt||{}),ni=class{constructor(e,n){this.id=e,this.url=n}},_l=class extends ni{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Qt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fr=class extends ni{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Qt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Yn||{}),Tp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Tp||{}),Cs=class extends ni{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Qt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Is=class extends ni{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Qt.NavigationSkipped}},Vu=class extends ni{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Qt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cp=class extends ni{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Qt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a_=class extends ni{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Qt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},l_=class extends ni{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Qt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},c_=class extends ni{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Qt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},u_=class extends ni{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Qt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},d_=class{constructor(e){this.route=e,this.type=Qt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},h_=class{constructor(e){this.route=e,this.type=Qt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},f_=class{constructor(e){this.snapshot=e,this.type=Qt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},p_=class{constructor(e){this.snapshot=e,this.type=Qt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},m_=class{constructor(e){this.snapshot=e,this.type=Qt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},g_=class{constructor(e){this.snapshot=e,this.type=Qt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ip=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Qt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Bu=class{},ju=class{constructor(e){this.url=e}};var v_=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qu,this.attachRef=null}},qu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new v_,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=y_(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=y_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=__(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return __(e,this._root).map(n=>n.value)}};function y_(t,e){if(t===e.value)return e;for(let n of e.children){let i=y_(t,n);if(i)return i}return null}function __(t,e){if(t===e.value)return[e];for(let n of e.children){let i=__(t,n);if(i.length)return i.unshift(e),i}return[]}var Wn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function pl(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mp=class extends Sp{constructor(e,n){super(e),this.snapshot=n,x_(this,e)}toString(){return this.snapshot.toString()}};function GM(t){let e=t3(t),n=new It([new Lo("",{})]),i=new It({}),r=new It({}),s=new It({}),o=new It(""),a=new wl(n,i,s,o,r,Ae,t,e.root);return a.snapshot=e.root,new Mp(new Wn(a,[]),e)}function t3(t){let e={},n={},i={},r="",s=new $u([],e,i,r,n,Ae,t,null,{});return new xp("",new Wn(s,[]))}var wl=class{constructor(e,n,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(de(c=>c[Gu]))??he(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>vl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>vl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function M_(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:K(K({},e.params),t.params),data:K(K({},e.data),t.data),resolve:K(K(K(K({},t.data),e.data),r?.data),t._resolvedData)}:i={params:K({},t.params),data:K({},t.data),resolve:K(K({},t.data),t._resolvedData??{})},r&&qM(r)&&(i.resolve[Gu]=r.title),i}var $u=class{get title(){return this.data?.[Gu]}constructor(e,n,i,r,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},xp=class extends Sp{constructor(e,n){super(n),this.url=e,x_(this,n)}toString(){return HM(this._root)}};function x_(t,e){e.value._routerState=t,e.children.forEach(n=>x_(t,n))}function HM(t){let e=t.children.length>0?` { ${t.children.map(HM).join(", ")} } `:"";return`${t.value}${e}`}function e_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,er(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),er(e.params,n.params)||t.paramsSubject.next(n.params),AU(e.url,n.url)||t.urlSubject.next(n.url),er(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function w_(t,e){let n=er(t.params,e.params)&&NU(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||w_(t.parent,e.parent))}function qM(t){return typeof t.title=="string"||t.title===null}var A_=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.parentContexts=U(qu),this.location=U(_s),this.changeDetector=U(Ji),this.environmentInjector=U(jt),this.inputBinder=U(Np,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new b_(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Et({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ki]});let t=e;return t})(),b_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===wl?this.route:e===qu?this.childContexts:this.parent.get(e,n)}},Np=new re(""),IM=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=cs([r.queryParams,r.params,r.data]).pipe(st(([o,a,l],c)=>(l=K(K(K({},o),a),l),c===0?he(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=FS(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function n3(t,e,n){let i=Uu(t,e._root,n?n._root:void 0);return new Mp(i,e)}function Uu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=i3(t,e,n);return new Wn(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uu(t,a)),o}}let i=r3(e.value),r=e.children.map(s=>Uu(t,s));return new Wn(i,r)}}function i3(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Uu(t,i,r);return Uu(t,i)})}function r3(t){return new wl(new It(t.url),new It(t.params),new It(t.queryParams),new It(t.fragment),new It(t.data),t.outlet,t.component,t)}var WM="ngNavigationCancelingError";function YM(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=yl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=KM(!1,Yn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function KM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[WM]=!0,n.cancellationCode=e,n}function s3(t){return QM(t)&&yl(t.url)}function QM(t){return!!t&&t[WM]}var o3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Po],decls:1,vars:0,template:function(r,s){r&1&&Ee(0,"router-outlet")},dependencies:[A_],encapsulation:2});let t=e;return t})();function a3(t,e){return t.providers&&!t._injector&&(t._injector=Qf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function O_(t){let e=t.children&&t.children.map(O_),n=e?Fe(K({},t),{children:e}):K({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ae&&(n.component=o3),n}function tr(t){return t.outlet||Ae}function l3(t,e){let n=t.filter(i=>tr(i)===e);return n.push(...t.filter(i=>tr(i)!==e)),n}function Wu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var c3=(t,e,n,i)=>de(r=>(new E_(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),E_=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),e_(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=pl(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=pl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=pl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=pl(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new g_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new p_(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(e_(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),e_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Wu(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Ap=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gl=class{constructor(e,n){this.component=e,this.route=n}};function u3(t,e,n){let i=t._root,r=e?e._root:null;return Ou(i,r,n,[i.value])}function d3(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function El(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!pC(t)?t:e.get(t):i}function Ou(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=pl(e);return t.children.forEach(o=>{h3(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ku(a,n.getContext(o),r)),r}function h3(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=f3(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ap(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ou(t,e,a?a.children:null,i,r):Ou(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new gl(a.outlet.component,o))}else o&&ku(e,a,r),r.canActivateChecks.push(new Ap(i)),s.component?Ou(t,null,a?a.children:null,i,r):Ou(t,null,n,i,r);return r}function f3(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Vo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vo(t.url,e.url)||!er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w_(t,e)||!er(t.queryParams,e.queryParams);case"paramsChange":default:return!w_(t,e)}}function ku(t,e,n){let i=pl(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?ku(o,e.children.getContext(s),n):ku(o,null,n):ku(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new gl(e.outlet.component,r)):n.canDeactivateChecks.push(new gl(null,r)):n.canDeactivateChecks.push(new gl(null,r))}function Yu(t){return typeof t=="function"}function p3(t){return typeof t=="boolean"}function m3(t){return t&&Yu(t.canLoad)}function g3(t){return t&&Yu(t.canActivate)}function v3(t){return t&&Yu(t.canActivateChild)}function y3(t){return t&&Yu(t.canDeactivate)}function _3(t){return t&&Yu(t.canMatch)}function XM(t){return t instanceof wr||t?.name==="EmptyError"}var yp=Symbol("INITIAL_VALUE");function bl(){return st(t=>cs(t.map(e=>e.pipe(wt(1),hs(yp)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===yp)return yp;if(n===!1||n instanceof Ts)return n}return!0}),tt(e=>e!==yp),wt(1)))}function w3(t,e){return ut(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?he(Fe(K({},n),{guardsResult:!0})):b3(o,i,r,t).pipe(ut(a=>a&&p3(a)?E3(i,s,t,e):he(a)),de(a=>Fe(K({},n),{guardsResult:a})))})}function b3(t,e,n,i){return $e(t).pipe(ut(r=>S3(r.component,r.route,n,e,i)),Zn(r=>r!==!0,!0))}function E3(t,e,n,i){return $e(e).pipe(br(r=>$i(T3(r.route.parent,i),D3(r.route,i),I3(t,r.path,n),C3(t,r.route,n))),Zn(r=>r!==!0,!0))}function D3(t,e){return t!==null&&e&&e(new m_(t)),he(!0)}function T3(t,e){return t!==null&&e&&e(new f_(t)),he(!0)}function C3(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return he(!0);let r=i.map(s=>Hh(()=>{let o=Wu(e)??n,a=El(s,o),l=g3(a)?a.canActivate(e,t):Ti(o,()=>a(e,t));return Ss(l).pipe(Zn())}));return he(r).pipe(bl())}function I3(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>d3(o)).filter(o=>o!==null).map(o=>Hh(()=>{let a=o.guards.map(l=>{let c=Wu(o.node)??n,d=El(l,c),h=v3(d)?d.canActivateChild(i,t):Ti(c,()=>d(i,t));return Ss(h).pipe(Zn())});return he(a).pipe(bl())}));return he(s).pipe(bl())}function S3(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return he(!0);let o=s.map(a=>{let l=Wu(e)??r,c=El(a,l),d=y3(c)?c.canDeactivate(t,e,n,i):Ti(l,()=>c(t,e,n,i));return Ss(d).pipe(Zn())});return he(o).pipe(bl())}function M3(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return he(!0);let s=r.map(o=>{let a=El(o,t),l=m3(a)?a.canLoad(e,n):Ti(t,()=>a(e,n));return Ss(l)});return he(s).pipe(bl(),JM(i))}function JM(t){return vv(Je(e=>{if(yl(e))throw YM(t,e)}),de(e=>e===!0))}function x3(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return he(!0);let s=r.map(o=>{let a=El(o,t),l=_3(a)?a.canMatch(e,n):Ti(t,()=>a(e,n));return Ss(l)});return he(s).pipe(bl(),JM(i))}var zu=class{constructor(e){this.segmentGroup=e||null}},Op=class extends Error{constructor(e){super(),this.urlTree=e}};function fl(t){return vi(new zu(t))}function A3(t){return vi(new fe(4e3,!1))}function O3(t){return vi(KM(!1,Yn.GuardRejected))}var D_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return he(i);if(r.numberOfChildren>1||!r.children[Ae])return A3(e.redirectTo);r=r.children[Ae]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Op(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new Ts(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new Ke(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new fe(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},T_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R3(t,e,n,i,r){let s=R_(t,e,n);return s.matched?(i=a3(e,i),x3(i,e,n,r).pipe(de(o=>o===!0?s:K({},T_)))):he(s)}function R_(t,e,n){if(e.path==="**")return P3(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?K({},T_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||xU)(n,t,e);if(!r)return K({},T_);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?K(K({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function P3(t){return{matched:!0,parameters:t.length>0?OM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function SM(t,e,n,i){return n.length>0&&F3(t,n,i)?{segmentGroup:new Ke(e,k3(i,new Ke(n,t.children))),slicedSegments:[]}:n.length===0&&L3(t,n,i)?{segmentGroup:new Ke(t.segments,N3(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ke(t.segments,t.children),slicedSegments:n}}function N3(t,e,n,i){let r={};for(let s of n)if(kp(t,e,s)&&!i[tr(s)]){let o=new Ke([],{});r[tr(s)]=o}return K(K({},i),r)}function k3(t,e){let n={};n[Ae]=e;for(let i of t)if(i.path===""&&tr(i)!==Ae){let r=new Ke([],{});n[tr(i)]=r}return n}function F3(t,e,n){return n.some(i=>kp(t,e,i)&&tr(i)!==Ae)}function L3(t,e,n){return n.some(i=>kp(t,e,i))}function kp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function V3(t,e,n,i){return tr(t)!==i&&(i===Ae||!kp(e,n,t))?!1:R_(e,t,n).matched}function B3(t,e,n){return e.length===0&&!t.children[n]}var C_=class{};function j3(t,e,n,i,r,s,o="emptyOnly"){return new I_(t,e,n,i,r,o,s).recognize()}var $3=31,I_=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new D_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new fe(4002,`'${e.segmentGroup}'`)}recognize(){let e=SM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(n=>{let i=new $u([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ae,this.rootComponentType,null,{}),r=new Wn(i,n),s=new xp("",r),o=YU(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ae).pipe(yi(i=>{if(i instanceof Op)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof zu?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=M_(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(de(s=>s instanceof Wn?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return $e(r).pipe(br(s=>{let o=i.children[s],a=l3(n,s);return this.processSegmentGroup(e,a,o,s)}),po((s,o)=>(s.push(...o),s)),ds(null),xv(),ut(s=>{if(s===null)return fl(i);let o=ZM(s);return U3(o),he(o)}))}processSegment(e,n,i,r,s,o){return $e(n).pipe(br(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(yi(l=>{if(l instanceof zu)return he(null);throw l}))),Zn(a=>!!a),yi(a=>{if(XM(a))return B3(i,r,s)?he(new C_):fl(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return V3(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):fl(r):fl(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=R_(n,r,s);if(!a)return fl(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$3&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(ut(f=>this.processSegment(e,i,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=R3(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(st(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(st(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:f}=a,p=new $u(d,f,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,G3(i),tr(i),i.component??i._loadedComponent??null,i,H3(i)),{segmentGroup:y,slicedSegments:w}=SM(n,d,h,l);if(w.length===0&&y.hasChildren())return this.processChildren(c,l,y).pipe(de(g=>g===null?null:new Wn(p,g)));if(l.length===0&&w.length===0)return he(new Wn(p,[]));let _=tr(i)===s;return this.processSegment(c,l,y,w,_?Ae:s,!0).pipe(de(g=>new Wn(p,g instanceof Wn?[g]:[])))}))):fl(n)))}getChildConfig(e,n,i){return n.children?he({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?he({routes:n._loadedRoutes,injector:n._loadedInjector}):M3(e,n,i,this.urlSerializer).pipe(ut(r=>r?this.configLoader.loadChildren(e,n).pipe(Je(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):O3(n))):he({routes:[],injector:e})}};function U3(t){t.sort((e,n)=>e.value.outlet===Ae?-1:n.value.outlet===Ae?1:e.value.outlet.localeCompare(n.value.outlet))}function z3(t){let e=t.value.routeConfig;return e&&e.path===""}function ZM(t){let e=[],n=new Set;for(let i of t){if(!z3(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=ZM(i.children);e.push(new Wn(i.value,r))}return e.filter(i=>!n.has(i))}function G3(t){return t.data||{}}function H3(t){return t.resolve||{}}function q3(t,e,n,i,r,s){return ut(o=>j3(t,e,n,i,o.extractedUrl,r,s).pipe(de(({state:a,tree:l})=>Fe(K({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function W3(t,e){return ut(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return he(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of ex(l))o.add(c);let a=0;return $e(o).pipe(br(l=>s.has(l)?Y3(l,i,t,e):(l.data=M_(l,l.parent,t).resolve,he(void 0))),Je(()=>a++),za(1),ut(l=>a===o.size?he(n):Bt))})}function ex(t){let e=t.children.map(n=>ex(n)).flat();return[t,...e]}function Y3(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!qM(r)&&(s[Gu]=r.title),K3(s,t,e,i).pipe(de(o=>(t._resolvedData=o,t.data=M_(t,t.parent,n).resolve,null)))}function K3(t,e,n,i){let r=i_(t);if(r.length===0)return he({});let s={};return $e(r).pipe(ut(o=>Q3(t[o],e,n,i).pipe(Zn(),Je(a=>{s[o]=a}))),za(1),Yc(s),yi(o=>XM(o)?Bt:vi(o)))}function Q3(t,e,n,i){let r=Wu(e)??i,s=El(t,r),o=s.resolve?s.resolve(e,n):Ti(r,()=>s(e,n));return Ss(o)}function t_(t){return st(e=>{let n=t(e);return n?$e(n).pipe(de(()=>e)):he(e)})}var tx=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===Ae);return r}getResolvedTitleForRoute(i){return i.data[Gu]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:()=>U(X3),providedIn:"root"});let t=e;return t})(),X3=(()=>{let e=class e extends tx{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(q(wM))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ku=new re("",{providedIn:"root",factory:()=>({})}),Rp=new re(""),P_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(rp)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return he(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Ss(i.loadComponent()).pipe(de(nx),Je(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Ui(()=>{this.componentLoaders.delete(i)})),s=new Fa(r,()=>new xe).pipe(ka());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=J3(r,this.compiler,i,this.onLoadEndListener).pipe(Ui(()=>{this.childrenLoaders.delete(r)})),a=new Fa(o,()=>new xe).pipe(ka());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J3(t,e,n,i){return Ss(t.loadChildren()).pipe(de(nx),ut(r=>r instanceof lu||Array.isArray(r)?he(r):$e(e.compileModuleAsync(r))),de(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Rp,[],{optional:!0,self:!0}).flat()),{routes:o.map(O_),injector:s}}))}function Z3(t){return t&&typeof t=="object"&&"default"in t}function nx(t){return Z3(t)?t.default:t}var N_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:()=>U(ez),providedIn:"root"});let t=e;return t})(),ez=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ix=new re(""),rx=new re("");function tz(t,e,n){let i=t.get(rx),r=t.get(ft);return t.get(Te).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),nz(t))),{onViewTransitionCreated:l}=i;return l&&Ti(t,()=>l({transition:a,from:e,to:n})),o})}function nz(t){return new Promise(e=>{Kf(e,{injector:t})})}var k_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe,this.transitionAbortSubject=new xe,this.configLoader=U(P_),this.environmentInjector=U(jt),this.urlSerializer=U(Hu),this.rootContexts=U(qu),this.location=U(ul),this.inputBindingEnabled=U(Np,{optional:!0})!==null,this.titleStrategy=U(tx),this.options=U(Ku,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(N_),this.createViewTransition=U(ix,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null;let i=s=>this.events.next(new d_(s)),r=s=>this.events.next(new h_(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Fe(K(K({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new It({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tt(o=>o.id!==0),de(o=>Fe(K({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),st(o=>{let a=!1,l=!1;return he(o).pipe(st(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Yn.SupersededByNewNavigation),Bt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Fe(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let f="";return this.events.next(new Is(c.id,this.urlSerializer.serialize(c.rawUrl),f,Tp.IgnoredSameUrlNavigation)),c.resolve(null),Bt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return he(c).pipe(st(f=>{let p=this.transitions?.getValue();return this.events.next(new _l(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Bt:Promise.resolve(f)}),q3(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Je(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Fe(K({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new Cp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:p,source:y,restoredState:w,extras:_}=c,g=new _l(f,this.urlSerializer.serialize(p),y,w);this.events.next(g);let C=GM(this.rootComponentType).snapshot;return this.currentTransition=o=Fe(K({},c),{targetSnapshot:C,urlAfterRedirects:p,extras:Fe(K({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,he(o)}else{let f="";return this.events.next(new Is(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Tp.IgnoredByUrlHandlingStrategy)),c.resolve(null),Bt}}),Je(c=>{let d=new a_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),de(c=>(this.currentTransition=o=Fe(K({},c),{guards:u3(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),w3(this.environmentInjector,c=>this.events.next(c)),Je(c=>{if(o.guardsResult=c.guardsResult,yl(c.guardsResult))throw YM(this.urlSerializer,c.guardsResult);let d=new l_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),tt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Yn.GuardRejected),!1)),t_(c=>{if(c.guards.canActivateChecks.length)return he(c).pipe(Je(d=>{let h=new c_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),st(d=>{let h=!1;return he(d).pipe(W3(this.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Yn.NoDataFromResolver)}}))}),Je(d=>{let h=new u_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),t_(c=>{let d=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(Je(p=>{h.component=p}),de(()=>{})));for(let p of h.children)f.push(...d(p));return f};return cs(d(c.targetSnapshot.root)).pipe(ds(null),wt(1))}),t_(()=>this.afterPreactivation()),st(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?$e(h).pipe(de(()=>o)):he(o)}),de(c=>{let d=n3(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Fe(K({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Je(()=>{this.events.next(new Bu)}),c3(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),wt(1),Je({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),bt(this.transitionAbortSubject.pipe(Je(c=>{throw c}))),Ui(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Yn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),yi(c=>{if(l=!0,QM(c))this.events.next(new Cs(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),s3(c)?this.events.next(new ju(c.url)):o.resolve(!1);else{this.events.next(new Vu(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(c))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Bt}))}))}cancelNavigationTransition(i,r,s){let o=new Cs(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iz(t){return t!==Nu}var rz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:()=>U(sz),providedIn:"root"});let t=e;return t})(),S_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},sz=(()=>{let e=class e extends S_{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=ys(e)))(s||e)}})(),e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:()=>U(oz),providedIn:"root"});let t=e;return t})(),oz=(()=>{let e=class e extends sx{constructor(){super(...arguments),this.location=U(ul),this.urlSerializer=U(Hu),this.options=U(Ku,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(N_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ts,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof _l)this.stateMemento=this.createStateMemento();else if(i instanceof Is)this.rawUrlTree=r.initialUrl;else if(i instanceof Cp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Bu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Cs&&(i.code===Yn.GuardRejected||i.code===Yn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Vu?this.restoreHistory(r,!0):i instanceof Fr&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=K(K({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=K(K({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=ys(e)))(s||e)}})(),e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ru=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ru||{});function ox(t,e){t.events.pipe(tt(n=>n instanceof Fr||n instanceof Cs||n instanceof Vu||n instanceof Is),de(n=>n instanceof Fr||n instanceof Is?Ru.COMPLETE:(n instanceof Cs?n.code===Yn.Redirect||n.code===Yn.SupersededByNewNavigation:!1)?Ru.REDIRECTING:Ru.FAILED),tt(n=>n!==Ru.REDIRECTING),wt(1)).subscribe(()=>{e()})}function az(t){throw t}var lz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=U(Zf),this.stateManager=U(sx),this.options=U(Ku,{optional:!0})||{},this.pendingTasks=U(Oo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(k_),this.urlSerializer=U(Hu),this.location=U(ul),this.urlHandlingStrategy=U(N_),this._events=new xe,this.errorHandler=this.options.errorHandler||az,this.navigated=!1,this.routeReuseStrategy=U(rz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(Rp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(Np,{optional:!0}),this.eventsSubscription=new Ct,this.isNgZoneEnabled=U(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cs&&r.code!==Yn.Redirect&&r.code!==Yn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Fr)this.navigated=!0;else if(r instanceof ju){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||iz(s.source)};this.scheduleNavigation(a,Nu,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}dz(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=K({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(O_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=K(K({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let p=s?s.snapshot:this.routerState.snapshot.root;f=jM(p)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),f=this.currentUrlTree.root}return $M(f,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=yl(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Nu,null,r)}navigate(i,r={skipLocationChange:!1}){return uz(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=K({},lz):r===!1?s=K({},cz):s=r,yl(i))return EM(this.currentUrlTree,i,s);let o=this.parseUrl(i);return EM(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((f,p)=>{l=f,c=p});let h=this.pendingTasks.add();return ox(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new fe(4008,!1)}function dz(t){return!(t instanceof Bu)&&!(t instanceof ju)}var Pp=class{};var hz=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(tt(i=>i instanceof Fr),br(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Qf(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return $e(s).pipe(us())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=he(null);let o=s.pipe(ut(a=>a===null?he(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return $e([o,a]).pipe(us())}else return o})}};e.\u0275fac=function(r){return new(r||e)(q(Dn),q(rp),q(jt),q(Pp),q(P_))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ax=new re(""),fz=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=U(jt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof _l?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Fr?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Is&&i.code===Tp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ip&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>j(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Kf(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ip(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){UI()},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function pz(t){return t.routerState.root}function Qu(t,e){return{\u0275kind:t,\u0275providers:e}}function mz(){let t=U(Kt);return e=>{let n=t.get(Xi);if(e!==n.components[0])return;let i=t.get(Dn),r=t.get(lx);t.get(F_)===1&&i.initialNavigation(),t.get(cx,null,Le.Optional)?.setUpPreloading(),t.get(ax,null,Le.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var lx=new re("",{factory:()=>new xe}),F_=new re("",{providedIn:"root",factory:()=>1});function gz(){return Qu(2,[{provide:F_,useValue:0},{provide:np,multi:!0,deps:[Kt],useFactory:e=>{let n=e.get(GS,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Dn),s=e.get(lx);ox(r,()=>{i(!0)}),e.get(k_).afterPreactivation=()=>(i(!0),s.closed?he(void 0):s),r.initialNavigation()}))}}])}function vz(){return Qu(3,[{provide:np,multi:!0,useFactory:()=>{let e=U(Dn);return()=>{e.setUpLocationChangeListener()}}},{provide:F_,useValue:2}])}var cx=new re("");function yz(t){return Qu(0,[{provide:cx,useExisting:hz},{provide:Pp,useExisting:t}])}function _z(){return Qu(8,[IM,{provide:Np,useExisting:IM}])}function wz(t){let e=[{provide:ix,useValue:tz},{provide:rx,useValue:K({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qu(9,e)}var MM=new re("ROUTER_FORROOT_GUARD"),bz=[ul,{provide:Hu,useClass:Fu},Dn,qu,{provide:wl,useFactory:pz,deps:[Dn]},P_,[]],L_=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[bz,[],{provide:Rp,multi:!0,useValue:i},{provide:MM,useFactory:Cz,deps:[[Dn,new du,new bC]]},{provide:Ku,useValue:r||{}},r?.useHash?Dz():Tz(),Ez(),r?.preloadingStrategy?yz(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Iz(r):[],r?.bindToComponentInputs?_z().\u0275providers:[],r?.enableViewTransitions?wz().\u0275providers:[],Sz()]}}static forChild(i){return{ngModule:e,providers:[{provide:Rp,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(q(MM,8))},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();function Ez(){return{provide:ax,useFactory:()=>{let t=U(JS),e=U(Te),n=U(Ku),i=U(k_),r=U(Hu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new fz(r,i,t,e,n)}}}function Dz(){return{provide:ko,useClass:qS}}function Tz(){return{provide:ko,useClass:L0}}function Cz(t){return"guarded"}function Iz(t){return[t.initialNavigation==="disabled"?vz().\u0275providers:[],t.initialNavigation==="enabledBlocking"?gz().\u0275providers:[]]}var xM=new re("");function Sz(){return[{provide:xM,useFactory:mz},{provide:ip,multi:!0,useExisting:xM}]}var ux=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["app-credit-card-item"]],decls:22,vars:0,consts:[[1,"card","theme-bg","shadow-sm","shadow-purple","mb-3","blue-gradient"],[1,"card-body"],[1,"row","mb-4"],[1,"col-auto","align-self-center"],["src","","alt",""],[1,"col","align-self-center","text-end"],[1,"small"],[1,""],[1,"fw-normal","mb-3"],[1,"row"],[1,"col-auto"],[1,"mb-0","text-muted","size-10"],[1,"col","text-end"],[1,"mb-0","text-light","size-10"]],template:function(r,s){r&1&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ee(4,"img",4),J(),Y(5,"div",5)(6,"p",6)(7,"span",7),ue(8,"Credit Card"),J()()()(),Y(9,"h6",8),ue(10," 000 0000 0001 546598 "),J(),Y(11,"div",9)(12,"div",10)(13,"small",11),ue(14,"Total"),J(),Y(15,"p"),ue(16,"$10,200"),J()(),Y(17,"div",12)(18,"small",13),ue(19,"Card Holder"),J(),Y(20,"p"),ue(21,"CardName"),J()()()()())},styles:[".card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:none;border-radius:.5rem}.card.blue-gradient[_ngcontent-%COMP%]{-webkit-box-shadow:0 3px 10px rgba(0,0,0,.07),inset 0 1px 0px rgba(255,255,255,.18);-moz-box-shadow:0 3px 10px rgba(0,0,0,.07),inset 0 1px 0px rgba(255,255,255,.18);background:radial-gradient(ellipse at 30% 30%,#57bdff,#4f77fb,#6528cf);color:#fff}.card[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]{border-top:inherit;border-bottom:inherit}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%], .card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%] + .card-footer[_ngcontent-%COMP%]{border-top:0}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1rem}.card-title[_ngcontent-%COMP%]{margin-bottom:.5rem}.card-subtitle[_ngcontent-%COMP%]{margin-top:-.25rem;margin-bottom:0}.card-text[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-link[_ngcontent-%COMP%]:hover{text-decoration:none}.card-link[_ngcontent-%COMP%] + .card-link[_ngcontent-%COMP%]{margin-left:1rem}.card-header[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;background-color:#00000008;border-bottom:1px solid rgba(0,0,0,.125)}.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#00000008;border-top:1px solid rgba(0,0,0,.125)}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs[_ngcontent-%COMP%]{margin-right:-.5rem;margin-bottom:-.5rem;margin-left:-.5rem;border-bottom:0}.card-header-pills[_ngcontent-%COMP%]{margin-right:-.5rem;margin-left:-.5rem}.card-img-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;padding:1rem;border-radius:calc(.25rem - 1px)}.card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%], .card-img-bottom[_ngcontent-%COMP%]{width:100%}.card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img[_ngcontent-%COMP%], .card-img-bottom[_ngcontent-%COMP%]{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{margin-bottom:.75rem}@media (min-width: 576px){.card-group[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{flex:1 0 0%;margin-bottom:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-left:0;border-left:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-img-top[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-header[_ngcontent-%COMP%]{border-top-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-footer[_ngcontent-%COMP%]{border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-img-top[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-header[_ngcontent-%COMP%]{border-top-left-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-footer[_ngcontent-%COMP%]{border-bottom-left-radius:0}}"]});let t=e;return t})();var Dl=(()=>{let e=class e{constructor(i){this.http=i,this.language=new It("en"),this.translations=new It({});let r=localStorage.getItem("language");r?this.setLanguage(r):this.setLanguage("en")}setLanguage(i){localStorage.setItem("language",i),this.language.next(i),this.loadTranslations(i).subscribe(),document.documentElement.setAttribute("lang",i)}getLanguage(){return this.language.asObservable()}loadTranslations(i){return this.http.get(`assets/i18n/${i}.json`).pipe(Je(r=>{this.translations.next(r)}))}getTranslations(){return this.translations.asObservable()}translate(i,r){let s=i.split("."),o=r;for(let a of s)if(o=o[a],!o)return i;return o}};e.\u0275fac=function(r){return new(r||e)(q(Iu))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kn=(()=>{let e=class e{constructor(i){this.translationService=i}transform(i){return cs([this.translationService.getTranslations(),this.translationService.getLanguage()]).pipe(de(([r,s])=>this.translationService.translate(i,r)))}};e.\u0275fac=function(r){return new(r||e)(Pe(Dl,16))},e.\u0275pipe=fu({name:"translate",type:e,pure:!1});let t=e;return t})();var hx=(()=>{let e=class e{constructor(){this.swiperbreakpoints={0:{spaceBetween:15,slidesPerView:1.1,center:!0},640:{slidesPerView:2},1024:{slidesPerView:3}}}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["app-cards-list"]],decls:19,vars:11,consts:[[1,"row","mb-2","my-3"],[1,"col"],[1,"title"],[1,"col-auto","align-self-center"],["href","#",1,"small"],[1,""],["space-between","30","css-mode","true",3,"breakpoints"]],template:function(r,s){r&1&&(Y(0,"div",0)(1,"div",1)(2,"h6",2),ue(3),ae(4,"translate"),ae(5,"async"),J()(),Y(6,"div",3)(7,"a",4),ue(8),ae(9,"translate"),ae(10,"async"),J()()(),Y(11,"div",5)(12,"swiper-container",6)(13,"swiper-slide"),Ee(14,"app-credit-card-item"),J(),Y(15,"swiper-slide"),Ee(16,"app-credit-card-item"),J(),Y(17,"swiper-slide"),Ee(18,"app-credit-card-item"),J()()()),r&2&&(ye(3),Ve(ce(5,5,ce(4,3,"home.available_cards"))),ye(5),Ve(ce(10,9,ce(9,7,"add_new"))),ye(4),Pn("breakpoints",s.swiperbreakpoints))},dependencies:[ux,Nn,kn]});let t=e;return t})();var fx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["app-home"]],decls:49,vars:32,consts:[[1,"row","my-4","text-center"],[1,"col-12"],[1,""],[1,"fw-light","mb-2"],[1,"text-secondary"],["href",""],[1,"row","g-2","mb-4"],[1,"col-6"],[1,"card"],[1,"card-body","p-2","p-lg-3"],[1,"row","align-items-center"],[1,"col-auto"],[1,"avatar","p-1","shadow-sm","shadow-success","rounded"],[1,"icons","bg-success","text-white","rounded"],[1,"bi","bi-arrow-down-left"],[1,"col","align-self-center","ps-0"],[1,"size-10","text-secondary","mb-0"],[1,"mb-1"],[1,"avatar","p-1","shadow-sm","shadow-danger","rounded"],[1,"icons","bg-danger","text-white","rounded"],[1,"bi","bi-arrow-up-right"]],template:function(r,s){r&1&&(Ee(0,"app-cards-list"),Y(1,"div",0)(2,"div",1)(3,"div",2)(4,"span"),ue(5),ae(6,"translate"),ae(7,"async"),J(),Y(8,"h1",3),ue(9),ae(10,"number"),J(),Y(11,"p",4)(12,"a",5),ue(13),ae(14,"translate"),ae(15,"async"),J()()()()(),Y(16,"div",6)(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11)(22,"div",12)(23,"div",13),Ee(24,"i",14),J()()(),Y(25,"div",15)(26,"p",16),ue(27),ae(28,"translate"),ae(29,"async"),J(),Y(30,"p",17),ue(31),ae(32,"number"),J()()()()()(),Y(33,"div",7)(34,"div",8)(35,"div",9)(36,"div",10)(37,"div",11)(38,"div",18)(39,"div",19),Ee(40,"i",20),J()()(),Y(41,"div",15)(42,"p",16),ue(43),ae(44,"translate"),ae(45,"async"),J(),Y(46,"p",17),ue(47),ae(48,"number"),J()()()()()()()),r&2&&(ye(5),Ve(ce(7,9,ce(6,7,"total"))),ye(4),ti("$ ",Jf(10,11,2612,"3.2"),""),ye(4),Ve(ce(15,16,ce(14,14,"edit"))),ye(14),Ve(ce(29,20,ce(28,18,"home.income"))),ye(4),ti("$ ",Jf(32,22,1405.62,"3.2"),""),ye(12),Ve(ce(45,27,ce(44,25,"home.expense"))),ye(4),ti("$ ",Jf(48,29,1205.2,"3.2"),""))},dependencies:[hx,Nn,KS,kn],styles:[".card[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);border-radius:10px;border-color:#f8f8f8;box-shadow:0 2px 5px #0000001a;-webkit-box-shadow:0 2px 5px rgba(0,0,0,.1);-moz-box-shadow:0 2px 5px rgba(0,0,0,.1)}.avatar[_ngcontent-%COMP%]{line-height:40px;height:40px;width:40px}.avatar[_ngcontent-%COMP%] > .icons[_ngcontent-%COMP%]{line-height:normal;display:flex;align-content:center;align-items:center;justify-content:center;height:100%;width:100%}"]});let t=e;return t})();var Ex=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(Pe(rl),Pe($t))},e.\u0275dir=Et({type:e});let t=e;return t})(),Az=(()=>{let e=class e extends Ex{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=ys(e)))(s||e)}})(),e.\u0275dir=Et({type:e,features:[Ci]});let t=e;return t})(),Dx=new re("");var Oz={provide:Dx,useExisting:Mr(()=>Sl),multi:!0};function Rz(){let t=Zi()?Zi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Pz=new re(""),Sl=(()=>{let e=class e extends Ex{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Rz())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(Pe(rl),Pe($t),Pe(Pz,8))},e.\u0275dir=Et({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Ut("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Ro([Oz]),Ci]});let t=e;return t})();function Ms(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Tx(t){return t!=null&&typeof t.length=="number"}var $_=new re(""),Cx=new re(""),Nz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Lr=class{static min(e){return kz(e)}static max(e){return Fz(e)}static required(e){return Ix(e)}static requiredTrue(e){return Lz(e)}static email(e){return Vz(e)}static minLength(e){return Bz(e)}static maxLength(e){return jz(e)}static pattern(e){return $z(e)}static nullValidator(e){return Vp(e)}static compose(e){return Rx(e)}static composeAsync(e){return Nx(e)}};function kz(t){return e=>{if(Ms(e.value)||Ms(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Fz(t){return e=>{if(Ms(e.value)||Ms(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Ix(t){return Ms(t.value)?{required:!0}:null}function Lz(t){return t.value===!0?null:{required:!0}}function Vz(t){return Ms(t.value)||Nz.test(t.value)?null:{email:!0}}function Bz(t){return e=>Ms(e.value)||!Tx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function jz(t){return e=>Tx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function $z(t){if(!t)return Vp;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Ms(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Vp(t){return null}function Sx(t){return t!=null}function Mx(t){return ws(t)?$e(t):t}function xx(t){let e={};return t.forEach(n=>{e=n!=null?K(K({},e),n):e}),Object.keys(e).length===0?null:e}function Ax(t,e){return e.map(n=>n(t))}function Uz(t){return!t.validate}function Ox(t){return t.map(e=>Uz(e)?e:n=>e.validate(n))}function Rx(t){if(!t)return null;let e=t.filter(Sx);return e.length==0?null:function(n){return xx(Ax(n,e))}}function Px(t){return t!=null?Rx(Ox(t)):null}function Nx(t){if(!t)return null;let e=t.filter(Sx);return e.length==0?null:function(n){let i=Ax(n,e).map(Mx);return Cv(i).pipe(de(xx))}}function kx(t){return t!=null?Nx(Ox(t)):null}function px(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Fx(t){return t._rawValidators}function Lx(t){return t._rawAsyncValidators}function V_(t){return t?Array.isArray(t)?t:[t]:[]}function Bp(t,e){return Array.isArray(t)?t.includes(e):t===e}function mx(t,e){let n=V_(e);return V_(t).forEach(r=>{Bp(n,r)||n.push(r)}),n}function gx(t,e){return V_(e).filter(n=>!Bp(t,n))}var jp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Px(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Cl=class extends jp{get formDirective(){return null}get path(){return null}},ed=class extends jp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},$p=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},zz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jZ=Fe(K({},zz),{"[class.ng-submitted]":"isSubmitted"}),Hp=(()=>{let e=class e extends $p{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(Pe(ed,2))},e.\u0275dir=Et({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&qn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ci]});let t=e;return t})(),qp=(()=>{let e=class e extends $p{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(Pe(Cl,10))},e.\u0275dir=Et({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&qn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ci]});let t=e;return t})();var Ju="VALID",Fp="INVALID",Tl="PENDING",Zu="DISABLED";function U_(t){return(Wp(t)?t.validators:t)||null}function Gz(t){return Array.isArray(t)?Px(t):t||null}function z_(t,e){return(Wp(e)?e.asyncValidators:t)||null}function Hz(t){return Array.isArray(t)?kx(t):t||null}function Wp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Vx(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new fe(1e3,"");if(!i[n])throw new fe(1001,"")}function Bx(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new fe(1002,"")})}var Il=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ju}get invalid(){return this.status===Fp}get pending(){return this.status==Tl}get disabled(){return this.status===Zu}get enabled(){return this.status!==Zu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gx(e,this._rawAsyncValidators))}hasValidator(e){return Bp(this._rawValidators,e)}hasAsyncValidator(e){return Bp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Tl,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this.errors=null,this._forEachChild(i=>{i.disable(Fe(K({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Fe(K({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ju,this._forEachChild(i=>{i.enable(Fe(K({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Fe(K({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ju||this.status===Tl)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zu:Ju}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Tl,this._hasOwnPendingAsyncValidator=!0;let n=Mx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Zu:this.errors?Fp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tl)?Tl:this._anyControlsHaveStatus(Fp)?Fp:Ju}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Gz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Hz(this._rawAsyncValidators)}},Up=class extends Il{constructor(e,n,i){super(U_(n),z_(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Bx(this,!0,e),Object.keys(e).forEach(i=>{Vx(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var B_=class extends Up{};var jx=new re("CallSetDisabledState",{providedIn:"root",factory:()=>G_}),G_="always";function qz(t,e){return[...e.path,t]}function vx(t,e,n=G_){H_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Yz(t,e),Qz(t,e),Kz(t,e),Wz(t,e)}function yx(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Gp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Wz(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function H_(t,e){let n=Fx(t);e.validator!==null?t.setValidators(px(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Lx(t);e.asyncValidator!==null?t.setAsyncValidators(px(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();zp(e._rawValidators,r),zp(e._rawAsyncValidators,r)}function Gp(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Fx(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Lx(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return zp(e._rawValidators,i),zp(e._rawAsyncValidators,i),n}function Yz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&$x(t,e)})}function Kz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&$x(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function $x(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Qz(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Xz(t,e){t==null,H_(t,e)}function Jz(t,e){return Gp(t,e)}function Zz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function eG(t){return Object.getPrototypeOf(t.constructor)===Az}function tG(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function nG(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Sl?n=s:eG(s)?i=s:r=s}),r||i||n||null}function iG(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _x(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wx(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Lp=class extends Il{constructor(e=null,n,i){super(U_(n),z_(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(wx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_x(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_x(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){wx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rG=t=>t instanceof Lp;var Yp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Et({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Ux=new re("");var sG={provide:Cl,useExisting:Mr(()=>td)},td=(()=>{let e=class e extends Cl{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ze,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return vx(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){yx(i.control||null,i,!1),iG(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,tG(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(yx(r||null,i),rG(s)&&(vx(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);Xz(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Jz(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){H_(this.form,this),this._oldForm&&Gp(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(Pe($_,10),Pe(Cx,10),Pe(jx,8))},e.\u0275dir=Et({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Ut("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[En.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ro([sG]),Ci,Ki]});let t=e;return t})();var oG={provide:ed,useExisting:Mr(()=>nd)},nd=(()=>{let e=class e extends ed{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ze,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=nG(this,o)}ngOnChanges(i){this._added||this._setUpControl(),Zz(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return qz(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(Pe(Cl,13),Pe($_,10),Pe(Cx,10),Pe(Dx,10),Pe(Ux,8))},e.\u0275dir=Et({type:e,selectors:[["","formControlName",""]],inputs:{name:[En.None,"formControlName","name"],isDisabled:[En.None,"disabled","isDisabled"],model:[En.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ro([oG]),Ci,Ki]});let t=e;return t})();var aG=(()=>{let e=class e{constructor(){this._validator=Vp}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vp,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Et({type:e,features:[Ki]});let t=e;return t})();var lG={provide:$_,useExisting:Mr(()=>id),multi:!0};var id=(()=>{let e=class e extends aG{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=sp,this.createValidator=i=>Ix}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=ys(e)))(s||e)}})(),e.\u0275dir=Et({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&Pr("required",s._enabled?"":null)},inputs:{required:"required"},features:[Ro([lG]),Ci]});let t=e;return t})();var cG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),j_=class extends Il{constructor(e,n,i){super(U_(n),z_(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Bx(this,!1,e),e.forEach((i,r)=>{Vx(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function bx(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Kp=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return bx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Up(s,o)}record(i,r=null){let s=this._reduceControls(i);return new B_(s,r)}control(i,r,s){let o={};return this.useNonNullable?(bx(r)?o=r:(o.validators=r,o.asyncValidators=s),new Lp(i,Fe(K({},o),{nonNullable:!0}))):new Lp(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new j_(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof Lp)return i;if(i instanceof Il)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zx=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ux,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:jx,useValue:i.callSetDisabledState??G_}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({imports:[cG]});let t=e;return t})();var rd=class{constructor(e,n,i,r,s){this.email=e,this.id=n,this._token=i,this._tokenExpirationDate=r,this.name=s}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}};var uG="firebase",dG="10.12.2";os(uG,dG,"app");var $o=new Sr("ANGULARFIRE2_VERSION");var hG=(t,e)=>{let n=e?[e]:tT(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},jo=class{constructor(){return hG(fG)}},fG="app-check";function q_(){}var Qp=class{zone;delegate;constructor(e,n=Ev){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},W_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",q_,{},q_,q_)),n.pipe(Je({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xp=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Qp(Zone.current)),this.insideAngular=n.run(()=>new Qp(Zone.current,as)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(q(Te))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pG(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Fn(t){return mG(pG())(t)}function mG(t){return function(n){return n=n.lift(new W_(t.ngZone)),n.pipe(gi(t.outsideAngular),Jn(t.insideAngular))}}var yG=new Map,_G={activated:!1,tokenObservers:[]},wG={initialized:!1,enabled:!1};function Ii(t){return yG.get(t)||Object.assign({},_G)}function Qx(){return wG}var bG="https://content-firebaseappcheck.googleapis.com/v1";var EG="exchangeDebugToken",qx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},oee=24*60*60*1e3;var K_=class{constructor(e,n,i,r,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return j(this,null,function*(){this.stop();try{this.pending=new sv,this.pending.promise.catch(n=>{}),yield DG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new sv,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function DG(t){return new Promise(e=>{setTimeout(e,t)})}var TG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},xs=new ZD("appCheck","AppCheck",TG);function Xx(t){if(!Ii(t).activated)throw xs.create("use-before-activation",{appName:t.name})}function Jx(i,r){return j(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let p=yield o.getHeartbeatsHeader();p&&(s["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,a)}catch(p){throw xs.create("fetch-network-error",{originalErrorMessage:p?.message})}if(l.status!==200)throw xs.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(p){throw xs.create("fetch-parse-error",{originalErrorMessage:p?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw xs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let h=Number(d[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}})}function Zx(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${bG}/projects/${n}/apps/${i}:${EG}?key=${r}`,body:{debug_token:e}}}var CG="firebase-app-check-database",IG=1,Q_="firebase-app-check-store";var Jp=null;function SG(){return Jp||(Jp=new Promise((t,e)=>{try{let n=indexedDB.open(CG,IG);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(xs.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Q_,{keyPath:"compositeKey"})}}}catch(n){e(xs.create("storage-open",{originalErrorMessage:n?.message}))}}),Jp)}function MG(t,e){return xG(AG(t),e)}function xG(t,e){return j(this,null,function*(){let i=(yield SG()).transaction(Q_,"readwrite"),s=i.objectStore(Q_).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(xs.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function AG(t){return`${t.options.appId}-${t.name}`}var X_=new Eh("@firebase/app-check");function Y_(t,e){return bh()?MG(t,e).catch(n=>{X_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function eA(){return Qx().enabled}function tA(){return j(this,null,function*(){let t=Qx();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var OG={error:"UNKNOWN_ERROR"};function RG(t){return QD.encodeString(JSON.stringify(t),!1)}function J_(t,e=!1){return j(this,null,function*(){let n=t.app;Xx(n);let i=Ii(n),r=i.token,s;if(r&&!sd(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(sd(l)?r=l:yield Y_(n,void 0))}if(!e&&r&&sd(r))return{token:r.token};let o=!1;if(eA()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Jx(Zx(n,yield tA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield Y_(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Ii(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?X_.warn(l.message):X_.error(l),s=l}let a;return r?s?sd(r)?a={token:r.token,internalError:s}:a=Yx(s):(a={token:r.token},i.token=r,yield Y_(n,r)):a=Yx(s),o&&FG(n,a),a})}function PG(t){return j(this,null,function*(){let e=t.app;Xx(e);let{provider:n}=Ii(e);if(eA()){let i=yield tA(),{token:r}=yield Jx(Zx(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function NG(t,e,n,i){let{app:r}=t,s=Ii(r),o={next:n,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&sd(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Wx(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Wx(t))}function nA(t,e){let n=Ii(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function Wx(t){let{app:e}=t,n=Ii(e),i=n.tokenRefresher;i||(i=kG(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function kG(t){let{app:e}=t;return new K_(()=>j(this,null,function*(){let n=Ii(e),i;if(n.token?i=yield J_(t,!0):i=yield J_(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Ii(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},qx.RETRIAL_MIN_WAIT,qx.RETRIAL_MAX_WAIT)}function FG(t,e){let n=Ii(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function sd(t){return t.expireTimeMillis-Date.now()>0}function Yx(t){return{token:RG(OG),error:t}}var Z_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Ii(this.app);for(let n of e)nA(this.app,n.next);return Promise.resolve()}};function LG(t,e){return new Z_(t,e)}function VG(t){return{getToken:e=>J_(t,e),getLimitedUseToken:()=>PG(t),addTokenListener:e=>NG(t,"INTERNAL",e),removeTokenListener:e=>nA(t.app,e)}}var BG="@firebase/app-check",jG="0.8.4";var $G="app-check",Kx="app-check-internal";function UG(){Gc(new co($G,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return LG(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Kx).initialize()})),Gc(new co(Kx,t=>{let e=t.getProvider("app-check").getImmediate();return VG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),os(BG,jG)}UG();var zG=["localhost","0.0.0.0","127.0.0.1"],yee=typeof window<"u"&&zG.includes(window.location.hostname);var GG="firebase",HG="10.12.2";_n.registerVersion(GG,HG,"app-compat");var qG=["ngOnDestroy"],sA=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{if(t[s])return i?.spy?.get&&i.spy.get(s,t[s]),t[s];if(qG.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{let h=d?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,h),h})})})});var Zp=class{constructor(e){return e}},Ml=new re("angularfire2.app.options"),xl=new re("angularfire2.app.name");function od(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let o=_n.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>_n.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;WG("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Zp(o)}var WG=(t,...e)=>{I0()&&typeof console<"u"&&console[t](...e)},YG={provide:Zp,useFactory:od,deps:[Ml,Te,[new du,xl]]},oA=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:Ml,useValue:n},{provide:xl,useValue:i}]}}constructor(n){_n.registerVersion("angularfire",$o.full,"core"),_n.registerVersion("angularfire",$o.full,"app-compat"),_n.registerVersion("angular",SS.full,n.toString())}static \u0275fac=function(i){return new(i||t)(q(an))};static \u0275mod=Se({type:t});static \u0275inj=Ie({providers:[YG]})}return t})();function em(t,e,n,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return KG(r,o)||(rA("error",`${e} was already initialized on the ${n} Firebase App with different settings.${QG?" You may need to reload as Firebase is not HMR aware.":""}`),rA("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function KG(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var QG=typeof module<"u"&&!!module.hot,rA=(t,...e)=>{I0()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var ew=new re("angularfire2.auth.use-emulator"),tw=new re("angularfire2.auth.settings"),nw=new re("angularfire2.auth.tenant-id"),iw=new re("angularfire2.auth.langugage-code"),rw=new re("angularfire2.auth.use-device-language"),sw=new re("angularfire.auth.persistence"),ow=(t,e,n,i,r,s,o,a)=>em(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[n,i,r,s,o,a]),ad=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,s,o,a,l,c,d,h,f,p){let y=new xe,w=he(void 0).pipe(Jn(o.outsideAngular),st(()=>s.runOutsideAngular(()=>import("./chunk-C6EKWDJ5.js"))),de(()=>od(n,s,i)),de(_=>ow(_,s,a,c,d,h,l,f)),Xh({bufferSize:1,refCount:!1}));if(bs(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=he(null);else{w.pipe(Zn()).subscribe();let _=w.pipe(st(b=>b.getRedirectResult().then(x=>x,()=>null)),Fn,Xh({bufferSize:1,refCount:!1})),g=w.pipe(st(b=>new _e(x=>({unsubscribe:s.runOutsideAngular(()=>b.onAuthStateChanged(R=>x.next(R),R=>x.error(R),()=>x.complete()))})))),C=w.pipe(st(b=>new _e(x=>({unsubscribe:s.runOutsideAngular(()=>b.onIdTokenChanged(R=>x.next(R),R=>x.error(R),()=>x.complete()))}))));this.authState=_.pipe(Jh(g),gi(o.outsideAngular),Jn(o.insideAngular)),this.user=_.pipe(Jh(C),gi(o.outsideAngular),Jn(o.insideAngular)),this.idToken=this.user.pipe(st(b=>b?$e(b.getIdToken()):he(null))),this.idTokenResult=this.user.pipe(st(b=>b?$e(b.getIdTokenResult()):he(null))),this.credential=qh(_,y,this.authState.pipe(tt(b=>!b))).pipe(de(b=>b?.user?b:null),gi(o.outsideAngular),Jn(o.insideAngular))}return sA(this,w,s,{spy:{apply:(_,g,C)=>{(_.startsWith("signIn")||_.startsWith("createUser"))&&C.then(b=>y.next(b))}}})}static \u0275fac=function(i){return new(i||t)(q(Ml),q(xl,8),q(an),q(Te),q(Xp),q(ew,8),q(tw,8),q(nw,8),q(iw,8),q(rw,8),q(sw,8),q(jo,8))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),aA=(()=>{class t{constructor(){_n.registerVersion("angularfire",$o.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Se({type:t});static \u0275inj=Ie({providers:[ad]})}return t})();var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uA={};var As,aw;(function(){var t;function e(A,E){function D(){}D.prototype=E.prototype,A.D=E.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function(I,O,M){for(var T=Array(arguments.length-2),k=2;k<arguments.length;k++)T[k-2]=arguments[k];return E.prototype[O].apply(I,T)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,E,D){D||(D=0);var I=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)I[O]=E.charCodeAt(D++)|E.charCodeAt(D++)<<8|E.charCodeAt(D++)<<16|E.charCodeAt(D++)<<24;else for(O=0;16>O;++O)I[O]=E[D++]|E[D++]<<8|E[D++]<<16|E[D++]<<24;E=A.g[0],D=A.g[1],O=A.g[2];var M=A.g[3],T=E+(M^D&(O^M))+I[0]+3614090360&4294967295;E=D+(T<<7&4294967295|T>>>25),T=M+(O^E&(D^O))+I[1]+3905402710&4294967295,M=E+(T<<12&4294967295|T>>>20),T=O+(D^M&(E^D))+I[2]+606105819&4294967295,O=M+(T<<17&4294967295|T>>>15),T=D+(E^O&(M^E))+I[3]+3250441966&4294967295,D=O+(T<<22&4294967295|T>>>10),T=E+(M^D&(O^M))+I[4]+4118548399&4294967295,E=D+(T<<7&4294967295|T>>>25),T=M+(O^E&(D^O))+I[5]+1200080426&4294967295,M=E+(T<<12&4294967295|T>>>20),T=O+(D^M&(E^D))+I[6]+2821735955&4294967295,O=M+(T<<17&4294967295|T>>>15),T=D+(E^O&(M^E))+I[7]+4249261313&4294967295,D=O+(T<<22&4294967295|T>>>10),T=E+(M^D&(O^M))+I[8]+1770035416&4294967295,E=D+(T<<7&4294967295|T>>>25),T=M+(O^E&(D^O))+I[9]+2336552879&4294967295,M=E+(T<<12&4294967295|T>>>20),T=O+(D^M&(E^D))+I[10]+4294925233&4294967295,O=M+(T<<17&4294967295|T>>>15),T=D+(E^O&(M^E))+I[11]+2304563134&4294967295,D=O+(T<<22&4294967295|T>>>10),T=E+(M^D&(O^M))+I[12]+1804603682&4294967295,E=D+(T<<7&4294967295|T>>>25),T=M+(O^E&(D^O))+I[13]+4254626195&4294967295,M=E+(T<<12&4294967295|T>>>20),T=O+(D^M&(E^D))+I[14]+2792965006&4294967295,O=M+(T<<17&4294967295|T>>>15),T=D+(E^O&(M^E))+I[15]+1236535329&4294967295,D=O+(T<<22&4294967295|T>>>10),T=E+(O^M&(D^O))+I[1]+4129170786&4294967295,E=D+(T<<5&4294967295|T>>>27),T=M+(D^O&(E^D))+I[6]+3225465664&4294967295,M=E+(T<<9&4294967295|T>>>23),T=O+(E^D&(M^E))+I[11]+643717713&4294967295,O=M+(T<<14&4294967295|T>>>18),T=D+(M^E&(O^M))+I[0]+3921069994&4294967295,D=O+(T<<20&4294967295|T>>>12),T=E+(O^M&(D^O))+I[5]+3593408605&4294967295,E=D+(T<<5&4294967295|T>>>27),T=M+(D^O&(E^D))+I[10]+38016083&4294967295,M=E+(T<<9&4294967295|T>>>23),T=O+(E^D&(M^E))+I[15]+3634488961&4294967295,O=M+(T<<14&4294967295|T>>>18),T=D+(M^E&(O^M))+I[4]+3889429448&4294967295,D=O+(T<<20&4294967295|T>>>12),T=E+(O^M&(D^O))+I[9]+568446438&4294967295,E=D+(T<<5&4294967295|T>>>27),T=M+(D^O&(E^D))+I[14]+3275163606&4294967295,M=E+(T<<9&4294967295|T>>>23),T=O+(E^D&(M^E))+I[3]+4107603335&4294967295,O=M+(T<<14&4294967295|T>>>18),T=D+(M^E&(O^M))+I[8]+1163531501&4294967295,D=O+(T<<20&4294967295|T>>>12),T=E+(O^M&(D^O))+I[13]+2850285829&4294967295,E=D+(T<<5&4294967295|T>>>27),T=M+(D^O&(E^D))+I[2]+4243563512&4294967295,M=E+(T<<9&4294967295|T>>>23),T=O+(E^D&(M^E))+I[7]+1735328473&4294967295,O=M+(T<<14&4294967295|T>>>18),T=D+(M^E&(O^M))+I[12]+2368359562&4294967295,D=O+(T<<20&4294967295|T>>>12),T=E+(D^O^M)+I[5]+4294588738&4294967295,E=D+(T<<4&4294967295|T>>>28),T=M+(E^D^O)+I[8]+2272392833&4294967295,M=E+(T<<11&4294967295|T>>>21),T=O+(M^E^D)+I[11]+1839030562&4294967295,O=M+(T<<16&4294967295|T>>>16),T=D+(O^M^E)+I[14]+4259657740&4294967295,D=O+(T<<23&4294967295|T>>>9),T=E+(D^O^M)+I[1]+2763975236&4294967295,E=D+(T<<4&4294967295|T>>>28),T=M+(E^D^O)+I[4]+1272893353&4294967295,M=E+(T<<11&4294967295|T>>>21),T=O+(M^E^D)+I[7]+4139469664&4294967295,O=M+(T<<16&4294967295|T>>>16),T=D+(O^M^E)+I[10]+3200236656&4294967295,D=O+(T<<23&4294967295|T>>>9),T=E+(D^O^M)+I[13]+681279174&4294967295,E=D+(T<<4&4294967295|T>>>28),T=M+(E^D^O)+I[0]+3936430074&4294967295,M=E+(T<<11&4294967295|T>>>21),T=O+(M^E^D)+I[3]+3572445317&4294967295,O=M+(T<<16&4294967295|T>>>16),T=D+(O^M^E)+I[6]+76029189&4294967295,D=O+(T<<23&4294967295|T>>>9),T=E+(D^O^M)+I[9]+3654602809&4294967295,E=D+(T<<4&4294967295|T>>>28),T=M+(E^D^O)+I[12]+3873151461&4294967295,M=E+(T<<11&4294967295|T>>>21),T=O+(M^E^D)+I[15]+530742520&4294967295,O=M+(T<<16&4294967295|T>>>16),T=D+(O^M^E)+I[2]+3299628645&4294967295,D=O+(T<<23&4294967295|T>>>9),T=E+(O^(D|~M))+I[0]+4096336452&4294967295,E=D+(T<<6&4294967295|T>>>26),T=M+(D^(E|~O))+I[7]+1126891415&4294967295,M=E+(T<<10&4294967295|T>>>22),T=O+(E^(M|~D))+I[14]+2878612391&4294967295,O=M+(T<<15&4294967295|T>>>17),T=D+(M^(O|~E))+I[5]+4237533241&4294967295,D=O+(T<<21&4294967295|T>>>11),T=E+(O^(D|~M))+I[12]+1700485571&4294967295,E=D+(T<<6&4294967295|T>>>26),T=M+(D^(E|~O))+I[3]+2399980690&4294967295,M=E+(T<<10&4294967295|T>>>22),T=O+(E^(M|~D))+I[10]+4293915773&4294967295,O=M+(T<<15&4294967295|T>>>17),T=D+(M^(O|~E))+I[1]+2240044497&4294967295,D=O+(T<<21&4294967295|T>>>11),T=E+(O^(D|~M))+I[8]+1873313359&4294967295,E=D+(T<<6&4294967295|T>>>26),T=M+(D^(E|~O))+I[15]+4264355552&4294967295,M=E+(T<<10&4294967295|T>>>22),T=O+(E^(M|~D))+I[6]+2734768916&4294967295,O=M+(T<<15&4294967295|T>>>17),T=D+(M^(O|~E))+I[13]+1309151649&4294967295,D=O+(T<<21&4294967295|T>>>11),T=E+(O^(D|~M))+I[4]+4149444226&4294967295,E=D+(T<<6&4294967295|T>>>26),T=M+(D^(E|~O))+I[11]+3174756917&4294967295,M=E+(T<<10&4294967295|T>>>22),T=O+(E^(M|~D))+I[2]+718787259&4294967295,O=M+(T<<15&4294967295|T>>>17),T=D+(M^(O|~E))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(O+(T<<21&4294967295|T>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+M&4294967295}i.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var D=E-this.blockSize,I=this.B,O=this.h,M=0;M<E;){if(O==0)for(;M<=D;)r(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<E;)if(I[O++]=A.charCodeAt(M++),O==this.blockSize){r(this,I),O=0;break}}else for(;M<E;)if(I[O++]=A[M++],O==this.blockSize){r(this,I),O=0;break}}this.h=O,this.o+=E},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var D=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=D&255,D/=256;for(this.u(A),A=Array(16),E=D=0;4>E;++E)for(var I=0;32>I;I+=8)A[D++]=this.g[E]>>>I&255;return A};function s(A,E){var D=a;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=E(A)}function o(A,E){this.h=E;for(var D=[],I=!0,O=A.length-1;0<=O;O--){var M=A[O]|0;I&&M==E||(D[O]=M,I=!1)}this.g=D}var a={};function l(A){return-128<=A&&128>A?s(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return _(c(-A));for(var E=[],D=1,I=0;A>=D;I++)E[I]=A/D|0,D*=4294967296;return new o(E,0)}function d(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return _(d(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(E,8)),I=h,O=0;O<A.length;O+=8){var M=Math.min(8,A.length-O),T=parseInt(A.substring(O,O+M),E);8>M?(M=c(Math.pow(E,M)),I=I.j(M).add(c(T))):(I=I.j(D),I=I.add(c(T)))}return I}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-_(this).m();for(var A=0,E=1,D=0;D<this.g.length;D++){var I=this.i(D);A+=(0<=I?I:4294967296+I)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(w(this))return"-"+_(this).toString(A);for(var E=c(Math.pow(A,6)),D=this,I="";;){var O=x(D,E).g;D=g(D,O.j(E));var M=((0<D.g.length?D.g[0]:D.h)>>>0).toString(A);if(D=O,y(D))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=g(this,A),w(A)?-1:y(A)?0:1};function _(A){for(var E=A.g.length,D=[],I=0;I<E;I++)D[I]=~A.g[I];return new o(D,~A.h).add(f)}t.abs=function(){return w(this)?_(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],I=0,O=0;O<=E;O++){var M=I+(this.i(O)&65535)+(A.i(O)&65535),T=(M>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);I=T>>>16,M&=65535,T&=65535,D[O]=T<<16|M}return new o(D,D[D.length-1]&-2147483648?-1:0)};function g(A,E){return A.add(_(E))}t.j=function(A){if(y(this)||y(A))return h;if(w(this))return w(A)?_(this).j(_(A)):_(_(this).j(A));if(w(A))return _(this.j(_(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var E=this.g.length+A.g.length,D=[],I=0;I<2*E;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<A.g.length;O++){var M=this.i(I)>>>16,T=this.i(I)&65535,k=A.i(O)>>>16,H=A.i(O)&65535;D[2*I+2*O]+=T*H,C(D,2*I+2*O),D[2*I+2*O+1]+=M*H,C(D,2*I+2*O+1),D[2*I+2*O+1]+=T*k,C(D,2*I+2*O+1),D[2*I+2*O+2]+=M*k,C(D,2*I+2*O+2)}for(I=0;I<E;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=E;I<2*E;I++)D[I]=0;return new o(D,0)};function C(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function b(A,E){this.g=A,this.h=E}function x(A,E){if(y(E))throw Error("division by zero");if(y(A))return new b(h,h);if(w(A))return E=x(_(A),E),new b(_(E.g),_(E.h));if(w(E))return E=x(A,_(E)),new b(_(E.g),E.h);if(30<A.g.length){if(w(A)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var D=f,I=E;0>=I.l(A);)D=R(D),I=R(I);var O=P(D,1),M=P(I,1);for(I=P(I,2),D=P(D,2);!y(I);){var T=M.add(I);0>=T.l(A)&&(O=O.add(D),M=T),I=P(I,1),D=P(D,1)}return E=g(A,O.j(E)),new b(O,E)}for(O=h;0<=A.l(E);){for(D=Math.max(1,Math.floor(A.m()/E.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=c(D),T=M.j(E);w(T)||0<T.l(A);)D-=I,M=c(D),T=M.j(E);y(M)&&(M=f),O=O.add(M),A=g(A,T)}return new b(O,A)}t.A=function(A){return x(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],I=0;I<E;I++)D[I]=this.i(I)&A.i(I);return new o(D,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],I=0;I<E;I++)D[I]=this.i(I)|A.i(I);return new o(D,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],I=0;I<E;I++)D[I]=this.i(I)^A.i(I);return new o(D,this.h^A.h)};function R(A){for(var E=A.g.length+1,D=[],I=0;I<E;I++)D[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(D,A.h)}function P(A,E){var D=E>>5;E%=32;for(var I=A.g.length-D,O=[],M=0;M<I;M++)O[M]=0<E?A.i(M+D)>>>E|A.i(M+D+1)<<32-E:A.i(M+D);return new o(O,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,aw=uA.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,As=uA.Integer=o}).apply(typeof cA<"u"?cA:typeof self<"u"?self:typeof window<"u"?window:{});var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vr={};var lw,cw,Al,uw,ld,nm,dw,hw,fw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tm=="object"&&tm];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function r(u,m){if(m)e:{var v=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var N=u[S];if(!(N in v))break e;v=v[N]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var v=0,S=!1,N={next:function(){if(!S&&v<u.length){var V=v++;return{value:m(V,u[V]),done:!1}}return S=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}r("Array.prototype.values",function(u){return u||function(){return s(this,function(m,v){return v})}});var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,v){return u.call.apply(u.bind,arguments)}function h(u,m,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,S),u.apply(m,N)}}return function(){return u.apply(m,arguments)}}function f(u,m,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function y(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,N,V){for(var ee=Array(arguments.length-2),et=2;et<arguments.length;et++)ee[et-2]=arguments[et];return m.prototype[N].apply(S,ee)}}function w(u){let m=u.length;if(0<m){let v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function _(u,m){for(let v=1;v<arguments.length;v++){let S=arguments[v];if(l(S)){let N=u.length||0,V=S.length||0;u.length=N+V;for(let ee=0;ee<V;ee++)u[N+ee]=S[ee]}else u.push(S)}}class g{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function C(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function x(u){return x[" "](u),u}x[" "]=function(){};var R=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function P(u,m,v){for(let S in u)m.call(v,u[S],S,u)}function A(u,m){for(let v in u)m.call(void 0,u[v],v,u)}function E(u){let m={};for(let v in u)m[v]=u[v];return m}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let v,S;for(let N=1;N<arguments.length;N++){S=arguments[N];for(v in S)u[v]=S[v];for(let V=0;V<D.length;V++)v=D[V],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function O(u){var m=1;u=u.split(":");let v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){a.setTimeout(()=>{throw u},0)}function T(){var u=Z;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class k{constructor(){this.h=this.g=null}add(m,v){let S=H.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var H=new g(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,Z=new k,ve=()=>{let u=a.Promise.resolve(void 0);F=()=>{u.then(W)}};var W=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(v){M(v)}var m=H;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}$=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let v=()=>{};a.addEventListener("test",v,m),a.removeEventListener("test",v,m)}catch{}return u}();function oe(u,m){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(R){e:{try{x(m.nodeName);var N=!0;break e}catch{}N=!1}N||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ke[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&oe.aa.h.call(this)}}y(oe,X);var ke={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),dn=0;function Fi(u,m,v,S,N){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=N,this.key=++dn,this.da=this.fa=!1}function hn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fn(u){this.src=u,this.g={},this.h=0}fn.prototype.add=function(u,m,v,S,N){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var ee=mr(u,m,S,N);return-1<ee?(m=u[ee],v||(m.fa=!1)):(m=new Fi(m,this.src,V,!!S,N),m.fa=v,u.push(m)),m};function Zr(u,m){var v=m.type;if(v in u.g){var S=u.g[v],N=Array.prototype.indexOf.call(S,m,void 0),V;(V=0<=N)&&Array.prototype.splice.call(S,N,1),V&&(hn(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function mr(u,m,v,S){for(var N=0;N<u.length;++N){var V=u[N];if(!V.da&&V.listener==m&&V.capture==!!v&&V.ha==S)return N}return-1}var es="closure_lm_"+(1e6*Math.random()|0),ts={};function Li(u,m,v,S,N){if(S&&S.once)return ns(u,m,v,S,N);if(Array.isArray(m)){for(var V=0;V<m.length;V++)Li(u,m[V],v,S,N);return null}return v=Ia(v),u&&u[rt]?u.K(m,v,c(S)?!!S.capture:!!S,N):Vi(u,m,v,!1,S,N)}function Vi(u,m,v,S,N,V){if(!m)throw Error("Invalid event type");var ee=c(N)?!!N.capture:!!N,et=jn(u);if(et||(u[es]=et=new fn(u)),v=et.add(m,v,S,ee,V),v.proxy)return v;if(S=io(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)Ue||(N=ee),N===void 0&&(N=!1),u.addEventListener(m.toString(),S,N);else if(u.attachEvent)u.attachEvent(fi(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function io(){function u(v){return m.call(u.src,u.listener,v)}let m=ro;return u}function ns(u,m,v,S,N){if(Array.isArray(m)){for(var V=0;V<m.length;V++)ns(u,m[V],v,S,N);return null}return v=Ia(v),u&&u[rt]?u.L(m,v,c(S)?!!S.capture:!!S,N):Vi(u,m,v,!0,S,N)}function xn(u,m,v,S,N){if(Array.isArray(m))for(var V=0;V<m.length;V++)xn(u,m[V],v,S,N);else S=c(S)?!!S.capture:!!S,v=Ia(v),u&&u[rt]?(u=u.i,m=String(m).toString(),m in u.g&&(V=u.g[m],v=mr(V,v,S,N),-1<v&&(hn(V[v]),Array.prototype.splice.call(V,v,1),V.length==0&&(delete u.g[m],u.h--)))):u&&(u=jn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mr(m,v,S,N)),(v=-1<u?m[u]:null)&&Xn(v))}function Xn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[rt])Zr(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(fi(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=jn(m))?(Zr(v,u),v.h==0&&(v.src=null,m[es]=null)):hn(u)}}}function fi(u){return u in ts?ts[u]:ts[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new oe(m,this);var v=u.listener,S=u.ha||u.src;u.fa&&Xn(u),u=v.call(S,m)}return u}function jn(u){return u=u[es],u instanceof fn?u:null}var Ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ia(u){return typeof u=="function"?u:(u[Ca]||(u[Ca]=function(m){return u.handleEvent(m)}),u[Ca])}function Vt(){Q.call(this),this.i=new fn(this),this.M=this,this.F=null}y(Vt,Q),Vt.prototype[rt]=!0,Vt.prototype.removeEventListener=function(u,m,v,S){xn(this,u,m,v,S)};function qt(u,m){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new X(m,u);else if(m instanceof X)m.target=m.target||u;else{var N=m;m=new X(S,u),I(m,N)}if(N=!0,v)for(var V=v.length-1;0<=V;V--){var ee=m.g=v[V];N=sh(ee,S,!0,m)&&N}if(ee=m.g=u,N=sh(ee,S,!0,m)&&N,N=sh(ee,S,!1,m)&&N,v)for(V=0;V<v.length;V++)ee=m.g=v[V],N=sh(ee,S,!1,m)&&N}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],S=0;S<v.length;S++)hn(v[S]);delete u.g[m],u.h--}}this.F=null},Vt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Vt.prototype.L=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function sh(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var N=!0,V=0;V<m.length;++V){var ee=m[V];if(ee&&!ee.da&&ee.capture==v){var et=ee.listener,nn=ee.ha||ee.src;ee.fa&&Zr(u.i,ee),N=et.call(nn,S)!==!1&&N}}return N&&!S.defaultPrevented}function J1(u,m,v){if(typeof u=="function")v&&(u=f(u,v));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Z1(u){u.g=J1(()=>{u.g=null,u.i&&(u.i=!1,Z1(u))},u.l);let m=u.h;u.h=null,u.m.apply(null,m)}class Bk extends Q{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Z1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xc(u){Q.call(this),this.h=u,this.g={}}y(xc,Q);var eD=[];function tD(u){P(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xn(m)},u),u.g={}}xc.prototype.N=function(){xc.aa.N.call(this),tD(this)},xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ug=a.JSON.stringify,jk=a.JSON.parse,$k=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function zg(){}zg.prototype.h=null;function nD(u){return u.h||(u.h=u.i())}function iD(){}var Ac={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gg(){X.call(this,"d")}y(Gg,X);function Hg(){X.call(this,"c")}y(Hg,X);var so={},rD=null;function oh(){return rD=rD||new Vt}so.La="serverreachability";function sD(u){X.call(this,so.La,u)}y(sD,X);function Oc(u){let m=oh();qt(m,new sD(m))}so.STAT_EVENT="statevent";function oD(u,m){X.call(this,so.STAT_EVENT,u),this.stat=m}y(oD,X);function yn(u){let m=oh();qt(m,new oD(m,u))}so.Ma="timingevent";function aD(u,m){X.call(this,so.Ma,u),this.size=m}y(aD,X);function Rc(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Pc(){this.g=!0}Pc.prototype.xa=function(){this.g=!1};function Uk(u,m,v,S,N,V){u.info(function(){if(u.g)if(V)for(var ee="",et=V.split("&"),nn=0;nn<et.length;nn++){var Ye=et[nn].split("=");if(1<Ye.length){var pn=Ye[0];Ye=Ye[1];var mn=pn.split("_");ee=2<=mn.length&&mn[1]=="type"?ee+(pn+"="+Ye+"&"):ee+(pn+"=redacted&")}}else ee=null;else ee=V;return"XMLHTTP REQ ("+S+") [attempt "+N+"]: "+m+`
`+v+`
`+ee})}function zk(u,m,v,S,N,V,ee){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+N+"]: "+m+`
`+v+`
`+V+" "+ee})}function Sa(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hk(u,v)+(S?" "+S:"")})}function Gk(u,m){u.info(function(){return"TIMEOUT: "+m})}Pc.prototype.info=function(){};function Hk(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var N=S[1];if(Array.isArray(N)&&!(1>N.length)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(var ee=1;ee<N.length;ee++)N[ee]=""}}}}return Ug(v)}catch{return m}}var ah={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qg;function lh(){}y(lh,zg),lh.prototype.g=function(){return new XMLHttpRequest},lh.prototype.i=function(){return{}},qg=new lh;function is(u,m,v,S){this.j=u,this.i=m,this.l=v,this.R=S||1,this.U=new xc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cD}function cD(){this.i=null,this.g="",this.h=!1}var uD={},Wg={};function Yg(u,m,v){u.L=1,u.v=hh(gr(m)),u.m=v,u.P=!0,dD(u,null)}function dD(u,m){u.F=Date.now(),ch(u),u.A=gr(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),CD(v.i,"t",S),u.C=0,v=u.j.J,u.h=new cD,u.g=zD(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Bk(f(u.Y,u,u.g),u.O)),m=u.U,v=u.g,S=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(eD[0]=N.toString()),N=eD);for(var V=0;V<N.length;V++){var ee=Li(v,N[V],S||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Oc(),Uk(u.i,u.u,u.A,u.l,u.R,u.m)}is.prototype.ca=function(u){u=u.target;let m=this.M;m&&vr(u)==3?m.j():this.Y(u)},is.prototype.Y=function(u){try{if(u==this.g)e:{let mn=vr(this.g);var m=this.g.Ba();let Aa=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||RD(this.g)))){this.J||mn!=4||m==7||(m==8||0>=Aa?Oc(3):Oc(2)),Kg(this);var v=this.g.Z();this.X=v;t:if(hD(this)){var S=RD(this.g);u="";var N=S.length,V=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),Nc(this);var ee="";break t}this.h.i=new a.TextDecoder}for(m=0;m<N;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(V&&m==N-1)});S.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=v==200,zk(this.i,this.u,this.A,this.l,this.R,mn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var et,nn=this.g;if((et=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(et)){var Ye=et;break t}}Ye=null}if(v=Ye)Sa(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qg(this,v);else{this.o=!1,this.s=3,yn(12),oo(this),Nc(this);break e}}if(this.P){v=!0;let pi;for(;!this.J&&this.C<ee.length;)if(pi=qk(this,ee),pi==Wg){mn==4&&(this.s=4,yn(14),v=!1),Sa(this.i,this.l,null,"[Incomplete Response]");break}else if(pi==uD){this.s=4,yn(15),Sa(this.i,this.l,ee,"[Invalid Chunk]"),v=!1;break}else Sa(this.i,this.l,pi,null),Qg(this,pi);if(hD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||ee.length!=0||this.h.h||(this.s=1,yn(16),v=!1),this.o=this.o&&v,!v)Sa(this.i,this.l,ee,"[Invalid Chunked Response]"),oo(this),Nc(this);else if(0<ee.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),nv(pn),pn.M=!0,yn(11))}}else Sa(this.i,this.l,ee,null),Qg(this,ee);mn==4&&oo(this),this.o&&!this.J&&(mn==4?BD(this.j,this):(this.o=!1,ch(this)))}else cF(this.g),v==400&&0<ee.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),oo(this),Nc(this)}}}catch{}finally{}};function hD(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function qk(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Wg:(v=Number(m.substring(v,S)),isNaN(v)?uD:(S+=1,S+v>m.length?Wg:(m=m.slice(S,S+v),u.C=S+v,m)))}is.prototype.cancel=function(){this.J=!0,oo(this)};function ch(u){u.S=Date.now()+u.I,fD(u,u.I)}function fD(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Rc(f(u.ba,u),m)}function Kg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}is.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Gk(this.i,this.A),this.L!=2&&(Oc(),yn(17)),oo(this),this.s=2,Nc(this)):fD(this,this.S-u)};function Nc(u){u.j.G==0||u.J||BD(u.j,u)}function oo(u){Kg(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,tD(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Qg(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Xg(v.h,u))){if(!u.K&&Xg(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var N=S;if(N[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)vh(v),mh(v);else break e;tv(v),yn(18)}}else v.za=N[1],0<v.za-v.T&&37500>N[2]&&v.F&&v.v==0&&!v.C&&(v.C=Rc(f(v.Za,v),6e3));if(1>=gD(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else lo(v,11)}else if((u.K||v.g==u)&&vh(v),!C(m))for(N=v.Da.g.parse(m),m=0;m<N.length;m++){let Ye=N[m];if(v.T=Ye[0],Ye=Ye[1],v.G==2)if(Ye[0]=="c"){v.K=Ye[1],v.ia=Ye[2];let pn=Ye[3];pn!=null&&(v.la=pn,v.j.info("VER="+v.la));let mn=Ye[4];mn!=null&&(v.Aa=mn,v.j.info("SVER="+v.Aa));let Aa=Ye[5];Aa!=null&&typeof Aa=="number"&&0<Aa&&(S=1.5*Aa,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;let pi=u.g;if(pi){let _h=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_h){var V=S.h;V.g||_h.indexOf("spdy")==-1&&_h.indexOf("quic")==-1&&_h.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Jg(V,V.h),V.h=null))}if(S.D){let iv=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;iv&&(S.ya=iv,ct(S.I,S.D,iv))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ee=u;if(S.qa=UD(S,S.J?S.ia:null,S.W),ee.K){vD(S.h,ee);var et=ee,nn=S.L;nn&&(et.I=nn),et.B&&(Kg(et),ch(et)),S.g=ee}else LD(S);0<v.i.length&&gh(v)}else Ye[0]!="stop"&&Ye[0]!="close"||lo(v,7);else v.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?lo(v,7):ev(v):Ye[0]!="noop"&&v.l&&v.l.ta(Ye),v.v=0)}}Oc(4)}catch{}}var Wk=class{constructor(u,m){this.g=u,this.map=m}};function pD(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mD(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gD(u){return u.h?1:u.g?u.g.size:0}function Xg(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Jg(u,m){u.g?u.g.add(m):u.h=m}function vD(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pD.prototype.cancel=function(){if(this.i=yD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function yD(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(let v of u.g.values())m=m.concat(v.D);return m}return w(u.i)}function Yk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],v=u.length,S=0;S<v;S++)m.push(u[S]);return m}m=[],v=0;for(S in u)m[v++]=u[S];return m}function Kk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(let S in u)m[v++]=S;return m}}}function _D(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Kk(u),S=Yk(u),N=S.length,V=0;V<N;V++)m.call(void 0,S[V],v&&v[V],u)}var wD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qk(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),N=null;if(0<=S){var V=u[v].substring(0,S);N=u[v].substring(S+1)}else V=u[v];m(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function ao(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ao){this.h=u.h,uh(this,u.j),this.o=u.o,this.g=u.g,dh(this,u.s),this.l=u.l;var m=u.i,v=new Lc;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),bD(this,v),this.m=u.m}else u&&(m=String(u).match(wD))?(this.h=!1,uh(this,m[1]||"",!0),this.o=kc(m[2]||""),this.g=kc(m[3]||"",!0),dh(this,m[4]),this.l=kc(m[5]||"",!0),bD(this,m[6]||"",!0),this.m=kc(m[7]||"")):(this.h=!1,this.i=new Lc(null,this.h))}ao.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Fc(m,ED,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fc(m,ED,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Fc(v,v.charAt(0)=="/"?Zk:Jk,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Fc(v,tF)),u.join("")};function gr(u){return new ao(u)}function uh(u,m,v){u.j=v?kc(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function dh(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function bD(u,m,v){m instanceof Lc?(u.i=m,nF(u.i,u.h)):(v||(m=Fc(m,eF)),u.i=new Lc(m,u.h))}function ct(u,m,v){u.i.set(m,v)}function hh(u){return ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function kc(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fc(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Xk),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ED=/[#\/\?@]/g,Jk=/[#\?:]/g,Zk=/[#\?]/g,eF=/[#\?@]/g,tF=/#/g;function Lc(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rs(u){u.g||(u.g=new Map,u.h=0,u.i&&Qk(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=Lc.prototype,t.add=function(u,m){rs(this),this.i=null,u=Ma(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function DD(u,m){rs(u),m=Ma(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function TD(u,m){return rs(u),m=Ma(u,m),u.g.has(m)}t.forEach=function(u,m){rs(this),this.g.forEach(function(v,S){v.forEach(function(N){u.call(m,N,S,this)},this)},this)},t.na=function(){rs(this);let u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){let N=u[S];for(let V=0;V<N.length;V++)v.push(m[S])}return v},t.V=function(u){rs(this);let m=[];if(typeof u=="string")TD(this,u)&&(m=m.concat(this.g.get(Ma(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return rs(this),this.i=null,u=Ma(this,u),TD(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function CD(u,m,v){DD(u,m),0<v.length&&(u.i=null,u.g.set(Ma(u,m),w(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];let V=encodeURIComponent(String(S)),ee=this.V(S);for(S=0;S<ee.length;S++){var N=V;ee[S]!==""&&(N+="="+encodeURIComponent(String(ee[S]))),u.push(N)}}return this.i=u.join("&")};function Ma(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function nF(u,m){m&&!u.j&&(rs(u),u.i=null,u.g.forEach(function(v,S){var N=S.toLowerCase();S!=N&&(DD(this,S),CD(this,N,v))},u)),u.j=m}function iF(u,m){let v=new Pc;if(a.Image){let S=new Image;S.onload=p(ss,v,"TestLoadImage: loaded",!0,m,S),S.onerror=p(ss,v,"TestLoadImage: error",!1,m,S),S.onabort=p(ss,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=p(ss,v,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function rF(u,m){let v=new Pc,S=new AbortController,N=setTimeout(()=>{S.abort(),ss(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(V=>{clearTimeout(N),V.ok?ss(v,"TestPingServer: ok",!0,m):ss(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(N),ss(v,"TestPingServer: error",!1,m)})}function ss(u,m,v,S,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),S(v)}catch{}}function sF(){this.g=new $k}function oF(u,m,v){let S=v||"";try{_D(u,function(N,V){let ee=N;c(N)&&(ee=Ug(N)),m.push(S+V+"="+encodeURIComponent(ee))})}catch(N){throw m.push(S+"type="+encodeURIComponent("_badmap")),N}}function Vc(u){this.l=u.Ub||null,this.j=u.eb||!1}y(Vc,zg),Vc.prototype.g=function(){return new fh(this.l,this.j)},Vc.prototype.i=function(u){return function(){return u}}({});function fh(u,m){Vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(fh,Vt),t=fh.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,jc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ID(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ID(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bc(this):jc(this),this.readyState==3&&ID(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Bc(this))},t.Qa=function(u){this.g&&(this.response=u,Bc(this))},t.ga=function(){this.g&&Bc(this)};function Bc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jc(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function SD(u){let m="";return P(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Zg(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=SD(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ct(u,m,v))}function _t(u){Vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(_t,Vt);var aF=/^https?$/i,lF=["POST","PUT"];t=_t.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qg.g(),this.v=this.o?nD(this.o):nD(qg),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){MD(this,V);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var N in S)v.set(N,S[N]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(let V of S.keys())v.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(V=>V.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lF,m,void 0))||S||N||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,ee]of v)this.g.setRequestHeader(V,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{OD(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){MD(this,V)}};function MD(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xD(u),ph(u)}function xD(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),ph(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ph(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?AD(this):this.bb())},t.bb=function(){AD(this)};function AD(u){if(u.h&&typeof o<"u"&&(!u.v[1]||vr(u)!=4||u.Z()!=2)){if(u.u&&vr(u)==4)J1(u.Ea,0,u);else if(qt(u,"readystatechange"),vr(u)==4){u.h=!1;try{let ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=ee===0){var N=String(u.D).match(wD)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),S=!aF.test(N?N.toLowerCase():"")}v=S}if(v)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var V=2<vr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",xD(u)}}finally{ph(u)}}}}function ph(u,m){if(u.g){OD(u);let v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{v.onreadystatechange=S}catch{}}}function OD(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function vr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jk(m)}};function RD(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function cF(u){let m={};u=(u.g&&2<=vr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var v=O(u[S]);let N=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();let V=m[N]||[];m[N]=V,V.push(v)}A(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $c(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function PD(u){this.Aa=0,this.i=[],this.j=new Pc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$c("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$c("baseRetryDelayMs",5e3,u),this.cb=$c("retryDelaySeedMs",1e4,u),this.Wa=$c("forwardChannelMaxRetries",2,u),this.wa=$c("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pD(u&&u.concurrentRequestLimit),this.Da=new sF,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=PD.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,S){yn(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=UD(this,null,this.W),gh(this)};function ev(u){if(ND(u),u.G==3){var m=u.U++,v=gr(u.I);if(ct(v,"SID",u.K),ct(v,"RID",m),ct(v,"TYPE","terminate"),Uc(u,v),m=new is(u,u.j,m),m.L=2,m.v=hh(gr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=m.v,v=!0),v||(m.g=zD(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ch(m)}$D(u)}function mh(u){u.g&&(nv(u),u.g.cancel(),u.g=null)}function ND(u){mh(u),u.u&&(a.clearTimeout(u.u),u.u=null),vh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function gh(u){if(!mD(u.h)&&!u.s){u.s=!0;var m=u.Ga;F||ve(),$||(F(),$=!0),Z.add(m,u),u.B=0}}function uF(u,m){return gD(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Rc(f(u.Ga,u,m),jD(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let N=new is(this,this.j,u),V=this.o;if(this.S&&(V?(V=E(V),I(V,this.S)):V=this.S),this.m!==null||this.O||(N.H=V,V=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=FD(this,N,m),v=gr(this.I),ct(v,"RID",u),ct(v,"CVER",22),this.D&&ct(v,"X-HTTP-Session-Id",this.D),Uc(this,v),V&&(this.O?m="headers="+encodeURIComponent(String(SD(V)))+"&"+m:this.m&&Zg(v,this.m,V)),Jg(this.h,N),this.Ua&&ct(v,"TYPE","init"),this.P?(ct(v,"$req",m),ct(v,"SID","null"),N.T=!0,Yg(N,v,null)):Yg(N,v,m),this.G=2}}else this.G==3&&(u?kD(this,u):this.i.length==0||mD(this.h)||kD(this))};function kD(u,m){var v;m?v=m.l:v=u.U++;let S=gr(u.I);ct(S,"SID",u.K),ct(S,"RID",v),ct(S,"AID",u.T),Uc(u,S),u.m&&u.o&&Zg(S,u.m,u.o),v=new is(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=FD(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Jg(u.h,v),Yg(v,S,m)}function Uc(u,m){u.H&&P(u.H,function(v,S){ct(m,S,v)}),u.l&&_D({},function(v,S){ct(m,S,v)})}function FD(u,m,v){v=Math.min(u.i.length,v);var S=u.l?f(u.l.Na,u.l,u):null;e:{var N=u.i;let V=-1;for(;;){let ee=["count="+v];V==-1?0<v?(V=N[0].g,ee.push("ofs="+V)):V=0:ee.push("ofs="+V);let et=!0;for(let nn=0;nn<v;nn++){let Ye=N[nn].g,pn=N[nn].map;if(Ye-=V,0>Ye)V=Math.max(0,N[nn].g-100),et=!1;else try{oF(pn,ee,"req"+Ye+"_")}catch{S&&S(pn)}}if(et){S=ee.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,S}function LD(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;F||ve(),$||(F(),$=!0),Z.add(m,u),u.v=0}}function tv(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Rc(f(u.Fa,u),jD(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,VD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Rc(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),mh(this),VD(this))};function nv(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function VD(u){u.g=new is(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=gr(u.qa);ct(m,"RID","rpc"),ct(m,"SID",u.K),ct(m,"AID",u.T),ct(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ct(m,"TO",u.ja),ct(m,"TYPE","xmlhttp"),Uc(u,m),u.m&&u.o&&Zg(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=hh(gr(m)),v.m=null,v.P=!0,dD(v,u)}t.Za=function(){this.C!=null&&(this.C=null,mh(this),tv(this),yn(19))};function vh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function BD(u,m){var v=null;if(u.g==m){vh(u),nv(u),u.g=null;var S=2}else if(Xg(u.h,m))v=m.D,vD(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var N=u.B;S=oh(),qt(S,new aD(S,v)),gh(u)}else LD(u);else if(N=m.s,N==3||N==0&&0<m.X||!(S==1&&uF(u,m)||S==2&&tv(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),N){case 1:lo(u,5);break;case 4:lo(u,10);break;case 3:lo(u,6);break;default:lo(u,2)}}}function jD(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function lo(u,m){if(u.j.info("Error code "+m),m==2){var v=f(u.fb,u),S=u.Xa;let N=!S;S=new ao(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uh(S,"https"),hh(S),N?iF(S.toString(),v):rF(S.toString(),v)}else yn(2);u.G=0,u.l&&u.l.sa(m),$D(u),ND(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function $D(u){if(u.G=0,u.ka=[],u.l){let m=yD(u.h);(m.length!=0||u.i.length!=0)&&(_(u.ka,m),_(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function UD(u,m,v){var S=v instanceof ao?gr(v):new ao(v);if(S.g!="")m&&(S.g=m+"."+S.g),dh(S,S.s);else{var N=a.location;S=N.protocol,m=m?m+"."+N.hostname:N.hostname,N=+N.port;var V=new ao(null);S&&uh(V,S),m&&(V.g=m),N&&dh(V,N),v&&(V.l=v),S=V}return v=u.D,m=u.ya,v&&m&&ct(S,v,m),ct(S,"VER",u.la),Uc(u,S),S}function zD(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new _t(new Vc({eb:v})):new _t(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function GD(){}t=GD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yh(){}yh.prototype.g=function(u,m){return new $n(u,m)};function $n(u,m){Vt.call(this),this.g=new PD(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!C(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xa(this)}y($n,Vt),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){ev(this.g)},$n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ug(u),u=v);m.i.push(new Wk(m.Ya++,u)),m.G==3&&gh(m)},$n.prototype.N=function(){this.g.l=null,delete this.j,ev(this.g),delete this.g,$n.aa.N.call(this)};function HD(u){Gg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(let v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}y(HD,Gg);function qD(){Hg.call(this),this.status=1}y(qD,Hg);function xa(u){this.g=u}y(xa,GD),xa.prototype.ua=function(){qt(this.g,"a")},xa.prototype.ta=function(u){qt(this.g,new HD(u))},xa.prototype.sa=function(u){qt(this.g,new qD)},xa.prototype.ra=function(){qt(this.g,"b")},yh.prototype.createWebChannel=yh.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,fw=Vr.createWebChannelTransport=function(){return new yh},hw=Vr.getStatEventTarget=function(){return oh()},dw=Vr.Event=so,nm=Vr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ah.NO_ERROR=0,ah.TIMEOUT=8,ah.HTTP_ERROR=6,ld=Vr.ErrorCode=ah,lD.COMPLETE="complete",uw=Vr.EventType=lD,iD.EventType=Ac,Ac.OPEN="a",Ac.CLOSE="b",Ac.ERROR="c",Ac.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Al=Vr.WebChannel=iD,cw=Vr.FetchXmlHttpFactory=Vc,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,lw=Vr.XhrIo=_t}).apply(typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{});var dA="@firebase/firestore";var Pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");var ac="10.12.1";var Ls=new Eh("@firebase/firestore");function kl(){return Ls.logLevel}function dO(t){Ls.setLogLevel(t)}function G(t,...e){if(Ls.logLevel<=Bi.DEBUG){let n=e.map(gE);Ls.debug(`Firestore (${ac}): ${t}`,...n)}}function St(t,...e){if(Ls.logLevel<=Bi.ERROR){let n=e.map(gE);Ls.error(`Firestore (${ac}): ${t}`,...n)}}function ri(t,...e){if(Ls.logLevel<=Bi.WARN){let n=e.map(gE);Ls.warn(`Firestore (${ac}): ${t}`,...n)}}function gE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function le(t="Unexpected state"){let e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+t;throw St(e),new Error(e)}function pe(t,e){t||le()}function hO(t,e){t||le()}function se(t,e){return t}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends JD{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var fm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},yw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}},_w=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ww=class{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve(),s=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nt,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>j(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pe(typeof i.accessToken=="string"),new fm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new Pt(e)}},bw=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ew=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new bw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new Dw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function XG(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var pm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=XG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Ce(t,e){return t<e?-1:t>e?1:0}function Gl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function fO(t){return t+"\0"}var yt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var me=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new yt(0,0))}static max(){return new t(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var mm=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&le(),i===void 0?i=e.length-n:i>e.length-n&&le(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ge=class t extends mm{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new z(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},JG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mt=class t extends mm{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return JG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ge.fromString(e))}static fromName(e){return new t(Ge.fromString(e).popFirst(5))}static empty(){return new t(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ge(e.slice()))}};var Hl=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function Cw(t){return t.fields.find(e=>e.kind===2)}function zo(t){return t.fields.filter(e=>e.kind!==2)}Hl.UNKNOWN_ID=-1;var $l=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var wd=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,si.min())}};function pO(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=me.fromTimestamp(i===1e9?new yt(n+1,0):new yt(n,i));return new si(r,ne.empty(),e)}function mO(t){return new si(t.readTime,t.key,-1)}var si=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(me.min(),ne.empty(),-1)}static max(){return new t(me.max(),ne.empty(),-1)}};function vE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}var gO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ws(t){return j(this,null,function*(){if(t.code!==B.FAILED_PRECONDITION||t.message!==gO)throw t;G("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};var vm=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Nt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ko(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=yE(i.target.error);this.V.reject(new Ko(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(s){throw new Ko(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Sw(n)}},Vs=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(zc())===12.2&&St("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),Go(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!bh())return!1;if(t.C())return!0;let e=zc(),n=t.S(e),i=0<n&&n<10,r=vO(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return j(this,null,function*(){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;n(o)},r.onblocked=()=>{i(new Ko(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new z(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new z(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new Ko(e,o))},r.onupgradeneeded=s=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,r.transaction,s.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return j(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=vm.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),L.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&o<3;if(G("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function vO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var Iw=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Go(this.B.delete())}},Ko=class extends z{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Ys(t){return t.name==="IndexedDbTransactionError"}var Sw=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Go(i)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),Go(this.store.add(e))}get(e){return Go(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),Go(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),Go(this.store.count())}U(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{let s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new L((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(e,n){G("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.H=!1;let r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.W(r,n)}Y(e){let n=this.cursor({});return new L((i,r)=>{n.onerror=s=>{let o=yE(s.target.error);r(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,n){let i=[];return new L((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let l=new Iw(a),c=n(a.primaryKey,a.value,l);if(c instanceof L){let d=c.catch(h=>(l.done(),L.reject(h)));i.push(d)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Go(t){return new L((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=yE(i.target.error);n(r)}})}var hA=!1;function yE(t){let e=Vs.S(zc());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hA||(hA=!0,setTimeout(()=>{throw i},0)),i}}return t}var Mw=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){G("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>j(this,null,function*(){this.task=null;try{G("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){Ys(n)?G("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Ws(n)}yield this.X(6e4)}))}},xw=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return j(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let i=new Set,r=n,s=!0;return L.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!i.has(o))return G("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>n-r)}ne(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(r,s)).next(a=>(G("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let i=e;return n.changes.forEach((r,s)=>{let o=mO(s);vE(o,i)>0&&(i=o)}),new si(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Kn=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ud(t){return t==null}function bd(t){return t===0&&1/t==-1/0}function yO(t){return typeof t=="number"&&Number.isInteger(t)&&!bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Tn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fA(e)),e=ZG(t.get(n),e);return fA(e)}function ZG(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let s=t.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function fA(t){return t+""}function nr(t){let e=t.length;if(pe(e>=2),e===2)return pe(t.charAt(0)===""&&t.charAt(1)===""),Ge.emptyPath();let n=e-2,i=[],r="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&le(),t.charAt(o+1)){case"":let a=t.substring(s,o),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=t.substring(s,o),r+="\0";break;case"":r+=t.substring(s,o+1);break;default:le()}s=o+2}return new Ge(i)}var pA=["userId","batchId"];function am(t,e){return[t,Tn(e)]}function _O(t,e,n){return[t,Tn(e),n]}var eH={},tH=["prefixPath","collectionGroup","readTime","documentId"],nH=["prefixPath","collectionGroup","documentId"],iH=["collectionGroup","readTime","prefixPath","documentId"],rH=["canonicalId","targetId"],sH=["targetId","path"],oH=["path","targetId"],aH=["collectionId","parent"],lH=["indexId","uid"],cH=["uid","sequenceNumber"],uH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dH=["indexId","uid","orderedDocumentKey"],hH=["userId","collectionPath","documentId"],fH=["userId","collectionPath","largestBatchId"],pH=["userId","collectionGroup","largestBatchId"],wO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mH=[...wO,"documentOverlays"],bO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],EO=bO,DO=[...EO,"indexConfiguration","indexState","indexEntries"],gH=DO;var Ed=class extends gm{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function Jt(t,e){let n=se(t);return Vs.F(n._e,e)}function mA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ht=class t{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jl(this.root,e,this.comparator,!0)}},jl=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},rr=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();let e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,i,r,s){return this}insert(e,n,i){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class t{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ym(this.data.getIterator())}getIteratorFrom(e){return new ym(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ym=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Ol(t){return t.hasNext()?t.getNext():void 0}var Qn=class t{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new it(Mt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var _m=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function CO(){return typeof atob<"u"}var Xt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _m("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xt.EMPTY_BYTE_STRING=new Xt("");var vH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(pe(!!t),typeof t=="string"){let e=0,n=vH.exec(t);if(pe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}function cg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _E(t){let e=t.mapValue.fields.__previous_value__;return cg(e)?_E(e):e}function Dd(t){let e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}var Aw=class{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},js=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ks={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lm={nullValue:"NULL_VALUE"};function Qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cg(t)?4:IO(t)?9007199254740991:10:le()}function ar(t,e){if(t===e)return!0;let n=Qo(t);if(n!==Qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dd(t).isEqual(Dd(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=$r(r.timestampValue),a=$r(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Bs(r.bytesValue).isEqual(Bs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Dt(r.geoPointValue.latitude)===Dt(s.geoPointValue.latitude)&&Dt(r.geoPointValue.longitude)===Dt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Dt(r.integerValue)===Dt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Dt(r.doubleValue),a=Dt(s.doubleValue);return o===a?bd(o)===bd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gl(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(mA(o)!==mA(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ar(o[l],a[l])))return!1;return!0}(t,e);default:return le()}}function Td(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function $s(t,e){if(t===e)return 0;let n=Qo(t),i=Qo(e);if(n!==i)return Ce(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Dt(s.integerValue||s.doubleValue),l=Dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gA(t.timestampValue,e.timestampValue);case 4:return gA(Dd(t),Dd(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Bs(s),l=Bs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=Ce(a[c],l[c]);if(d!==0)return d}return Ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ce(Dt(s.latitude),Dt(o.latitude));return a!==0?a:Ce(Dt(s.longitude),Dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let d=$s(a[c],l[c]);if(d)return d}return Ce(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ks.mapValue&&o===ks.mapValue)return 0;if(s===ks.mapValue)return 1;if(o===ks.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){let f=Ce(l[h],d[h]);if(f!==0)return f;let p=$s(a[l[h]],c[d[h]]);if(p!==0)return p}return Ce(l.length,d.length)}(t.mapValue,e.mapValue);default:throw le()}}function gA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);let n=$r(t),i=$r(e),r=Ce(n.seconds,i.seconds);return r!==0?r:Ce(n.nanos,i.nanos)}function ql(t){return Ow(t)}function Ow(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=$r(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=Ow(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Ow(n.fields[o])}`;return r+"}"}(t.mapValue):le()}function Xo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rw(t){return!!t&&"integerValue"in t}function Cd(t){return!!t&&"arrayValue"in t}function vA(t){return!!t&&"nullValue"in t}function yA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cm(t){return!!t&&"mapValue"in t}function md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return aa(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=md(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function yH(t){return"nullValue"in t?lm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Xo(js.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:le()}function _H(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Xo(js.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ks:le()}function _A(t,e){let n=$s(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function wA(t,e){let n=$s(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var vn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(n)}setAll(e){let n=Mt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=md(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];cm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){aa(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(md(this.value))}};function SO(t){let e=[];return aa(t.fields,(n,i)=>{let r=new Mt([n]);if(cm(i)){let s=SO(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Qn(e)}var kt=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,me.min(),me.min(),me.min(),vn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,me.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,me.min(),me.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,me.min(),me.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var lr=class{constructor(e,n){this.position=e,this.inclusive=n}};function bA(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ne.comparator(ne.fromName(o.referenceValue),n.key):i=$s(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function EA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}var Jo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function wH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var wm=class{},je=class t extends wm{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kw(e,n,i):n==="array-contains"?new Vw(e,i):n==="in"?new bm(e,i):n==="not-in"?new Bw(e,i):n==="array-contains-any"?new jw(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Fw(e,i):new Lw(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($s(n,this.value)):n!==null&&Qo(this.value)===Qo(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qe=class t extends wm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Wl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Wl(t){return t.op==="and"}function Pw(t){return t.op==="or"}function wE(t){return MO(t)&&Wl(t)}function MO(t){for(let e of t.filters)if(e instanceof Qe)return!1;return!0}function Nw(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(wE(t))return t.filters.map(e=>Nw(e)).join(",");{let e=t.filters.map(n=>Nw(n)).join(",");return`${t.op}(${e})`}}function xO(t,e){return t instanceof je?function(i,r){return r instanceof je&&i.op===r.op&&i.field.isEqual(r.field)&&ar(i.value,r.value)}(t,e):t instanceof Qe?function(i,r){return r instanceof Qe&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&xO(o,r.filters[a]),!0):!1}(t,e):void le()}function AO(t,e){let n=t.filters.concat(e);return Qe.create(n,t.op)}function OO(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof Qe?function(n){return n.op.toString()+" {"+n.getFilters().map(OO).join(" ,")+"}"}(t):"Filter"}var kw=class extends je{constructor(e,n,i){super(e,n,i),this.key=ne.fromName(i.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},Fw=class extends je{constructor(e,n){super(e,"in",n),this.keys=RO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Lw=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=RO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function RO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ne.fromName(i.referenceValue))}var Vw=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Cd(n)&&Td(n.arrayValue,this.value)}},bm=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}},Bw=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Td(this.value.arrayValue,n)}},jw=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Cd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Td(this.value.arrayValue,i))}};var $w=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function Uw(t,e=null,n=[],i=[],r=null,s=null,o=null){return new $w(t,e,n,i,r,s,o)}function Zo(t){let e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Nw(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ql(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ql(i)).join(",")),e.ue=n}return e.ue}function zd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EA(t.startAt,e.startAt)&&EA(t.endAt,e.endAt)}function Em(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Dm(t,e){return t.filters.filter(n=>n instanceof je&&n.field.isEqual(e))}function DA(t,e,n){let i=lm,r=!0;for(let s of Dm(t,e)){let o=lm,a=!0;switch(s.op){case"<":case"<=":o=yH(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=lm}_A({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];_A({value:i,inclusive:r},{value:o,inclusive:n.inclusive})<0&&(i=o,r=n.inclusive);break}}return{value:i,inclusive:r}}function TA(t,e,n){let i=ks,r=!0;for(let s of Dm(t,e)){let o=ks,a=!0;switch(s.op){case">=":case">":o=_H(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ks}wA({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];wA({value:i,inclusive:r},{value:o,inclusive:n.inclusive})>0&&(i=o,r=n.inclusive);break}}return{value:i,inclusive:r}}var Si=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function PO(t,e,n,i,r,s,o,a){return new Si(t,e,n,i,r,s,o,a)}function lc(t){return new Si(t)}function CA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bE(t){return t.collectionGroup!==null}function Ul(t){let e=se(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(Mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Jo(s,i))}),n.has(Mt.keyField().canonicalString())||e.ce.push(new Jo(Mt.keyField(),i))}return e.ce}function Cn(t){let e=se(t);return e.le||(e.le=bH(e,Ul(t))),e.le}function bH(t,e){if(t.limitType==="F")return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Jo(r.field,s)});let n=t.endAt?new lr(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new lr(t.startAt.position,t.startAt.inclusive):null;return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function zw(t,e){let n=t.filters.concat([e]);return new Si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tm(t,e,n){return new Si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gd(t,e){return zd(Cn(t),Cn(e))&&t.limitType===e.limitType}function NO(t){return`${Zo(Cn(t))}|lt:${t.limitType}`}function Fl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>OO(r)).join(", ")}]`),Ud(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ql(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ql(r)).join(",")),`Target(${i})`}(Cn(t))}; limitType=${t.limitType})`}function Hd(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ne.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of Ul(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=bA(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Ul(i),r)||i.endAt&&!function(o,a,l){let c=bA(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Ul(i),r))}(t,e)}function kO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FO(t){return(e,n)=>{let i=!1;for(let r of Ul(t)){let s=EH(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function EH(t,e,n){let i=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?$s(l,c):le()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return le()}}var cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return TO(this.inner)}size(){return this.innerSize}};var DH=new ht(ne.comparator);function Ln(){return DH}var LO=new ht(ne.comparator);function fd(...t){let e=LO;for(let n of t)e=e.insert(n.key,n);return e}function VO(t){let e=LO;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ir(){return gd()}function BO(){return gd()}function gd(){return new cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var TH=new ht(ne.comparator),CH=new it(ne.comparator);function Me(...t){let e=CH;for(let n of t)e=e.add(n);return e}var IH=new it(Ce);function EE(){return IH}function jO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function $O(t){return{integerValue:""+t}}function UO(t,e){return yO(e)?$O(e):jO(t,e)}var Yl=class{constructor(){this._=void 0}};function SH(t,e,n){return t instanceof Us?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&cg(s)&&(s=_E(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ur?GO(t,e):t instanceof zr?HO(t,e):function(r,s){let o=zO(r,s),a=IA(o)+IA(r.Pe);return Rw(o)&&Rw(r.Pe)?$O(a):jO(r.serializer,a)}(t,e)}function MH(t,e,n){return t instanceof Ur?GO(t,e):t instanceof zr?HO(t,e):n}function zO(t,e){return t instanceof zs?function(i){return Rw(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Us=class extends Yl{},Ur=class extends Yl{constructor(e){super(),this.elements=e}};function GO(t,e){let n=qO(e);for(let i of t.elements)n.some(r=>ar(r,i))||n.push(i);return{arrayValue:{values:n}}}var zr=class extends Yl{constructor(e){super(),this.elements=e}};function HO(t,e){let n=qO(e);for(let i of t.elements)n=n.filter(r=>!ar(r,i));return{arrayValue:{values:n}}}var zs=class extends Yl{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function IA(t){return Dt(t.integerValue||t.doubleValue)}function qO(t){return Cd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ea=class{constructor(e,n){this.field=e,this.transform=n}};function xH(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ur&&r instanceof Ur||i instanceof zr&&r instanceof zr?Gl(i.elements,r.elements,ar):i instanceof zs&&r instanceof zs?ar(i.Pe,r.Pe):i instanceof Us&&r instanceof Us}(t.transform,e.transform)}var Gw=class{constructor(e,n){this.version=e,this.transformResults=n}},Tt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function um(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Kl=class{};function WO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hs(t.key,Tt.none()):new Gs(t.key,t.data,Tt.none());{let n=t.data,i=vn.empty(),r=new it(Mt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Mi(t.key,i,new Qn(r.toArray()),Tt.none())}}function AH(t,e,n){t instanceof Gs?function(r,s,o){let a=r.value.clone(),l=MA(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(r,s,o){if(!um(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=MA(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(YO(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vd(t,e,n,i){return t instanceof Gs?function(s,o,a,l){if(!um(s.precondition,o))return a;let c=s.value.clone(),d=xA(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Mi?function(s,o,a,l){if(!um(s.precondition,o))return a;let c=xA(s.fieldTransforms,l,o),d=o.data;return d.setAll(YO(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,o,a){return um(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function OH(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=zO(i.transform,r||null);s!=null&&(n===null&&(n=vn.empty()),n.set(i.field,s))}return n||null}function SA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Gl(i,r,(s,o)=>xH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Gs=class extends Kl{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Mi=class extends Kl{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function YO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function MA(t,e,n){let i=new Map;pe(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,MH(o,a,n[r]))}return i}function xA(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,SH(s,o,e))}return i}var Hs=class extends Kl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Id=class extends Kl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Sd=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&AH(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=vd(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=vd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=BO();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let l=WO(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(n,i)=>SA(n,i))&&Gl(this.baseMutations,e.baseMutations,(n,i)=>SA(n,i))}},Hw=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){pe(e.mutations.length===i.length);let r=function(){return TH}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var Md=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var qw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ot,ze;function KO(t){switch(t){default:return le();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function QO(t){if(t===void 0)return St("GRPC error has no .code"),B.UNKNOWN;switch(t){case Ot.OK:return B.OK;case Ot.CANCELLED:return B.CANCELLED;case Ot.UNKNOWN:return B.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return B.INTERNAL;case Ot.UNAVAILABLE:return B.UNAVAILABLE;case Ot.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Ot.NOT_FOUND:return B.NOT_FOUND;case Ot.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Ot.ABORTED:return B.ABORTED;case Ot.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Ot.DATA_LOSS:return B.DATA_LOSS;default:return le()}}(ze=Ot||(Ot={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";var AA=null;function XO(){return new TextEncoder}var RH=new As([4294967295,4294967295],0);function OA(t){let e=XO().encode(t),n=new aw;return n.update(e),new Uint8Array(n.digest())}function RA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new As([n,i],0),new As([r,s],0)]}var Ww=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(i<0)throw new Yo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=As.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(As.fromNumber(i)));return r.compare(RH)===1&&(r=new As([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=OA(e),[i,r]=RA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=OA(e),[i,r]=RA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Yo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xd=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(me.min(),r,new ht(Ce),Ln(),Me())}},Ad=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Me(),Me(),Me())}};var zl=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},Cm=class{constructor(e,n){this.targetId=e,this.me=n}},Im=class{constructor(e,n,i=Xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Sm=class{constructor(){this.fe=0,this.ge=NA(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Me(),n=Me(),i=Me();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:le()}}),new Ad(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=NA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Yw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ln(),this.qe=PA(),this.Qe=new ht(Ce)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(Em(s))if(i===0){let o=new ne(s.path);this.Ue(n,o,kt.newNoDocument(o,me.min()))}else pe(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}AA?.et(function(d,h,f,p,y){var w,_,g,C,b,x;let R={localCacheCount:d,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},P=h.unchangedNames;return P&&(R.bloomFilter={applied:y===0,hashCount:(w=P?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(C=(g=(_=P?.bits)===null||_===void 0?void 0:_.bitmap)===null||g===void 0?void 0:g.length)!==null&&C!==void 0?C:0,padding:(x=(b=P?.bits)===null||b===void 0?void 0:b.padding)!==null&&x!==void 0?x:0,mightContain:A=>{var E;return(E=p?.mightContain(A))!==null&&E!==void 0&&E}}),R}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=Bs(i).toUint8Array()}catch(l){if(l instanceof _m)return ri("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ww(o,r,s)}catch(l){return ri(l instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Em(a.target)){let l=new ne(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,kt.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=Me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new xd(e,n,this.Qe,this.ke,i);return this.ke=Ln(),this.qe=PA(),this.Qe=new ht(Ce),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Sm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(Ce),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function PA(){return new ht(ne.comparator)}function NA(){return new ht(ne.comparator)}var PH={asc:"ASCENDING",desc:"DESCENDING"},NH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kH={and:"AND",or:"OR"},Kw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Qw(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function Ql(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FH(t,e){return Ql(t,e.toTimestamp())}function xt(t){return pe(!!t),me.fromTimestamp(function(n){let i=$r(n);return new yt(i.seconds,i.nanos)}(t))}function DE(t,e){return Xw(t,e).canonicalString()}function Xw(t,e){let n=function(r){return new Ge(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZO(t){let e=Ge.fromString(t);return pe(cR(e)),e}function Od(t,e){return DE(t.databaseId,e.path)}function sr(t,e){let n=ZO(e);if(n.get(1)!==t.databaseId.projectId)throw new z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(nR(n))}function eR(t,e){return DE(t.databaseId,e)}function tR(t){let e=ZO(t);return e.length===4?Ge.emptyPath():nR(e)}function Jw(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nR(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kA(t,e,n){return{name:Od(t,e),fields:n.value.mapValue.fields}}function iR(t,e,n){let i=sr(t,e.name),r=xt(e.updateTime),s=e.createTime?xt(e.createTime):me.min(),o=new vn({mapValue:{fields:e.fields}}),a=kt.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function LH(t,e){return"found"in e?function(i,r){pe(!!r.found),r.found.name,r.found.updateTime;let s=sr(i,r.found.name),o=xt(r.found.updateTime),a=r.found.createTime?xt(r.found.createTime):me.min(),l=new vn({mapValue:{fields:r.found.fields}});return kt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(i,r){pe(!!r.missing),pe(!!r.readTime);let s=sr(i,r.missing),o=xt(r.readTime);return kt.newNoDocument(s,o)}(t,e):le()}function VH(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(pe(d===void 0||typeof d=="string"),Xt.fromBase64String(d||"")):(pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?B.UNKNOWN:QO(c.code);return new z(d,c.message||"")}(o);n=new Im(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=sr(t,i.document.name),s=xt(i.document.updateTime),o=i.document.createTime?xt(i.document.createTime):me.min(),a=new vn({mapValue:{fields:i.document.fields}}),l=kt.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];n=new zl(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=sr(t,i.document),s=i.readTime?xt(i.readTime):me.min(),o=kt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new zl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=sr(t,i.document),s=i.removedTargetIds||[];n=new zl([],s,r,null)}else{if(!("filter"in e))return le();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new qw(r,s),a=i.targetId;n=new Cm(a,o)}}return n}function Rd(t,e){let n;if(e instanceof Gs)n={update:kA(t,e.key,e.value)};else if(e instanceof Hs)n={delete:Od(t,e.key)};else if(e instanceof Mi)n={update:kA(t,e.key,e.data),updateMask:GH(e.fieldMask)};else{if(!(e instanceof Id))return le();n={verify:Od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Us)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ur)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zs)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw le()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:FH(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function Zw(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?Tt.updateTime(xt(s.updateTime)):s.exists!==void 0?Tt.exists(s.exists):Tt.none()}(e.currentDocument):Tt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,a){let l=null;if("setToServerValue"in a)pe(a.setToServerValue==="REQUEST_TIME"),l=new Us;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new Ur(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new zr(d)}else"increment"in a?l=new zs(o,a.increment):le();let c=Mt.fromServerFormat(a.fieldPath);return new ea(c,l)}(t,r)):[];if(e.update){e.update.name;let r=sr(t,e.update.name),s=new vn({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(l){let c=l.fieldPaths||[];return new Qn(c.map(d=>Mt.fromServerFormat(d)))}(e.updateMask);return new Mi(r,s,o,n,i)}return new Gs(r,s,n,i)}if(e.delete){let r=sr(t,e.delete);return new Hs(r,n)}if(e.verify){let r=sr(t,e.verify);return new Id(r,n)}return le()}function BH(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?xt(r.updateTime):xt(s);return o.isEqual(me.min())&&(o=xt(s)),new Gw(o,r.transformResults||[])}(n,e))):[]}function rR(t,e){return{documents:[eR(t,e.path)]}}function sR(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=eR(t,r);let s=function(c){if(c.length!==0)return lR(Qe.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Ll(f.field),direction:$H(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Qw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:r}}function oR(t){let e=tR(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){pe(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){let f=aR(h);return f instanceof Qe&&wE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Jo(Vl(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Ud(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){let f=!!h.before,p=h.values||[];return new lr(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){let f=!h.before,p=h.values||[];return new lr(p,f)}(n.endAt)),PO(e,r,o,s,a,"F",l,c)}function jH(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Vl(n.unaryFilter.field);return je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Vl(n.unaryFilter.field);return je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Vl(n.unaryFilter.field);return je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Vl(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return je.create(Vl(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qe.create(n.compositeFilter.filters.map(i=>aR(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function $H(t){return PH[t]}function UH(t){return NH[t]}function zH(t){return kH[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function Vl(t){return Mt.fromServerFormat(t.fieldPath)}function lR(t){return t instanceof je?function(n){if(n.op==="=="){if(yA(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(vA(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yA(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(vA(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:UH(n.op),value:n.value}}}(t):t instanceof Qe?function(n){let i=n.getFilters().map(r=>lR(r));return i.length===1?i[0]:{compositeFilter:{op:zH(n.op),filters:i}}}(t):le()}function GH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Xl=class t{constructor(e,n,i,r,s=me.min(),o=me.min(),a=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Mm=class{constructor(e){this.ct=e}};function HH(t,e){let n;if(e.document)n=iR(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=ne.fromSegments(e.noDocument.path),r=na(e.noDocument.readTime);n=kt.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return le();{let i=ne.fromSegments(e.unknownDocument.path),r=na(e.unknownDocument.version);n=kt.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let s=new yt(r[0],r[1]);return me.fromTimestamp(s)}(e.readTime)),n}function FA(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(s,o){return{name:Od(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Ql(s,o.version.toTimestamp()),createTime:Ql(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:ta(e.version)};else{if(!e.isUnknownDocument())return le();i.unknownDocument={path:n.path.toArray(),version:ta(e.version)}}return i}function xm(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ta(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function na(t){let e=new yt(t.seconds,t.nanoseconds);return me.fromTimestamp(e)}function Ho(t,e){let n=(e.baseMutations||[]).map(s=>Zw(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let i=e.mutations.map(s=>Zw(t.ct,s)),r=yt.fromMillis(e.localWriteTimeMs);return new Sd(e.batchId,r,n,i)}function pd(t){let e=na(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?na(t.lastLimboFreeSnapshotVersion):me.min(),i;return i=function(s){return s.documents!==void 0}(t.query)?function(s){return pe(s.documents.length===1),Cn(lc(tR(s.documents[0])))}(t.query):function(s){return Cn(oR(s))}(t.query),new Xl(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Xt.fromBase64String(t.resumeToken))}function uR(t,e){let n=ta(e.snapshotVersion),i=ta(e.lastLimboFreeSnapshotVersion),r;r=Em(e.target)?rR(t.ct,e.target):sR(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function TE(t){let e=oR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tm(e,e.limit,"L"):e}function pw(t,e){return new Md(e.largestBatchId,Zw(t.ct,e.overlayMutation))}function LA(t,e){let n=e.path.lastSegment();return[t,Tn(e.path.popLast()),n]}function VA(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:ta(i.readTime),documentKey:Tn(i.documentKey.path),largestBatchId:i.largestBatchId}}var eb=class{getBundleMetadata(e,n){return BA(e).get(n).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:na(s.createTime),version:s.version}}(i)})}saveBundleMetadata(e,n){return BA(e).put(function(r){return{bundleId:r.id,createTime:ta(xt(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return jA(e).get(n).next(i=>{if(i)return function(s){return{name:s.name,query:TE(s.bundledQuery),readTime:na(s.readTime)}}(i)})}saveNamedQuery(e,n){return jA(e).put(function(r){return{name:r.name,readTime:ta(xt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function BA(t){return Jt(t,"bundles")}function jA(t){return Jt(t,"namedQueries")}var Am=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return cd(e).get(LA(this.userId,n)).next(i=>i?pw(this.serializer,i):null)}getOverlays(e,n){let i=ir();return L.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((s,o)=>{let a=new Md(n,o);r.push(this.ht(e,a))}),L.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(o=>r.add(Tn(o.getCollectionPath())));let s=[];return r.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(cd(e).j("collectionPathOverlayIndex",a))}),L.waitFor(s)}getOverlaysForCollection(e,n,i){let r=ir(),s=Tn(n),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cd(e).U("collectionPathOverlayIndex",o).next(a=>{for(let l of a){let c=pw(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let s=ir(),o,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cd(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{let h=pw(this.serializer,c);s.size()<r||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return cd(e).put(function(r,s,o){let[a,l,c]=LA(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Rd(r.ct,o.mutation)}}(this.serializer,this.userId,n))}};function cd(t){return Jt(t,"documentOverlays")}var Br=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Dt(e.integerValue));else if("doubleValue"in e){let i=Dt(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),bd(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=$r(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Bs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?IO(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):le()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),ne.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Br.bt=new Br;function qH(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function $A(t){let e=64-function(i){let r=0;for(let s=0;s<8;++s){let o=qH(255&i[s]);if(r+=o,o!==8)break}return r}(t);return Math.ceil(e/8)}var tb=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ct(i.value),i=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Mt(i.value),i=n.next();this.xt()}Ot(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{let r=n.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{let r=n.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let n=this.Bt(e),i=$A(n);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}qt(e){let n=this.Bt(e),i=$A(n);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},nb=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},ib=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},qo=class{constructor(){this.Gt=new tb,this.zt=new nb(this.Gt),this.jt=new ib(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Wo=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function Os(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=UA(t.arrayValue,e.arrayValue),n!==0?n:(n=UA(t.directionalValue,e.directionalValue),n!==0?n:ne.comparator(t.documentKey,e.documentKey)))}function UA(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var Om=class{constructor(e){this.Yt=new it((n,i)=>Mt.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let i=n;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(pe(e.collectionGroup===this.collectionId),this.en)return!1;let n=Cw(e);if(n!==void 0&&!this.nn(n))return!1;let i=zo(e),r=new Set,s=0,o=0;for(;s<i.length&&this.nn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<i.length;++s){let a=i[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new it(Mt.comparator),n=[];for(let i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new $l(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new $l(i.field,0))}for(let i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new $l(i.field,i.dir==="asc"?0:1)));return new Hl(Hl.UNKNOWN_ID,this.collectionId,n,wd.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function dR(t){var e,n;if(pe(t instanceof je||t instanceof Qe),t instanceof je){if(t instanceof bm){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>je.create(t.field,"==",s)))||[];return Qe.create(r,"or")}return t}let i=t.filters.map(r=>dR(r));return Qe.create(i,t.op)}function WH(t){if(t.getFilters().length===0)return[];let e=ob(dR(t));return pe(hR(e)),rb(e)||sb(e)?[e]:e.getFilters()}function rb(t){return t instanceof je}function sb(t){return t instanceof Qe&&wE(t)}function hR(t){return rb(t)||sb(t)||function(n){if(n instanceof Qe&&Pw(n)){for(let i of n.getFilters())if(!rb(i)&&!sb(i))return!1;return!0}return!1}(t)}function ob(t){if(pe(t instanceof je||t instanceof Qe),t instanceof je)return t;if(t.filters.length===1)return ob(t.filters[0]);let e=t.filters.map(i=>ob(i)),n=Qe.create(e,t.op);return n=Rm(n),hR(n)?n:(pe(n instanceof Qe),pe(Wl(n)),pe(n.filters.length>1),n.filters.reduce((i,r)=>CE(i,r)))}function CE(t,e){let n;return pe(t instanceof je||t instanceof Qe),pe(e instanceof je||e instanceof Qe),n=t instanceof je?e instanceof je?function(r,s){return Qe.create([r,s],"and")}(t,e):zA(t,e):e instanceof je?zA(e,t):function(r,s){if(pe(r.filters.length>0&&s.filters.length>0),Wl(r)&&Wl(s))return AO(r,s.getFilters());let o=Pw(r)?r:s,a=Pw(r)?s:r,l=o.filters.map(c=>CE(c,a));return Qe.create(l,"or")}(t,e),Rm(n)}function zA(t,e){if(Wl(e))return AO(e,t.getFilters());{let n=e.filters.map(i=>CE(t,i));return Qe.create(n,"or")}}function Rm(t){if(pe(t instanceof je||t instanceof Qe),t instanceof je)return t;let e=t.getFilters();if(e.length===1)return Rm(e[0]);if(MO(t))return t;let n=e.map(r=>Rm(r)),i=[];return n.forEach(r=>{r instanceof je?i.push(r):r instanceof Qe&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Qe.create(i,t.op)}var ab=class{constructor(){this._n=new Pd}addToCollectionParentIndex(e,n){return this._n.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(si.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},Pd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new it(Ge.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new it(Ge.comparator)).toArray()}};var im=new Uint8Array(0),lb=class{constructor(e,n){this.databaseId=n,this.an=new Pd,this.un=new cr(i=>Zo(i),(i,r)=>zd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let s={collectionId:i,parent:Tn(r)};return GA(e).put(s)}return L.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[fO(n),""],!1,!0);return GA(e).U(r).next(s=>{for(let o of s){if(o.collectionId!==n)break;i.push(nr(o.parent))}return i})}addFieldIndex(e,n){let i=ud(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete r.indexId;let s=i.add(r);if(n.indexState){let o=Pl(e);return s.next(a=>{o.put(VA(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let i=ud(e),r=Pl(e),s=Rl(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=ud(e),i=Rl(e),r=Pl(e);return n.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,n){return L.forEach(this.cn(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let s=new Om(i).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let i=Rl(e),r=!0,s=new Map;return L.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=Me(),a=[];return L.forEach(s,(l,c)=>{G("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(l)} to execute ${Zo(n)}`);let d=function(b,x){let R=Cw(x);if(R===void 0)return null;for(let P of Dm(b,R.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null}(c,l),h=function(b,x){let R=new Map;for(let P of zo(x))for(let A of Dm(b,P.fieldPath))switch(A.op){case"==":case"in":R.set(P.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return R.set(P.fieldPath.canonicalString(),A.value),Array.from(R.values())}return null}(c,l),f=function(b,x){let R=[],P=!0;for(let A of zo(x)){let E=A.kind===0?DA(b,A.fieldPath,b.startAt):TA(b,A.fieldPath,b.startAt);R.push(E.value),P&&(P=E.inclusive)}return new lr(R,P)}(c,l),p=function(b,x){let R=[],P=!0;for(let A of zo(x)){let E=A.kind===0?TA(b,A.fieldPath,b.endAt):DA(b,A.fieldPath,b.endAt);R.push(E.value),P&&(P=E.inclusive)}return new lr(R,P)}(c,l),y=this.hn(l,c,f),w=this.hn(l,c,p),_=this.Pn(l,c,h),g=this.In(l.indexId,d,y,f.inclusive,w,p.inclusive,_);return L.forEach(g,C=>i.G(C,n.limit).next(b=>{b.forEach(x=>{let R=ne.fromSegments(x.documentKey);o.has(R)||(o=o.add(R),a.push(R))})}))}).next(()=>a)}return L.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=WH(Qe.create(e.filters,"and")).map(i=>Uw(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,i,r,s,o,a){let l=(n!=null?n.length:1)*Math.max(i.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){let f=n?this.Tn(n[h/c]):im,p=this.En(e,f,i[h%c],r),y=this.dn(e,f,s[h%c],o),w=a.map(_=>this.En(e,f,_,!0));d.push(...this.createRange(p,y,w))}return d}En(e,n,i,r){let s=new Wo(e,ne.empty(),n,i);return r?s:s.Jt()}dn(e,n,i,r){let s=new Wo(e,ne.empty(),n,i);return r?s.Jt():s}ln(e,n){let i=new Om(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(let a of s)i.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let i=2,r=this.cn(n);return L.forEach(r,s=>this.ln(e,s).next(o=>{o?i!==0&&o.fields.length<function(l){let c=new it(Mt.comparator),d=!1;for(let h of l.filters)for(let f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(let h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(s)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(n)&&r.length>1&&i===2?1:i)}An(e,n){let i=new qo;for(let r of zo(e)){let s=n.data.field(r.fieldPath);if(s==null)return null;let o=i.Ht(r.kind);Br.bt.Pt(s,o)}return i.Wt()}Tn(e){let n=new qo;return Br.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let i=new qo;return Br.bt.Pt(Xo(this.databaseId,n),i.Ht(function(s){let o=zo(s);return o.length===0?0:o[o.length-1].kind}(e))),i.Wt()}Pn(e,n,i){if(i===null)return[];let r=[];r.push(new qo);let s=0;for(let o of zo(e)){let a=i[s++];for(let l of r)if(this.Vn(n,o.fieldPath)&&Cd(a))r=this.mn(r,o,a);else{let c=l.Ht(o.kind);Br.bt.Pt(a,c)}}return this.fn(r)}hn(e,n,i){return this.Pn(e,n,i.position)}fn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Wt();return n}mn(e,n,i){let r=[...e],s=[];for(let o of i.arrayValue.values||[])for(let a of r){let l=new qo;l.seed(a.Wt()),Br.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(i=>i instanceof je&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=ud(e),r=Pl(e);return(n?i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.U()).next(s=>{let o=[];return L.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){let f=h?new wd(h.sequenceNumber,new si(na(h.readTime),new ne(nr(h.documentKey)),h.largestBatchId)):wd.empty(),p=d.fields.map(([y,w])=>new $l(Mt.fromServerFormat(y),w));return new Hl(d.indexId,d.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:Ce(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=ud(e),s=Pl(e);return this.gn(e).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>s.put(VA(l.indexId,this.uid,o,i)))))}updateIndexEntries(e,n){let i=new Map;return L.forEach(n,(r,s)=>{let o=i.get(r.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),L.forEach(a,l=>this.pn(e,r,l).next(c=>{let d=this.yn(s,l);return c.isEqual(d)?L.resolve():this.wn(e,s,l,c,d)}))))})}Sn(e,n,i,r){return Rl(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,n.key),documentKey:n.key.path.toArray()})}bn(e,n,i,r){return Rl(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,n.key),n.key.path.toArray()])}pn(e,n,i){let r=Rl(e),s=new it(Os);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,n)])},(o,a)=>{s=s.add(new Wo(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let i=new it(Os),r=this.An(n,e);if(r==null)return i;let s=Cw(n);if(s!=null){let o=e.data.field(s.fieldPath);if(Cd(o))for(let a of o.arrayValue.values||[])i=i.add(new Wo(n.indexId,e.key,this.Tn(a),r))}else i=i.add(new Wo(n.indexId,e.key,im,r));return i}wn(e,n,i,r,s){G("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(l,c,d,h,f){let p=l.getIterator(),y=c.getIterator(),w=Ol(p),_=Ol(y);for(;w||_;){let g=!1,C=!1;if(w&&_){let b=d(w,_);b<0?C=!0:b>0&&(g=!0)}else w!=null?C=!0:g=!0;g?(h(_),_=Ol(y)):C?(f(w),w=Ol(p)):(w=Ol(p),_=Ol(y))}}(r,s,Os,a=>{o.push(this.Sn(e,n,i,a))},a=>{o.push(this.bn(e,n,i,a))}),L.waitFor(o)}gn(e){let n=1;return Pl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((o,a)=>Os(o,a)).filter((o,a,l)=>!a||Os(o,l[a-1])!==0);let r=[];r.push(e);for(let o of i){let a=Os(o,e),l=Os(o,n);if(a===0)r[0]=e.Jt();else if(a>0&&l<0)r.push(o),r.push(o.Jt());else if(l>0)break}r.push(n);let s=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];let a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,im,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,im,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return Os(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(HA)}getMinOffset(e,n){return L.mapArray(this.cn(n),i=>this.ln(e,i).next(r=>r||le())).next(HA)}};function GA(t){return Jt(t,"collectionParents")}function Rl(t){return Jt(t,"indexEntries")}function ud(t){return Jt(t,"indexConfiguration")}function Pl(t){return Jt(t,"indexState")}function HA(t){pe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;vE(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new si(e.readTime,e.documentKey,n)}var qA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ii=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function fR(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=i.J({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{pe(a===1)}));let c=[];for(let d of n.mutations){let h=_O(e,d.key.path,n.batchId);s.push(r.delete(h)),c.push(d.key)}return L.waitFor(s).next(()=>c)}function Pm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw le();e=t.noDocument}return JSON.stringify(e).length}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(41943040,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);var Nm=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,n,i,r){pe(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rs(e).J({index:"userMutationsIndex",range:i},(r,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let s=Bl(e),o=Rs(e);return o.add({}).next(a=>{pe(typeof a=="number");let l=new Sd(a,n,i,r),c=function(p,y,w){let _=w.baseMutations.map(C=>Rd(p.ct,C)),g=w.mutations.map(C=>Rd(p.ct,C));return{userId:y,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:_,mutations:g}}(this.serializer,this.userId,l),d=[],h=new it((f,p)=>Ce(f.canonicalString(),p.canonicalString()));for(let f of r){let p=_O(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(c)),d.push(s.put(p,eH))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Rs(e).get(n).next(i=>i?(pe(i.userId===this.userId),Ho(this.serializer,i)):null)}vn(e,n){return this.Cn[n]?L.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Cn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Rs(e).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(pe(a.batchId>=i),s=Ho(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Rs(e).J({index:"userMutationsIndex",range:n,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rs(e).U("userMutationsIndex",n).next(i=>i.map(r=>Ho(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=am(this.userId,n.path),r=IDBKeyRange.lowerBound(i),s=[];return Bl(e).J({range:r},(o,a,l)=>{let[c,d,h]=o,f=nr(d);if(c===this.userId&&n.path.isEqual(f))return Rs(e).get(h).next(p=>{if(!p)throw le();pe(p.userId===this.userId),s.push(Ho(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new it(Ce),r=[];return n.forEach(s=>{let o=am(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Bl(e).J({range:a},(c,d,h)=>{let[f,p,y]=c,w=nr(p);f===this.userId&&s.path.isEqual(w)?i=i.add(y):h.done()});r.push(l)}),L.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=am(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new it(Ce);return Bl(e).J({range:o},(l,c,d)=>{let[h,f,p]=l,y=nr(f);h===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(p)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let i=[],r=[];return n.forEach(s=>{r.push(Rs(e).get(s).next(o=>{if(o===null)throw le();pe(o.userId===this.userId),i.push(Ho(this.serializer,o))}))}),L.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return fR(e._e,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),L.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();let i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return Bl(e).J({range:i},(s,o,a)=>{if(s[0]===this.userId){let l=nr(s[1]);r.push(l)}else a.done()}).next(()=>{pe(r.length===0)})})}containsKey(e,n){return pR(e,this.userId,n)}xn(e){return mR(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function pR(t,e,n){let i=am(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return Bl(t).J({range:s,H:!0},(a,l,c)=>{let[d,h,f]=a;d===e&&h===r&&(o=!0),c.done()}).next(()=>o)}function Rs(t){return Jt(t,"mutations")}function Bl(t){return Jt(t,"documentMutations")}function mR(t){return Jt(t,"mutationQueues")}var Jl=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var cb=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let i=new Jl(n.highestTargetId);return n.highestTargetId=i.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>me.fromTimestamp(new yt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.kn(e,r)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(n,i),this.kn(e,i))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Nl(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(pe(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,n,i){let r=0,s=[];return Nl(e).J((o,a)=>{let l=pd(a);l.sequenceNumber<=n&&i.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>r)}forEachTarget(e,n){return Nl(e).J((i,r)=>{let s=pd(r);n(s)})}Bn(e){return WA(e).get("targetGlobalKey").next(n=>(pe(n!==null),n))}kn(e,n){return WA(e).put("targetGlobalKey",n)}qn(e,n){return Nl(e).put(uR(this.serializer,n))}Qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=Zo(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Nl(e).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{let c=pd(a);zd(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,i){let r=[],s=Ps(e);return n.forEach(o=>{let a=Tn(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),L.waitFor(r)}removeMatchingKeys(e,n,i){let r=Ps(e);return L.forEach(n,s=>{let o=Tn(s.path);return L.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,n){let i=Ps(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Ps(e),s=Me();return r.J({range:i,H:!0},(o,a,l)=>{let c=nr(o[1]),d=new ne(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){let i=Tn(n.path),r=IDBKeyRange.bound([i],[fO(i)],!1,!0),s=0;return Ps(e).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,n){return Nl(e).get(n).next(i=>i?pd(i):null)}};function Nl(t){return Jt(t,"targets")}function WA(t){return Jt(t,"targetGlobal")}function Ps(t){return Jt(t,"targetDocuments")}function YA([t,e],[n,i]){let r=Ce(t,n);return r===0?Ce(e,i):r}var ub=class{constructor(e){this.Kn=e,this.buffer=new it(YA),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();YA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},db=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>j(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ys(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Ws(n)}yield this.zn(3e5)}))}},hb=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Kn.oe);let i=new ub(n);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(qA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qA):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let i,r,s,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,a=Date.now(),this.removeTargets(e,i,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),kl()<=Bi.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}};function YH(t,e){return new hb(t,e)}var fb=class{constructor(e,n){this.db=e,this.garbageCollector=YH(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Zn(e){let n=0;return this.Jn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(i,r)=>n(r))}addReference(e,n,i){return rm(e,i)}removeReference(e,n,i){return rm(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return rm(e,n)}er(e,n){return function(r,s){let o=!1;return mR(r).Y(a=>pR(r,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.Xn(e,(o,a)=>{if(a<=n){let l=this.er(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,me.min()),Ps(e).delete(function(h){return[0,Tn(h.path)]}(o))))});r.push(l)}}).next(()=>L.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return rm(e,n)}Xn(e,n){let i=Ps(e),r,s=Kn.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Kn.oe&&n(new ne(nr(r)),s),s=c,r=l):s=Kn.oe}).next(()=>{s!==Kn.oe&&n(new ne(nr(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function rm(t,e){return Ps(t).put(function(i,r){return{targetId:0,path:Tn(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var km=class{constructor(){this.changes=new cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var pb=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Uo(e).put(i)}removeEntry(e,n,i){return Uo(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],xm(o),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.tr(e,i)))}getEntry(e,n){let i=kt.newInvalidDocument(n);return Uo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dd(n))},(r,s)=>{i=this.nr(n,s)}).next(()=>i)}rr(e,n){let i={size:0,document:kt.newInvalidDocument(n)};return Uo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dd(n))},(r,s)=>{i={document:this.nr(n,s),size:Pm(s)}}).next(()=>i)}getEntries(e,n){let i=Ln();return this.ir(e,n,(r,s)=>{let o=this.nr(r,s);i=i.insert(r,o)}).next(()=>i)}sr(e,n){let i=Ln(),r=new ht(ne.comparator);return this.ir(e,n,(s,o)=>{let a=this.nr(s,o);i=i.insert(s,a),r=r.insert(s,Pm(o))}).next(()=>({documents:i,_r:r}))}ir(e,n,i){if(n.isEmpty())return L.resolve();let r=new it(XA);n.forEach(l=>r=r.add(l));let s=IDBKeyRange.bound(dd(r.first()),dd(r.last())),o=r.getIterator(),a=o.getNext();return Uo(e).J({index:"documentKeyIndex",range:s},(l,c,d)=>{let h=ne.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&XA(a,h)<0;)i(a,null),a=o.getNext();a&&a.isEqual(h)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?d.$(dd(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),xm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uo(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let d=Ln();for(let h of c){let f=this.nr(ne.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(Hd(n,f)||r.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,i,r){let s=Ln(),o=QA(n,i),a=QA(n,si.max());return Uo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{let h=this.nr(ne.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===r&&d.done()}).next(()=>s)}newChangeBuffer(e){return new mb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return KA(e).get("remoteDocumentGlobalKey").next(n=>(pe(!!n),n))}tr(e,n){return KA(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let i=HH(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(me.min())))return i}return kt.newInvalidDocument(e)}};function gR(t){return new pb(t)}var mb=class extends km{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new cr(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new it((s,o)=>Ce(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let l=FA(this.ar.serializer,o);r=r.add(s.path.popLast());let c=Pm(l);i+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){let l=FA(this.ar.serializer,o.convertToNoDocument(me.min()));n.push(this.ar.addEntry(e,s,l))}}),r.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,i)),L.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(i=>(this.ur.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:i,_r:r})=>(r.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:i.get(s).readTime})}),i))}};function KA(t){return Jt(t,"remoteDocumentGlobal")}function Uo(t){return Jt(t,"remoteDocumentsV14")}function dd(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QA(t,e){let n=e.documentKey.path.toArray();return[t,xm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function XA(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=Ce(n[s],i[s]),r)return r;return r=Ce(n.length,i.length),r||(r=Ce(n[n.length-2],i[i.length-2]),r||Ce(n[n.length-1],i[i.length-1]))}var gb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Fm=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&vd(i.mutation,r,Qn.empty(),yt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Me()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Me()){let r=ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=fd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=ir();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Me()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Ln(),o=gd(),a=function(){return gd()}();return n.forEach((l,c)=>{let d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Mi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),vd(d.mutation,c,d.mutation.getFieldMask(),yt.now())):o.set(c.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new gb(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let i=gd(),r=new ht((o,a)=>o-a),s=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=n.get(l);if(c===null)return;let d=i.get(l)||Qn.empty();d=a.applyToLocalView(c,d),i.set(l,d);let h=(r.get(a.batchId)||Me()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,h=BO();d.forEach(f=>{if(!s.has(f)){let p=WO(n.get(f),i.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return L.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):L.resolve(ir()),a=-1,l=s;return o.next(c=>L.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Me())).next(d=>({batchId:a,changes:VO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(i=>{let r=fd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=fd();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{let c=function(h,f){return new Si(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,kt.newInvalidDocument(d)))});let a=fd();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&vd(d.mutation,c,Qn.empty(),yt.now()),Hd(n,c)&&(a=a.insert(l,c))}),a})}};var vb=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return L.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:xt(r.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:TE(r.bundledQuery),readTime:xt(r.readTime)}}(n)),L.resolve()}};var yb=class{constructor(){this.overlays=new ht(ne.comparator),this.hr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let i=ir();return L.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){let r=ir(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return L.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new ht((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=ir(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=ir(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return L.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Md(n,i));let s=this.hr.get(n);s===void 0&&(s=Me(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var Nd=class{constructor(){this.Pr=new it(Rt.Ir),this.Tr=new it(Rt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Rt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Rt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new ne(new Ge([])),i=new Rt(n,e),r=new Rt(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new ne(new Ge([])),i=new Rt(n,e),r=new Rt(n,e+1),s=Me();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Rt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Rt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||Ce(e.pr,n.pr)}static Er(e,n){return Ce(e.pr,n.pr)||ne.comparator(e.key,n.key)}};var _b=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new it(Rt.Ir)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Sd(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Rt(n,0),r=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new it(Ce);return n.forEach(r=>{let s=new Rt(r,0),o=new Rt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),L.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;ne.isDocumentKey(s)||(s=s.child(""));let o=new Rt(new ne(s),0),a=new it(Ce);return this.wr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},o),L.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){pe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return L.forEach(n.mutations,r=>{let s=new Rt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Rt(n,0),r=this.wr.firstAfterOrEqual(i);return L.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wb=class{constructor(e){this.vr=e,this.docs=function(){return new ht(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let i=Ln();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():kt.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ln(),o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vE(mO(d),i)<=0||(r.has(d.key)||Hd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,i,r){le()}Fr(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new bb(this)}getSize(e){return L.resolve(this.size)}},bb=class extends km{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Eb=class{constructor(e){this.persistence=e,this.Mr=new cr(n=>Zo(n),zd),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Nd,this.targetCount=0,this.Lr=Jl.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),L.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Jl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.qn(n),L.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(s).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.Nr.containsKey(n))}};var Lm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Kn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Eb(this),this.indexManager=new ab,this.remoteDocumentCache=function(r){return new wb(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Mm(n),this.$r=new vb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new _b(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){G("MemoryPersistence","Starting transaction:",e);let r=new Db(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return L.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},Db=class extends gm{constructor(e){super(),this.currentSequenceNumber=e}},Vm=class t{constructor(e){this.persistence=e,this.zr=new Nd,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),L.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Jr,i=>{let r=ne.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return L.or([()=>L.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Tb=class{constructor(e){this.serializer=e}O(e,n,i,r){let s=new vm("createOrUpgrade",n);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pA,{unique:!0}),l.createObjectStore("documentMutations")}(e),JA(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),JA(e)),o=o.next(()=>function(l){let c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:me.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),i<4&&r>=4&&(i!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pA,{unique:!0});let h=c.store("mutations"),f=d.map(p=>h.put(p));return L.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(o=o.next(()=>this.Xr(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),i<7&&r>=7&&(o=o.next(()=>this.ti(s))),i<8&&r>=8&&(o=o.next(()=>this.ni(e,s))),i<9&&r>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(o=o.next(()=>this.ri(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:hH});c.createIndex("collectionPathOverlayIndex",fH,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",pH,{unique:!1})})(e)})),i<13&&r>=13&&(o=o.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:tH});c.createIndex("documentKeyIndex",nH),c.createIndex("collectionGroupIndex",iH)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.si(e,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:lH}).createIndex("sequenceNumberIndex",cH,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:uH}).createIndex("documentKeyIndex",dH,{unique:!1})}(e))),i<16&&r>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((i,r)=>{n+=Pm(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.U().next(r=>L.forEach(r,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{pe(l.userId===s.userId);let c=Ho(this.serializer,l);return fR(e,s.userId,c).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let s=[];return i.J((o,a)=>{let l=new Ge(o),c=function(h){return[0,Tn(h)]}(l);s.push(n.get(c).next(d=>d?L.resolve():(h=>n.put({targetId:0,path:Tn(h),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:aH});let i=n.store("collectionParents"),r=new Pd,s=o=>{if(r.add(o)){let a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:Tn(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let l=new Ge(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],c)=>{let d=nr(a);return s(d.popLast())}))}ri(e){let n=e.store("targets");return n.J((i,r)=>{let s=pd(r),o=uR(this.serializer,s);return n.put(o)})}ii(e,n){let i=n.store("remoteDocuments"),r=[];return i.J((s,o)=>{let a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new ne(Ge.fromString(h.document.name).popFirst(5)):h.noDocument?ne.fromSegments(h.noDocument.path):h.unknownDocument?ne.fromSegments(h.unknownDocument.path):le()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(c))}).next(()=>L.waitFor(r))}si(e,n){let i=n.store("mutations"),r=gR(this.serializer),s=new Lm(Vm.Hr,this.serializer.ct);return i.U().next(o=>{let a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:Me();Ho(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),L.forEach(a,(l,c)=>{let d=new Pt(c),h=Am.lt(this.serializer,d),f=s.getIndexManager(d),p=Nm.lt(d,this.serializer,f,s.referenceDelegate);return new Fm(r,p,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Ed(n,Kn.oe),l).next()})})}};function JA(t){t.createObjectStore("targetDocuments",{keyPath:sH}).createIndex("documentTargetsIndex",oH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rH,{unique:!0}),t.createObjectStore("targetGlobal")}var mw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cb=class t{constructor(e,n,i,r,s,o,a,l,c,d,h=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=d,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=f=>Promise.resolve(),!t.D())throw new z(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fb(this,r),this.Ti=n+"main",this.serializer=new Mm(l),this.Ei=new Vs(this.Ti,this.ui,new Tb(this.serializer)),this.Qr=new cb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gR(this.serializer),this.$r=new eb,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&St("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new z(B.FAILED_PRECONDITION,mw);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Kn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>j(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>j(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>j(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Ys(e))return G("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return hd(e).get("owner").next(n=>L.resolve(this.Si(n)))}bi(e){return sm(e).delete(this.clientId)}Di(){return j(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=Jt(n,"clientMetadata");return i.U().next(r=>{let s=this.vi(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return L.forEach(o,a=>i.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?L.resolve(!0):hd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new z(B.FAILED_PRECONDITION,mw);return!1}}return!(!this.networkEnabled||!this.inForeground)||sm(e).U().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return j(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Ed(e,Kn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(i=>this.Ci(i.updateTimeMs,n)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>sm(e).U().next(n=>this.vi(n,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Nm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lb(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Am.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,i){G("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?gH:l===15?DO:l===14?EO:l===13?bO:l===12?mH:l===11?wO:void le()}(this.ui),o;return this.Ei.runTransaction(e,r,s,a=>(o=new Ed(a,this.kr?this.kr.next():Kn.oe),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw St(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new z(B.FAILED_PRECONDITION,gO);return i(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return hd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new z(B.FAILED_PRECONDITION,mw)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hd(e).put("owner",n)}static D(){return Vs.D()}yi(e){let n=hd(e);return n.get("owner").next(i=>this.Si(i)?(G("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Ci(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(St(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;ov()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let i=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return G("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return St("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){St("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function hd(t){return Jt(t,"owner")}function sm(t){return Jt(t,"clientMetadata")}function IE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ib=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Me(),r=Me();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var Sb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Bm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return ov()?8:vO(zc())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Sb;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(kl()<=Bi.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),L.resolve()):(kl()<=Bi.DEBUG&&G("QueryEngine","Query:",Fl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(kl()<=Bi.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(n))):L.resolve())}ji(e,n){if(CA(n))return L.resolve(null);let i=Cn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Tm(n,null,"F"),i=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Me(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Tm(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,i,r){return CA(n)||r.isEqual(me.min())?L.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?L.resolve(null):(kl()<=Bi.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fl(n)),this.es(e,o,n,pO(r,-1)).next(a=>a))})}Zi(e,n){let i=new it(FO(e));return n.forEach((r,s)=>{Hd(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return kl()<=Bi.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Fl(n)),this.zi.getDocumentsMatchingQuery(e,n,si.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Mb=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new ht(Ce),this.rs=new cr(s=>Zo(s),zd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function vR(t,e,n,i){return new Mb(t,e,n,i)}function yR(t,e){return j(this,null,function*(){let n=se(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Me();for(let c of r){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})})}function KH(t,e){let n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let h=c.batch,f=h.keys(),p=L.resolve();return f.forEach(y=>{p=p.next(()=>d.getEntry(l,y)).next(w=>{let _=c.docVersions.get(y);pe(_!==null),w.version.compareTo(_)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function _R(t){let e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function QH(t,e){let n=se(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((d,h)=>{let f=r.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Xt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,i)),r=r.insert(h,p),function(w,_,g){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,d)&&a.push(n.Qr.updateTargetData(s,p))});let l=Ln(),c=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(wR(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!i.isEqual(me.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=r,s))}function wR(t,e,n){let i=Me(),r=Me();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ln();return n.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:r}})}function XH(t,e){let n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Zl(t,e){let n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,L.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new Xl(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function ec(t,e,n){return j(this,null,function*(){let i=se(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ys(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function jm(t,e,n){let i=se(t),r=me.min(),s=Me();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let h=se(l),f=h.rs.get(d);return f!==void 0?L.resolve(h.ns.get(f)):h.Qr.getTargetData(c,d)}(i,o,Cn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:me.min(),n?s:Me())).next(a=>(DR(i,kO(e),a),{documents:a,hs:s})))}function bR(t,e){let n=se(t),i=se(n.Qr),r=n.ns.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,e).next(o=>o?o.target:null))}function ER(t,e){let n=se(t),i=n.ss.get(e)||me.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.os.getAllFromCollectionGroup(r,e,pO(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(DR(n,e,r),r))}function DR(t,e,n){let i=t.ss.get(e)||me.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}function JH(t,e,n,i){return j(this,null,function*(){let r=se(t),s=Me(),o=Ln();for(let c of n){let d=e.Ps(c.metadata.name);c.document&&(s=s.add(d));let h=e.Is(c);h.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(d,h)}let a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield Zl(r,function(d){return Cn(lc(Ge.fromString(`__bundle__/docs/${d}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>wR(c,a,o).next(d=>(a.apply(c),d)).next(d=>r.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.cs,d.ls)).next(()=>d.cs)))})}function ZH(i,r){return j(this,arguments,function*(t,e,n=Me()){let s=yield Zl(t,Cn(TE(e.bundledQuery))),o=se(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let l=xt(e.readTime);if(s.snapshotVersion.compareTo(l)>=0)return o.$r.saveNamedQuery(a,e);let c=s.withResumeToken(Xt.EMPTY_BYTE_STRING,l);return o.ns=o.ns.insert(c.targetId,c),o.Qr.updateTargetData(a,c).next(()=>o.Qr.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Qr.addMatchingKeys(a,n,s.targetId)).next(()=>o.$r.saveNamedQuery(a,e))})})}function ZA(t,e){return`firestore_clients_${t}_${e}`}function eO(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function gw(t,e){return`firestore_targets_${t}_${e}`}var $m=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Es(e,n,i){let r=JSON.parse(i),s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new z(r.error.code,r.error.message))),o?new t(e,n,r.state,s):(St("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},yd=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Es(e,n){let i=JSON.parse(n),r,s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(r=new z(i.error.code,i.error.message))),s?new t(e,i.state,r):(St("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Um=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=EE();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=yO(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(St("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},xb=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(St("SharedClientState",`Failed to parse online state: ${e}`),null)}},kd=class{constructor(){this.activeTargetIds=EE()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},_d=class{constructor(e,n,i,r,s){this.window=e,this.oi=n,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ht(Ce),this.started=!1,this.ys=[];let o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=ZA(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new kd),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return j(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Vs)continue;let r=this.getItem(ZA(this.persistenceKey,i));if(r){let s=Um.Es(i,r);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let i=this.xs(n);i&&this.Os(i)}for(let i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,i){this.Ls(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(gw(this.persistenceKey,e));if(i){let r=yd.Es(e,i);r&&(n=r.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gw(this.persistenceKey,e))}updateQueryState(e,n,i){this.qs(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return G("SharedClientState","READ",e,n),n}setItem(e,n){G("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){G("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(G("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void St("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>j(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let i=this.$s(n.key);return this.Us(i,null)}{let i=this.Ws(n.key,n.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let i=this.Gs(n.key,n.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let i=this.js(n.key,n.newValue);if(i)return this.Hs(i)}}else if(n.key===this.vs){if(n.newValue!==null){let i=this.xs(n.newValue);if(i)return this.Os(i)}}else if(n.key===this.Ss){let i=function(s){let o=Kn.oe;if(s!=null)try{let a=JSON.parse(s);pe(typeof a=="number"),o=a}catch(a){St("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);i!==Kn.oe&&this.sequenceNumberHandler(i)}else if(n.key===this.Fs){let i=this.Js(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,i){let r=new $m(this.currentUser,e,n,i),s=eO(this.persistenceKey,this.currentUser,e);this.setItem(s,r.ds())}Bs(e){let n=eO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,i){let r=gw(this.persistenceKey,e),s=new yd(e,n,i);this.setItem(r,s.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let i=this.$s(e);return Um.Es(i,n)}Gs(e,n){let i=this.Ds.exec(e),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return $m.Es(new Pt(s),r,n)}js(e,n){let i=this.Cs.exec(e),r=Number(i[1]);return yd.Es(r,n)}xs(e){return xb.Es(e)}Js(e){return JSON.parse(e)}zs(e){return j(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);G("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let i=n?this.ps.insert(e,n):this.ps.remove(e),r=this.Ns(this.ps),s=this.Ns(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=EE();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},zm=class{constructor(){this.no=new kd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new kd,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ab=class{io(e){}shutdown(){}};var Gm=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var om=null;function vw(){return om===null?om=function(){return 268435456+Math.round(2147483648*Math.random())}():om++,"0x"+om.toString(16)}var e4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ob=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var gn="WebChannelConnection",Rb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){let a=vw(),l=this.vo(n,i.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,r).then(d=>(G("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ri("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){let r=e4[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let s=vw();return new Promise((o,a)=>{let l=new lw;l.setWithCredentials(!0),l.listenOnce(uw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ld.NO_ERROR:let d=l.getResponseJson();G(gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ld.TIMEOUT:G(gn,`RPC '${e}' ${s} timed out`),a(new z(B.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:let h=l.getStatus();if(G(gn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);let p=f?.error;if(p&&p.status&&p.message){let y=function(_){let g=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(g)>=0?g:B.UNKNOWN}(p.status);a(new z(y,p.message))}else a(new z(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(B.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{G(gn,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);G(gn,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Oo(e,n,i){let r=vw(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fw(),a=hw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new cw({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;let d=s.join("");G(gn,`Creating RPC '${e}' stream ${r}: ${d}`,l);let h=o.createWebChannel(d,l),f=!1,p=!1,y=new Ob({lo:_=>{p?G(gn,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(f||(G(gn,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),G(gn,`RPC '${e}' stream ${r} sending:`,_),h.send(_))},ho:()=>h.close()}),w=(_,g,C)=>{_.listen(g,b=>{try{C(b)}catch(x){setTimeout(()=>{throw x},0)}})};return w(h,Al.EventType.OPEN,()=>{p||(G(gn,`RPC '${e}' stream ${r} transport opened.`),y.mo())}),w(h,Al.EventType.CLOSE,()=>{p||(p=!0,G(gn,`RPC '${e}' stream ${r} transport closed`),y.po())}),w(h,Al.EventType.ERROR,_=>{p||(p=!0,ri(gn,`RPC '${e}' stream ${r} transport errored:`,_),y.po(new z(B.UNAVAILABLE,"The operation could not be completed")))}),w(h,Al.EventType.MESSAGE,_=>{var g;if(!p){let C=_.data[0];pe(!!C);let b=C,x=b.error||((g=b[0])===null||g===void 0?void 0:g.error);if(x){G(gn,`RPC '${e}' stream ${r} received error:`,x);let R=x.status,P=function(D){let I=Ot[D];if(I!==void 0)return QO(I)}(R),A=x.message;P===void 0&&(P=B.INTERNAL,A="Unknown error status: "+R+" with message "+x.message),p=!0,y.po(new z(P,A)),h.close()}else G(gn,`RPC '${e}' stream ${r} received:`,C),y.yo(C)}}),w(a,dw.STAT_EVENT,_=>{_.stat===nm.PROXY?G(gn,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===nm.NOPROXY&&G(gn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}};function TR(){return typeof window<"u"?window:null}function dm(){return typeof document<"u"?document:null}function qd(t){return new Kw(t,!0)}var Fd=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Hm=class{constructor(e,n,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Fd(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return j(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return j(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return j(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(St(n.toString()),St("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new z(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>j(this,null,function*(){this.state=0,this.start()}))}c_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Pb=class extends Hm{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=VH(this.serializer,e),i=function(s){if(!("targetChange"in s))return me.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?xt(o.readTime):me.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=Jw(this.serializer),n.addTarget=function(s,o){let a,l=o.target;if(a=Em(l)?{documents:rR(s,l)}:{query:sR(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JO(s,o.resumeToken);let c=Qw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=Ql(s,o.snapshotVersion.toTimestamp());let c=Qw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=jH(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=Jw(this.serializer),n.removeTarget=e,this.i_(n)}},Nb=class extends Hm{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=BH(e.writeResults,e.commitTime),i=xt(e.commitTime);return this.listener.A_(i,n)}return pe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Jw(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Rd(this.serializer,i))};this.i_(n)}};var kb=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Xw(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(B.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Xw(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(B.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Fb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(St(n),this.y_=!1):G("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Lb=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>j(this,null,function*(){Ks(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(l){return j(this,null,function*(){let c=se(l);c.M_.add(4),yield cc(c),c.N_.set("Unknown"),c.M_.delete(4),yield Wd(c)})}(this))}))}),this.N_=new Fb(i,r)}};function Wd(t){return j(this,null,function*(){if(Ks(t))for(let e of t.x_)yield e(!0)})}function cc(t){return j(this,null,function*(){for(let e of t.x_)yield e(!1)})}function ug(t,e){let n=se(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),xE(n)?ME(n):dc(n).Xo()&&SE(n,e))}function tc(t,e){let n=se(t),i=dc(n);n.F_.delete(e),i.Xo()&&CR(n,e),n.F_.size===0&&(i.Xo()?i.n_():Ks(n)&&n.N_.set("Unknown"))}function SE(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dc(t).P_(e)}function CR(t,e){t.L_.xe(e),dc(t).I_(e)}function ME(t){t.L_=new Yw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),dc(t).start(),t.N_.w_()}function xE(t){return Ks(t)&&!dc(t).Zo()&&t.F_.size>0}function Ks(t){return se(t).M_.size===0}function IR(t){t.L_=void 0}function t4(t){return j(this,null,function*(){t.N_.set("Online")})}function n4(t){return j(this,null,function*(){t.F_.forEach((e,n)=>{SE(t,e)})})}function i4(t,e){return j(this,null,function*(){IR(t),xE(t)?(t.N_.D_(e),ME(t)):t.N_.set("Unknown")})}function r4(t,e,n){return j(this,null,function*(){if(t.N_.set("Online"),e instanceof Im&&e.state===2&&e.cause)try{yield function(r,s){return j(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield qm(t,i)}else if(e instanceof zl?t.L_.Ke(e):e instanceof Cm?t.L_.He(e):t.L_.We(e),!n.isEqual(me.min()))try{let i=yield _R(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(Xt.EMPTY_BYTE_STRING,d.snapshotVersion)),CR(s,l);let h=new Xl(d.target,l,c,d.sequenceNumber);SE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){G("RemoteStore","Failed to raise snapshot:",i),yield qm(t,i)}})}function qm(t,e,n){return j(this,null,function*(){if(!Ys(e))throw e;t.M_.add(1),yield cc(t),t.N_.set("Offline"),n||(n=()=>_R(t.localStore)),t.asyncQueue.enqueueRetryable(()=>j(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Wd(t)}))})}function SR(t,e){return e().catch(n=>qm(t,n,e))}function uc(t){return j(this,null,function*(){let e=se(t),n=qs(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;s4(e);)try{let r=yield XH(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,o4(e,r)}catch(r){yield qm(e,r)}MR(e)&&xR(e)})}function s4(t){return Ks(t)&&t.v_.length<10}function o4(t,e){t.v_.push(e);let n=qs(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function MR(t){return Ks(t)&&!qs(t).Zo()&&t.v_.length>0}function xR(t){qs(t).start()}function a4(t){return j(this,null,function*(){qs(t).V_()})}function l4(t){return j(this,null,function*(){let e=qs(t);for(let n of t.v_)e.d_(n.mutations)})}function c4(t,e,n){return j(this,null,function*(){let i=t.v_.shift(),r=Hw.from(i,e,n);yield SR(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield uc(t)})}function u4(t,e){return j(this,null,function*(){e&&qs(t).E_&&(yield function(i,r){return j(this,null,function*(){if(function(o){return KO(o)&&o!==B.ABORTED}(r.code)){let s=i.v_.shift();qs(i).t_(),yield SR(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield uc(i)}})}(t,e)),MR(t)&&xR(t)})}function tO(t,e){return j(this,null,function*(){let n=se(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let i=Ks(n);n.M_.add(3),yield cc(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Wd(n)})}function Vb(t,e){return j(this,null,function*(){let n=se(t);e?(n.M_.delete(2),yield Wd(n)):e||(n.M_.add(2),yield cc(n),n.N_.set("Unknown"))})}function dc(t){return t.B_||(t.B_=function(n,i,r){let s=se(n);return s.f_(),new Pb(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:t4.bind(null,t),To:n4.bind(null,t),Ao:i4.bind(null,t),h_:r4.bind(null,t)}),t.x_.push(e=>j(this,null,function*(){e?(t.B_.t_(),xE(t)?ME(t):t.N_.set("Unknown")):(yield t.B_.stop(),IR(t))}))),t.B_}function qs(t){return t.k_||(t.k_=function(n,i,r){let s=se(n);return s.f_(),new Nb(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:a4.bind(null,t),Ao:u4.bind(null,t),R_:l4.bind(null,t),A_:c4.bind(null,t)}),t.x_.push(e=>j(this,null,function*(){e?(t.k_.t_(),yield uc(t)):(yield t.k_.stop(),t.v_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var Bb=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hc(t,e){if(St("AsyncQueue",`${e}: ${t}`),Ys(t))return new z(B.UNAVAILABLE,`${e}: ${t}`);throw t}var Wm=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ne.comparator(n.key,i.key):(n,i)=>ne.comparator(n.key,i.key),this.keyedMap=fd(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Ym=class{constructor(){this.q_=new ht(ne.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},nc=class t{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Wm.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var jb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},$b=class{constructor(){this.queries=new cr(e=>NO(e),Gd),this.onlineState="Unknown",this.z_=new Set}};function AE(t,e){return j(this,null,function*(){let n=se(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new jb,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=hc(o,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&RE(n)})}function OE(t,e){return j(this,null,function*(){let n=se(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function d4(t,e){let n=se(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&RE(n)}function h4(t,e,n){let i=se(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function RE(t){t.z_.forEach(e=>{e.next()})}var Ub,nO;(nO=Ub||(Ub={})).J_="default",nO.Cache="cache";var Ld=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new nc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Ub.Cache}};var zb=class{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}};var Km=class{constructor(e){this.serializer=e}Ps(e){return sr(this.serializer,e)}Is(e){return e.metadata.exists?iR(this.serializer,e.document,!1):kt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return xt(e)}},Gb=class{constructor(e,n,i){this.oa=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AR(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;let i=Ge.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){let n=new Map,i=new Km(this.serializer);for(let r of e)if(r.metadata.queries){let s=i.Ps(r.metadata.name);for(let o of r.metadata.queries){let a=(n.get(o)||Me()).add(s);n.set(o,a)}}return n}complete(){return j(this,null,function*(){let e=yield JH(this.localStore,new Km(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(let i of this.queries)yield ZH(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function AR(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Qm=class{constructor(e){this.key=e}},Xm=class{constructor(e){this.key=e}},Jm=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Me(),this.mutatedKeys=Me(),this.Ia=FO(e),this.Ta=new Wm(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new Ym,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{let f=r.get(d),p=Hd(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),_=!1;f&&p?f.data.isEqual(p.data)?y!==w&&(i.track({type:3,doc:p}),_=!0):this.Ra(f,p)||(i.track({type:2,doc:p}),_=!0,(l&&this.Ia(p,l)>0||c&&this.Ia(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),_=!0):f&&!p&&(i.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(p?(o=o.add(p),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,h)=>function(p,y){let w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return w(p)-w(y)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new nc(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Ym,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Me(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new Xm(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new Qm(i))}),n}pa(e){this.la=e.hs,this.Pa=Me();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return nc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Hb=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},qb=class{constructor(e){this.key=e,this.wa=!1}},Wb=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new cr(a=>NO(a),Gd),this.Da=new Map,this.Ca=new Set,this.va=new ht(ne.comparator),this.Fa=new Map,this.Ma=new Nd,this.xa={},this.Oa=new Map,this.Na=Jl.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function f4(t,e,n=!0){return j(this,null,function*(){let i=dg(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield OR(i,e,n,!0),r})}function p4(t,e){return j(this,null,function*(){let n=dg(t);yield OR(n,e,!0,!1)})}function OR(t,e,n,i){return j(this,null,function*(){let r=yield Zl(t.localStore,Cn(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield PE(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&ug(t.remoteStore,r),a})}function PE(t,e,n,i,r){return j(this,null,function*(){t.Ba=(h,f,p)=>function(w,_,g,C){return j(this,null,function*(){let b=_.view.da(g);b.Xi&&(b=yield jm(w.localStore,_.query,!1).then(({documents:A})=>_.view.da(A,b)));let x=C&&C.targetChanges.get(_.targetId),R=C&&C.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(b,w.isPrimaryClient,x,R);return Yb(w,_.targetId,P.fa),P.snapshot})}(t,h,f,p);let s=yield jm(t.localStore,e,!0),o=new Jm(e,s.hs),a=o.da(s.documents),l=Ad.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);Yb(t,n,c.fa);let d=new Hb(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot})}function m4(t,e,n){return j(this,null,function*(){let i=se(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!Gd(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ec(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&tc(i.remoteStore,r.targetId),ic(i,r.targetId)}).catch(Ws))):(ic(i,r.targetId),yield ec(i.localStore,r.targetId,!0))})}function g4(t,e){return j(this,null,function*(){let n=se(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),tc(n.remoteStore,i.targetId))})}function v4(t,e,n){return j(this,null,function*(){let i=LE(t);try{let r=yield function(o,a){let l=se(o),c=yt.now(),d=a.reduce((p,y)=>p.add(y.key),Me()),h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Ln(),w=Me();return l.os.getEntries(p,d).next(_=>{y=_,y.forEach((g,C)=>{C.isValidDocument()||(w=w.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(_=>{h=_;let g=[];for(let C of a){let b=OH(C,h.get(C.key).overlayedDocument);b!=null&&g.push(new Mi(C.key,b,SO(b.value.mapValue),Tt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(_=>{f=_;let g=_.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(p,_.batchId,g)})}).then(()=>({batchId:f.batchId,changes:VO(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new ht(Ce)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(i,r.batchId,n),yield qr(i,r.changes),yield uc(i.remoteStore)}catch(r){let s=hc(r,"Failed to persist write");n.reject(s)}})}function RR(t,e){return j(this,null,function*(){let n=se(t);try{let i=yield QH(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&(pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?pe(o.wa):r.removedDocuments.size>0&&(pe(o.wa),o.wa=!1))}),yield qr(n,i,e)}catch(i){yield Ws(i)}})}function iO(t,e,n){let i=se(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=se(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(let f of h.U_)f.j_(a)&&(c=!0)}),c&&RE(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function y4(t,e,n){return j(this,null,function*(){let i=se(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new ht(ne.comparator);o=o.insert(s,kt.newNoDocument(s,me.min()));let a=Me().add(s),l=new xd(me.min(),new Map,new ht(Ce),o,a);yield RR(i,l),i.va=i.va.remove(s),i.Fa.delete(e),FE(i)}else yield ec(i.localStore,e,!1).then(()=>ic(i,e,n)).catch(Ws)})}function _4(t,e){return j(this,null,function*(){let n=se(t),i=e.batch.batchId;try{let r=yield KH(n.localStore,e);kE(n,i,null),NE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield qr(n,r)}catch(r){yield Ws(r)}})}function w4(t,e,n){return j(this,null,function*(){let i=se(t);try{let r=yield function(o,a){let l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(pe(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);kE(i,e,n),NE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield qr(i,r)}catch(r){yield Ws(r)}})}function b4(t,e){return j(this,null,function*(){let n=se(t);Ks(n.remoteStore)||G("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(o){let a=se(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(i===-1)return void e.resolve();let r=n.Oa.get(i)||[];r.push(e),n.Oa.set(i,r)}catch(i){let r=hc(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function NE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function kE(t,e,n){let i=se(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function ic(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||PR(t,i)})}function PR(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(tc(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),FE(t))}function Yb(t,e,n){for(let i of n)i instanceof Qm?(t.Ma.addReference(i.key,e),E4(t,i)):i instanceof Xm?(G("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||PR(t,i.key)):le()}function E4(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(G("SyncEngine","New document in limbo: "+n),t.Ca.add(i),FE(t))}function FE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new ne(Ge.fromString(e)),i=t.Na.next();t.Fa.set(i,new qb(n)),t.va=t.va.insert(n,i),ug(t.remoteStore,new Xl(Cn(lc(n.path)),i,"TargetPurposeLimboResolution",Kn.oe))}}function qr(t,e,n){return j(this,null,function*(){let i=se(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient){let d=c&&!c.fromCache;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);let d=Ib.Ki(l.targetId,c);s.push(d)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(l,c){return j(this,null,function*(){let d=se(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(c,f=>L.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>L.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ys(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let f=h.targetId;if(!h.fromCache){let p=d.ns.get(f),y=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(y);d.ns=d.ns.insert(f,w)}}})}(i.localStore,s))})}function D4(t,e){return j(this,null,function*(){let n=se(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());let i=yield yR(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new z(B.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield qr(n,i.us)}})}function T4(t,e){let n=se(t),i=n.Fa.get(e);if(i&&i.wa)return Me().add(i.key);{let r=Me(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function C4(t,e){return j(this,null,function*(){let n=se(t),i=yield jm(n.localStore,e.query,!0),r=e.view.pa(i);return n.isPrimaryClient&&Yb(n,e.targetId,r.fa),r})}function I4(t,e){return j(this,null,function*(){let n=se(t);return ER(n.localStore,e).then(i=>qr(n,i))})}function S4(t,e,n,i){return j(this,null,function*(){let r=se(t),s=yield function(a,l){let c=se(a),d=se(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.vn(h,l).next(f=>f?c.localDocuments.getDocuments(h,f):L.resolve(null)))}(r.localStore,e);s!==null?(n==="pending"?yield uc(r.remoteStore):n==="acknowledged"||n==="rejected"?(kE(r,e,i||null),NE(r,e),function(a,l){se(se(a).mutationQueue).Mn(l)}(r.localStore,e)):le(),yield qr(r,s)):G("SyncEngine","Cannot apply mutation batch with id: "+e)})}function M4(t,e){return j(this,null,function*(){let n=se(t);if(dg(n),LE(n),e===!0&&n.La!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield rO(n,i.toArray());n.La=!0,yield Vb(n.remoteStore,!0);for(let s of r)ug(n.remoteStore,s)}else if(e===!1&&n.La!==!1){let i=[],r=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(ic(n,o),ec(n.localStore,o,!0))),tc(n.remoteStore,o)}),yield r,yield rO(n,i),function(o){let a=se(o);a.Fa.forEach((l,c)=>{tc(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new ht(ne.comparator)}(n),n.La=!1,yield Vb(n.remoteStore,!1)}})}function rO(t,e,n){return j(this,null,function*(){let i=se(t),r=[],s=[];for(let o of e){let a,l=i.Da.get(o);if(l&&l.length!==0){a=yield Zl(i.localStore,Cn(l[0]));for(let c of l){let d=i.ba.get(c),h=yield C4(i,d);h.snapshot&&s.push(h.snapshot)}}else{let c=yield bR(i.localStore,o);a=yield Zl(i.localStore,c),yield PE(i,NR(c),o,!1,a.resumeToken)}r.push(a)}return i.Sa.h_(s),r})}function NR(t){return PO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function x4(t){return function(n){return se(se(n).persistence).Bi()}(se(t).localStore)}function A4(t,e,n,i){return j(this,null,function*(){let r=se(t);if(r.La)return void G("SyncEngine","Ignoring unexpected query state notification.");let s=r.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield ER(r.localStore,kO(s[0])),a=xd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Xt.EMPTY_BYTE_STRING);yield qr(r,o,a);break}case"rejected":yield ec(r.localStore,e,!0),ic(r,e,i);break;default:le()}})}function O4(t,e,n){return j(this,null,function*(){let i=dg(t);if(i.La){for(let r of e){if(i.Da.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){G("SyncEngine","Adding an already active target "+r);continue}let s=yield bR(i.localStore,r),o=yield Zl(i.localStore,s);yield PE(i,NR(s),o.targetId,!1,o.resumeToken),ug(i.remoteStore,o)}for(let r of n)i.Da.has(r)&&(yield ec(i.localStore,r,!1).then(()=>{tc(i.remoteStore,r),ic(i,r)}).catch(Ws))}})}function dg(t){let e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y4.bind(null,e),e.Sa.h_=d4.bind(null,e.eventManager),e.Sa.ka=h4.bind(null,e.eventManager),e}function LE(t){let e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w4.bind(null,e),e}function R4(t,e,n){let i=se(t);(function(s,o,a){return j(this,null,function*(){try{let l=yield o.getMetadata();if(yield function(p,y){let w=se(p),_=xt(y.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",g=>w.$r.getBundleMetadata(g,y.id)).then(g=>!!g&&g.createTime.compareTo(_)>=0)}(s.localStore,l))return yield o.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(AR(l));let c=new Gb(l,s.localStore,o.serializer),d=yield o.qa();for(;d;){let f=yield c._a(d);f&&a._updateProgress(f),d=yield o.qa()}let h=yield c.complete();return yield qr(s,h.ca,void 0),yield function(p,y){let w=se(p);return w.persistence.runTransaction("Save bundle","readwrite",_=>w.$r.saveBundleMetadata(_,y))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.ua)}catch(l){return ri("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var Vd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return j(this,null,function*(){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vR(this.persistence,new Bm,e.initialUser,this.serializer)}createPersistence(e){return new Lm(Vm.Hr,this.serializer)}createSharedClientState(e){return new zm}terminate(){return j(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Zm=class t extends Vd{constructor(e,n,i){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return j(this,null,function*(){yield rv(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield LE(this.Qa.syncEngine),yield uc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return vR(this.persistence,new Bm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new db(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new xw(n,this.persistence);return new Mw(e.asyncQueue,i)}createPersistence(e){let n=IE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new Cb(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,TR(),dm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new zm}},Kb=class t extends Zm{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return j(this,null,function*(){yield rv(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof _d&&(this.sharedClientState.syncEngine={Zs:S4.bind(null,n),Xs:A4.bind(null,n),eo:O4.bind(null,n),Bi:x4.bind(null,n),Ys:I4.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(i=>j(this,null,function*(){yield M4(this.Qa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=TR();if(!_d.D(n))throw new z(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=IE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _d(n,e.asyncQueue,i,e.clientId,e.initialUser)}},Bd=class{initialize(e,n){return j(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D4.bind(null,this.syncEngine),yield Vb(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new $b}()}createDatastore(e){let n=qd(e.databaseInfo.databaseId),i=function(s){return new Rb(s)}(e.databaseInfo);return function(s,o,a,l){return new kb(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Lb(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iO(this.syncEngine,n,0),function(){return Gm.D()?new Gm:new Ab}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,d){let h=new Wb(r,s,o,a,l,c);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return j(this,null,function*(){var e;yield function(i){return j(this,null,function*(){let r=se(i);G("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield cc(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function sO(t,e=10240){let n=0;return{read(){return j(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return j(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var rc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):St("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Qb=class{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Nt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){return j(this,null,function*(){return this.metadata.promise})}qa(){return j(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return j(this,null,function*(){let e=yield this.za();if(e===null)return null;let n=this.Wa.decode(e),i=Number(n);isNaN(i)&&this.ja(`length string (${n}) is not valid number`);let r=yield this.Ha(i);return new zb(JSON.parse(r),e.length+i)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return j(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ha(e){return j(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return j(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var Xb=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return j(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new z(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(r,s){return j(this,null,function*(){let o=se(r),a={documents:s.map(h=>Od(o.serializer,h))},l=yield o.xo("BatchGetDocuments",o.serializer.databaseId,Ge.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{let f=LH(o.serializer,h);c.set(f.key.toString(),f)});let d=[];return s.forEach(h=>{let f=c.get(h.toString());pe(!!f),d.push(f)}),d})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return j(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=ne.fromPath(i);this.mutations.push(new Id(r,this.precondition(r)))}),yield function(i,r){return j(this,null,function*(){let s=se(i),o={writes:r.map(a=>Rd(s.serializer,a))};yield s.Co("Commit",s.serializer.databaseId,Ge.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw le();n=me.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new z(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(me.min())?Tt.exists(!1):Tt.updateTime(n):Tt.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(me.min()))throw new z(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tt.updateTime(n)}return Tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var Jb=class{constructor(e,n,i,r,s){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=s,this.Za=i.maxAttempts,this.Yo=new Fd(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>j(this,null,function*(){let e=new Xb(this.datastore),n=this.tu(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.nu(r)}))}).catch(i=>{this.nu(i)})}))}tu(e){try{let n=this.updateFunction(e);return!Ud(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!KO(n)}return!1}};var Zb=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Pt.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>j(this,null,function*(){G("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>j(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=hc(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function hm(t,e){return j(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>j(this,null,function*(){i.isEqual(r)||(yield yR(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function eE(t,e){return j(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield VE(t);G("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>tO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>tO(e.remoteStore,r)),t._onlineComponents=e})}function kR(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function VE(t){return j(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!kR(n))throw n;ri("Error using user provided cache. Falling back to memory cache: "+n),yield hm(t,new Vd)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield hm(t,new Vd);return t._offlineComponents})}function hg(t){return j(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield eE(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield eE(t,new Bd))),t._onlineComponents})}function FR(t){return VE(t).then(e=>e.persistence)}function BE(t){return VE(t).then(e=>e.localStore)}function LR(t){return hg(t).then(e=>e.remoteStore)}function jE(t){return hg(t).then(e=>e.syncEngine)}function P4(t){return hg(t).then(e=>e.datastore)}function sc(t){return j(this,null,function*(){let e=yield hg(t),n=e.eventManager;return n.onListen=f4.bind(null,e.syncEngine),n.onUnlisten=m4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g4.bind(null,e.syncEngine),n})}function N4(t){return t.asyncQueue.enqueue(()=>j(this,null,function*(){let e=yield FR(t),n=yield LR(t);return e.setNetworkEnabled(!0),function(r){let s=se(r);return s.M_.delete(0),Wd(s)}(n)}))}function k4(t){return t.asyncQueue.enqueue(()=>j(this,null,function*(){let e=yield FR(t),n=yield LR(t);return e.setNetworkEnabled(!1),function(r){return j(this,null,function*(){let s=se(r);s.M_.add(0),yield cc(s),s.N_.set("Offline")})}(n)}))}function F4(t,e){let n=new Nt;return t.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return function(r,s,o){return j(this,null,function*(){try{let a=yield function(c,d){let h=se(c);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new z(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=hc(a,`Failed to get document '${s} from cache`);o.reject(l)}})}(yield BE(t),e,n)})),n.promise}function VR(t,e,n={}){let i=new Nt;return t.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return function(s,o,a,l,c){let d=new rc({next:f=>{o.enqueueAndForget(()=>OE(s,h));let p=f.docs.has(a);!p&&f.fromCache?c.reject(new z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Ld(lc(a.path),d,{includeMetadataChanges:!0,ra:!0});return AE(s,h)}(yield sc(t),t.asyncQueue,e,n,i)})),i.promise}function L4(t,e){let n=new Nt;return t.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return function(r,s,o){return j(this,null,function*(){try{let a=yield jm(r,s,!0),l=new Jm(s,a.hs),c=l.da(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){let l=hc(a,`Failed to execute query '${s} against cache`);o.reject(l)}})}(yield BE(t),e,n)})),n.promise}function BR(t,e,n={}){let i=new Nt;return t.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return function(s,o,a,l,c){let d=new rc({next:f=>{o.enqueueAndForget(()=>OE(s,h)),f.fromCache&&l.source==="server"?c.reject(new z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Ld(a,d,{includeMetadataChanges:!0,ra:!0});return AE(s,h)}(yield sc(t),t.asyncQueue,e,n,i)})),i.promise}function V4(t,e){let n=new rc(e);return t.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return function(r,s){se(r).z_.add(s),s.next()}(yield sc(t),n)})),()=>{n.$a(),t.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return function(r,s){se(r).z_.delete(s)}(yield sc(t),n)}))}}function B4(t,e,n,i){let r=function(o,a){let l;return l=typeof o=="string"?XO().encode(o):o,function(d,h){return new Qb(d,h)}(function(d,h){if(d instanceof Uint8Array)return sO(d,h);if(d instanceof ArrayBuffer)return sO(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,qd(e));t.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){R4(yield jE(t),r,i)}))}function j4(t,e){return t.asyncQueue.enqueue(()=>j(this,null,function*(){return function(i,r){let s=se(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,r))}(yield BE(t),e)}))}function jR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var oO=new Map;function $E(t,e,n){if(!n)throw new z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UE(t,e,n,i){if(e===!0&&i===!0)throw new z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aO(t){if(!ne.isDocumentKey(t))throw new z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lO(t){if(ne.isDocumentKey(t))throw new z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function He(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fg(t);throw new z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $R(t,e){if(e<=0)throw new z(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var eg=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ia=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eg(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yw;switch(i.type){case"firstParty":return new Ew(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=oO.get(n);i&&(G("ComponentProvider","Removing Datastore"),oO.delete(n),i.terminate())}(this),Promise.resolve()}};function UR(t,e,n,i={}){var r;let s=(t=He(t,ia))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Pt.MOCK_USER;else{a=XD(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pt(c)}t._authCredentials=new _w(new fm(a,l))}}var ln=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},at=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},or=class t extends ln{constructor(e,n,i){super(e,n,lc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function zE(t,e,...n){if(t=vt(t),$E("collection","path",e),t instanceof ia){let i=Ge.fromString(e,...n);return lO(i),new or(t,null,i)}{if(!(t instanceof at||t instanceof or))throw new z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ge.fromString(e,...n));return lO(i),new or(t.firestore,null,i)}}function zR(t,e){if(t=He(t,ia),$E("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new z(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ln(t,null,function(i){return new Si(Ge.emptyPath(),i)}(e))}function Yd(t,e,...n){if(t=vt(t),arguments.length===1&&(e=pm.newId()),$E("doc","path",e),t instanceof ia){let i=Ge.fromString(e,...n);return aO(i),new at(t,null,new ne(i))}{if(!(t instanceof at||t instanceof or))throw new z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ge.fromString(e,...n));return aO(i),new at(t.firestore,t instanceof or?t.converter:null,new ne(i))}}function GE(t,e){return t=vt(t),e=vt(e),(t instanceof at||t instanceof or)&&(e instanceof at||e instanceof or)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function HE(t,e){return t=vt(t),e=vt(e),t instanceof ln&&e instanceof ln&&t.firestore===e.firestore&&Gd(t._query,e._query)&&t.converter===e.converter}var tE=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Fd(this,"async_queue_retry"),this.hu=()=>{let n=dm();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=dm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Nt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return j(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ys(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw St("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=Bb.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&le()}verifyOperationInProgress(){}du(){return j(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function nE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var iE=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var GR=-1,pt=class extends ia{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new tE}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HR(this),this._firestoreClient.terminate()}};function zt(t){return t._firestoreClient||HR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HR(t){var e,n,i;let r=t._freezeSettings(),s=function(a,l,c,d){return new Aw(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Zb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function qR(t,e){tP(t=He(t,pt));let n=zt(t);if(n._uninitializedComponentsProvider)throw new z(B.FAILED_PRECONDITION,"SDK cache is already specified.");ri("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new Bd;return YR(n,r,new Zm(r,i.cacheSizeBytes,e?.forceOwnership))}function WR(t){tP(t=He(t,pt));let e=zt(t);if(e._uninitializedComponentsProvider)throw new z(B.FAILED_PRECONDITION,"SDK cache is already specified.");ri("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new Bd;return YR(e,i,new Kb(i,n.cacheSizeBytes))}function YR(t,e,n){let i=new Nt;return t.asyncQueue.enqueue(()=>j(this,null,function*(){try{yield hm(t,n),yield eE(t,e),i.resolve()}catch(r){let s=r;if(!kR(s))throw s;ri("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function KR(t){if(t._initialized&&!t._terminated)throw new z(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Nt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>j(this,null,function*(){try{yield function(i){return j(this,null,function*(){if(!Vs.D())return Promise.resolve();let r=i+"main";yield Vs.delete(r)})}(IE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function QR(t){return function(n){let i=new Nt;return n.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return b4(yield jE(n),i)})),i.promise}(zt(t=He(t,pt)))}function XR(t){return N4(zt(t=He(t,pt)))}function JR(t){return k4(zt(t=He(t,pt)))}function ZR(t,e){let n=zt(t=He(t,pt)),i=new iE;return B4(n,t._databaseId,e,i),i}function eP(t,e){return j4(zt(t=He(t,pt)),e).then(n=>n?new ln(t,null,n.query):null)}function tP(t){if(t._initialized||t._terminated)throw new z(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ur=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xt.fromBase64String(e))}catch(n){throw new z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xi=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gr=class{constructor(e){this._methodName=e}};var ra=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var $4=/^__.*__$/,rE=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gs(e,this.data,n,this.fieldTransforms)}},tg=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function nP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}var ng=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ig(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(nP(this.fu)&&$4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},sE=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||qd(e)}Fu(e,n,i,r=!1){return new ng({fu:e,methodName:n,vu:i,path:Mt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function la(t){let e=t._freezeSettings(),n=qd(t._databaseId);return new sE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pg(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);YE("Data must be an object, but it was:",o,i);let a=sP(i,o),l,c;if(s.merge)l=new Qn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let f=uE(e,h,n);if(!o.contains(f))throw new z(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);aP(d,f)||d.push(f)}l=new Qn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new rE(new vn(a),l,c)}var jd=class t extends Gr{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function iP(t,e,n){return new ng({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var oE=class t extends Gr{_toFieldTransform(e){return new ea(e.path,new Us)}isEqual(e){return e instanceof t}},aE=class t extends Gr{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=iP(this,e,!0),i=this.Mu.map(s=>ca(s,n)),r=new Ur(i);return new ea(e.path,r)}isEqual(e){return e instanceof t&&av(this.Mu,e.Mu)}},lE=class t extends Gr{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=iP(this,e,!0),i=this.Mu.map(s=>ca(s,n)),r=new zr(i);return new ea(e.path,r)}isEqual(e){return e instanceof t&&av(this.Mu,e.Mu)}},cE=class t extends Gr{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new zs(e.serializer,UO(e.serializer,this.xu));return new ea(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function qE(t,e,n,i){let r=t.Fu(1,e,n);YE("Data must be an object, but it was:",r,i);let s=[],o=vn.empty();aa(i,(l,c)=>{let d=KE(e,l,n);c=vt(c);let h=r.Su(d);if(c instanceof jd)s.push(d);else{let f=ca(c,h);f!=null&&(s.push(d),o.set(d,f))}});let a=new Qn(s);return new tg(o,a,r.fieldTransforms)}function WE(t,e,n,i,r,s){let o=t.Fu(1,e,n),a=[uE(e,i,n)],l=[r];if(s.length%2!=0)throw new z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(uE(e,s[f])),l.push(s[f+1]);let c=[],d=vn.empty();for(let f=a.length-1;f>=0;--f)if(!aP(c,a[f])){let p=a[f],y=l[f];y=vt(y);let w=o.Su(p);if(y instanceof jd)c.push(p);else{let _=ca(y,w);_!=null&&(c.push(p),d.set(p,_))}}let h=new Qn(c);return new tg(d,h,o.fieldTransforms)}function rP(t,e,n,i=!1){return ca(n,t.Fu(i?4:3,e))}function ca(t,e){if(oP(t=vt(t)))return YE("Unsupported field value:",e,t),sP(t,e);if(t instanceof Gr)return function(i,r){if(!nP(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=ca(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=vt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return UO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=yt.fromDate(i);return{timestampValue:Ql(r.serializer,s)}}if(i instanceof yt){let s=new yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ql(r.serializer,s)}}if(i instanceof ra)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ur)return{bytesValue:JO(r.serializer,i._byteString)};if(i instanceof at){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DE(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${fg(i)}`)}(t,e)}function sP(t,e){let n={};return TO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,(i,r)=>{let s=ca(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function oP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof ra||t instanceof ur||t instanceof at||t instanceof Gr)}function YE(t,e,n){if(!oP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=fg(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function uE(t,e,n){if((e=vt(e))instanceof xi)return e._internalPath;if(typeof e=="string")return KE(t,e);throw ig("Field path arguments must be of type string or ",t,!1,void 0,n)}var U4=new RegExp("[~\\*/\\[\\]]");function KE(t,e,n){if(e.search(U4)>=0)throw ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xi(...e.split("."))._internalPath}catch{throw ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ig(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new z(B.INVALID_ARGUMENT,a+t+l)}function aP(t,e){return t.some(n=>n.isEqual(e))}var sa=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},dE=class extends sa{data(){return super.data()}};function mg(t,e){return typeof e=="string"?KE(t,e):e instanceof xi?e._internalPath:e._delegate._internalPath}function lP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $d=class{},oa=class extends $d{};function Wr(t,e,...n){let i=[];e instanceof $d&&i.push(e),i=i.concat(n),function(s){let o=s.filter(l=>l instanceof hE).length,a=s.filter(l=>l instanceof rg).length;if(o>1||o>0&&a>0)throw new z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var rg=class t extends oa{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return yP(e._query,n),new ln(e.firestore,e.converter,zw(e._query,n))}_parse(e){let n=la(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){uO(h,d);let p=[];for(let y of h)p.push(cO(l,s,y));f={arrayValue:{values:p}}}else f=cO(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||uO(h,d),f=rP(a,o,h,d==="in"||d==="not-in");return je.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function cP(t,e,n){let i=e,r=mg("where",t);return rg._create(r,i,n)}var hE=class t extends $d{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Qe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)yP(o,l),o=zw(o,l)}(e._query,n),new ln(e.firestore,e.converter,zw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var fE=class t extends oa{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new z(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new z(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jo(s,o)}(e._query,this._field,this._direction);return new ln(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Si(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function uP(t,e="asc"){let n=e,i=mg("orderBy",t);return fE._create(i,n)}var sg=class t extends oa{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new ln(e.firestore,e.converter,Tm(e._query,this._limit,this._limitType))}};function dP(t){return $R("limit",t),sg._create("limit",t,"F")}function hP(t){return $R("limitToLast",t),sg._create("limitToLast",t,"L")}var og=class t extends oa{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=vP(e,this.type,this._docOrFields,this._inclusive);return new ln(e.firestore,e.converter,function(r,s){return new Si(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}};function fP(...t){return og._create("startAt",t,!0)}function pP(...t){return og._create("startAfter",t,!1)}var ag=class t extends oa{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=vP(e,this.type,this._docOrFields,this._inclusive);return new ln(e.firestore,e.converter,function(r,s){return new Si(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,n))}};function mP(...t){return ag._create("endBefore",t,!1)}function gP(...t){return ag._create("endAt",t,!0)}function vP(t,e,n,i){if(n[0]=vt(n[0]),n[0]instanceof sa)return function(s,o,a,l,c){if(!l)throw new z(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let h of Ul(s))if(h.field.isKeyField())d.push(Xo(o,l.key));else{let f=l.data.field(h.field);if(cg(f))throw new z(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){let p=h.field.canonicalString();throw new z(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(f)}return new lr(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=la(t.firestore);return function(o,a,l,c,d,h){let f=o.explicitOrderBy;if(d.length>f.length)throw new z(B.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let p=[];for(let y=0;y<d.length;y++){let w=d[y];if(f[y].field.isKeyField()){if(typeof w!="string")throw new z(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!bE(o)&&w.indexOf("/")!==-1)throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);let _=o.path.child(Ge.fromString(w));if(!ne.isDocumentKey(_))throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);let g=new ne(_);p.push(Xo(a,g))}else{let _=rP(l,c,w);p.push(_)}}return new lr(p,h)}(t._query,t.firestore._databaseId,r,e,n,i)}}function cO(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(e)&&n.indexOf("/")!==-1)throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Ge.fromString(n));if(!ne.isDocumentKey(i))throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xo(t,new ne(i))}if(n instanceof at)return Xo(t,n._key);throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(n)}.`)}function uO(t,e){if(!Array.isArray(t)||t.length===0)throw new z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yP(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var oc=class{convertValue(e,n="none"){switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return aa(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new ra(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=_E(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){let n=$r(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Ge.fromString(e);pe(cR(i));let r=new js(i.get(1),i.get(3)),s=new ne(i.popFirst(5));return r.isEqual(n)||St(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function gg(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var pE=class extends oc{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}};var jr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},oi=class extends sa{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Fs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(mg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Fs=class extends oi{data(e={}){return super.data(e)}},Ai=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new jr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Fs(this._firestore,this._userDataWriter,i.key,i,new jr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new Fs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Fs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:z4(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function z4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}function QE(t,e){return t instanceof oi&&e instanceof oi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ai&&e instanceof Ai&&t._firestore===e._firestore&&HE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function _P(t){t=He(t,at);let e=He(t.firestore,pt);return VR(zt(e),t._key).then(n=>e1(e,t,n))}var Hr=class extends oc{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}};function wP(t){t=He(t,at);let e=He(t.firestore,pt),n=zt(e),i=new Hr(e);return F4(n,t._key).then(r=>new oi(e,i,t._key,r,new jr(r!==null&&r.hasLocalMutations,!0),t.converter))}function bP(t){t=He(t,at);let e=He(t.firestore,pt);return VR(zt(e),t._key,{source:"server"}).then(n=>e1(e,t,n))}function EP(t){t=He(t,ln);let e=He(t.firestore,pt),n=zt(e),i=new Hr(e);return lP(t._query),BR(n,t._query).then(r=>new Ai(e,i,t,r))}function DP(t){t=He(t,ln);let e=He(t.firestore,pt),n=zt(e),i=new Hr(e);return L4(n,t._query).then(r=>new Ai(e,i,t,r))}function TP(t){t=He(t,ln);let e=He(t.firestore,pt),n=zt(e),i=new Hr(e);return BR(n,t._query,{source:"server"}).then(r=>new Ai(e,i,t,r))}function XE(t,e,n){t=He(t,at);let i=He(t.firestore,pt),r=gg(t.converter,e,n);return fc(i,[pg(la(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Tt.none())])}function JE(t,e,n,...i){t=He(t,at);let r=He(t.firestore,pt),s=la(r),o;return o=typeof(e=vt(e))=="string"||e instanceof xi?WE(s,"updateDoc",t._key,e,n,i):qE(s,"updateDoc",t._key,e),fc(r,[o.toMutation(t._key,Tt.exists(!0))])}function CP(t){return fc(He(t.firestore,pt),[new Hs(t._key,Tt.none())])}function IP(t,e){let n=He(t.firestore,pt),i=Yd(t),r=gg(t.converter,e);return fc(n,[pg(la(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Tt.exists(!1))]).then(()=>i)}function ZE(t,...e){var n,i,r;t=vt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||nE(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nE(e[o])){let h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,d;if(t instanceof at)c=He(t.firestore,pt),d=lc(t._key.path),l={next:h=>{e[o]&&e[o](e1(c,t,h))},error:e[o+1],complete:e[o+2]};else{let h=He(t,ln);c=He(h.firestore,pt),d=h._query;let f=new Hr(c);l={next:p=>{e[o]&&e[o](new Ai(c,f,h,p))},error:e[o+1],complete:e[o+2]},lP(t._query)}return function(f,p,y,w){let _=new rc(w),g=new Ld(p,_,y);return f.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return AE(yield sc(f),g)})),()=>{_.$a(),f.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return OE(yield sc(f),g)}))}}(zt(c),d,a,l)}function SP(t,e){return V4(zt(t=He(t,pt)),nE(e)?e:{next:e})}function fc(t,e){return function(i,r){let s=new Nt;return i.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return v4(yield jE(i),r,s)})),s.promise}(zt(t),e)}function e1(t,e,n){let i=n.docs.get(e._key),r=new Hr(t);return new oi(t,r,e._key,i,new jr(n.hasPendingWrites,n.fromCache),e.converter)}var G4={maxAttempts:5};var lg=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=la(e)}set(e,n,i){this._verifyNotCommitted();let r=Ns(e,this._firestore),s=gg(r.converter,n,i),o=pg(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,Tt.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let s=Ns(e,this._firestore),o;return o=typeof(n=vt(n))=="string"||n instanceof xi?WE(this._dataReader,"WriteBatch.update",s._key,n,i,r):qE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Tt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Ns(e,this._firestore);return this._mutations=this._mutations.concat(new Hs(n._key,Tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ns(t,e){if((t=vt(t)).firestore!==e)throw new z(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var mE=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=la(n)}get(n){let i=Ns(n,this._firestore),r=new pE(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return le();let o=s[0];if(o.isFoundDocument())return new sa(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new sa(this._firestore,r,i._key,null,i.converter);throw le()})}set(n,i,r){let s=Ns(n,this._firestore),o=gg(s.converter,i,r),a=pg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(n,i,r,...s){let o=Ns(n,this._firestore),a;return a=typeof(i=vt(i))=="string"||i instanceof xi?WE(this._dataReader,"Transaction.update",o._key,i,r,s):qE(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(n){let i=Ns(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Ns(e,this._firestore),i=new Hr(this._firestore);return super.get(e).then(r=>new oi(this._firestore,i,n._key,r._document,new jr(!1,!1),n.converter))}};function MP(t,e,n){t=He(t,pt);let i=Object.assign(Object.assign({},G4),n);return function(s){if(s.maxAttempts<1)throw new z(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){let l=new Nt;return s.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){let c=yield P4(s);new Jb(s.asyncQueue,c,a,o,l).Xa()})),l.promise}(zt(t),r=>e(new mE(t,r)),i)}function xP(){return new jd("deleteField")}function AP(){return new oE("serverTimestamp")}function OP(...t){return new aE("arrayUnion",t)}function RP(...t){return new lE("arrayRemove",t)}function PP(t){return new cE("increment",t)}(function(e,n=!0){(function(r){ac=r})(eT),Gc(new co("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new pt(new ww(i.getProvider("auth-internal")),new Tw(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),os(dA,"4.6.3",e),os(dA,"4.6.3","esm2017")})();var H4="@firebase/firestore-compat",q4="0.3.32";function o1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function NP(){if(typeof Uint8Array>"u")throw new z("unimplemented","Uint8Arrays are not available in this environment.")}function kP(){if(!CO())throw new z("unimplemented","Blobs are unavailable in Firestore in this environment.")}var vg=class t{constructor(e){this._delegate=e}static fromBase64String(e){return kP(),new t(ur.fromBase64String(e))}static fromUint8Array(e){return NP(),new t(ur.fromUint8Array(e))}toBase64(){return kP(),this._delegate.toBase64()}toUint8Array(){return NP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function t1(t){return W4(t,["next","error","complete"])}function W4(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var n1=class{enableIndexedDbPersistence(e,n){return qR(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return WR(e._delegate)}clearIndexedDbPersistence(e){return KR(e._delegate)}},yg=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof js||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){UR(this._delegate,e,n,i)}enableNetwork(){return XR(this._delegate)}disableNetwork(){return JR(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,UE("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return QR(this._delegate)}onSnapshotsInSync(e){return SP(this._delegate,e)}get app(){if(!this._appCompat)throw new z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gc(this,zE(this._delegate,e))}catch(n){throw In(n,"collection()","Firestore.collection()")}}doc(e){try{return new dr(this,Yd(this._delegate,e))}catch(n){throw In(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fa(this,zR(this._delegate,e))}catch(n){throw In(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return MP(this._delegate,n=>e(new _g(this,n)))}batch(){return zt(this._delegate),new wg(new lg(this._delegate,e=>fc(this._delegate,e)))}loadBundle(e){return ZR(this._delegate,e)}namedQuery(e){return eP(this._delegate,e).then(n=>n?new fa(this,n):null)}},pc=class extends oc{constructor(e){super(),this.firestore=e}convertBytes(e){return new vg(new ur(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return dr.forKey(n,this.firestore,null)}};function Y4(t){dO(t)}var _g=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new pc(e)}get(e){let n=ua(e);return this._delegate.get(n).then(i=>new da(this._firestore,new oi(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=ua(e);return i?(o1("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let s=ua(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,i,...r),this}delete(e){let n=ua(e);return this._delegate.delete(n),this}},wg=class{constructor(e){this._delegate=e}set(e,n,i){let r=ua(e);return i?(o1("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let s=ua(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,i,...r),this}delete(e){let n=ua(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},mc=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new Fs(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ha(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(n);return s||(s=new t(e,new pc(e),n),r.set(n,s)),s}};mc.INSTANCES=new WeakMap;var dr=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new pc(e)}static forPath(e,n,i){if(e.length%2!==0)throw new z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new at(n._delegate,i,new ne(e)))}static forKey(e,n,i){return new t(n,new at(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new gc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gc(this.firestore,zE(this._delegate,e))}catch(n){throw In(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=vt(e),e instanceof at?GE(this._delegate,e):!1}set(e,n){n=o1("DocumentReference.set",n);try{return n?XE(this._delegate,e,n):XE(this._delegate,e)}catch(i){throw In(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?JE(this._delegate,e):JE(this._delegate,e,n,...i)}catch(r){throw In(r,"updateDoc()","DocumentReference.update()")}}delete(){return CP(this._delegate)}onSnapshot(...e){let n=FP(e),i=LP(e,r=>new da(this.firestore,new oi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return ZE(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=wP(this._delegate):e?.source==="server"?n=bP(this._delegate):n=_P(this._delegate),n.then(i=>new da(this.firestore,new oi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function In(t,e,n){return t.message=t.message.replace(e,n),t}function FP(t){for(let e of t)if(typeof e=="object"&&!t1(e))return e;return{}}function LP(t,e){var n,i;let r;return t1(t[0])?r=t[0]:t1(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:s=>{r.next&&r.next(e(s))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var da=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return QE(this._delegate,e._delegate)}},ha=class extends da{data(e){let n=this._delegate.data(e);return this._delegate._converter||hO(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},fa=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new pc(e)}where(e,n,i){try{return new t(this.firestore,Wr(this._delegate,cP(e,n,i)))}catch(r){throw In(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Wr(this._delegate,uP(e,n)))}catch(i){throw In(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Wr(this._delegate,dP(e)))}catch(n){throw In(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Wr(this._delegate,hP(e)))}catch(n){throw In(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Wr(this._delegate,fP(...e)))}catch(n){throw In(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Wr(this._delegate,pP(...e)))}catch(n){throw In(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Wr(this._delegate,mP(...e)))}catch(n){throw In(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Wr(this._delegate,gP(...e)))}catch(n){throw In(n,"endAt()","Query.endAt()")}}isEqual(e){return HE(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=DP(this._delegate):e?.source==="server"?n=TP(this._delegate):n=EP(this._delegate),n.then(i=>new Kd(this.firestore,new Ai(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=FP(e),i=LP(e,r=>new Kd(this.firestore,new Ai(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return ZE(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},i1=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ha(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Kd=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new fa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ha(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new i1(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new ha(this._firestore,i))})}isEqual(e){return QE(this._delegate,e._delegate)}},gc=class t extends fa{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new dr(this.firestore,e):null}doc(e){try{return e===void 0?new dr(this.firestore,Yd(this._delegate)):new dr(this.firestore,Yd(this._delegate,e))}catch(n){throw In(n,"doc()","CollectionReference.doc()")}}add(e){return IP(this._delegate,e).then(n=>new dr(this.firestore,n))}isEqual(e){return GE(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function ua(t){return He(t,at)}var r1=class t{constructor(...e){this._delegate=new xi(...e)}static documentId(){return new t(Mt.keyField().canonicalString())}isEqual(e){return e=vt(e),e instanceof xi?this._delegate._internalPath.isEqual(e._internalPath):!1}};var s1=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=AP();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=xP();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=OP(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=RP(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=PP(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var K4={Firestore:yg,GeoPoint:ra,Timestamp:yt,Blob:vg,Transaction:_g,WriteBatch:wg,DocumentReference:dr,DocumentSnapshot:da,Query:fa,QueryDocumentSnapshot:ha,QuerySnapshot:Kd,CollectionReference:gc,FieldPath:r1,FieldValue:s1,setLogLevel:Y4,CACHE_SIZE_UNLIMITED:GR};function Q4(t,e){t.INTERNAL.registerComponent(new co("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},K4)))}function X4(t){Q4(t,(e,n)=>new yg(e,n,new n1)),t.registerVersion(H4,q4)}X4(_n);function J4(t,e=as){return new _e(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function VP(t,e){return J4(t,e)}function Z4(t,e){return VP(t,e).pipe(hs(void 0),Kc(),de(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function c1(t,e){return VP(t,e).pipe(de(n=>({payload:n,type:"query"})))}var bg=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:s}=zP(i,n);return new Dg(r,s,this.afs)}snapshotChanges(){return Z4(this.ref,this.afs.schedulers.outsideAngular).pipe(Fn)}valueChanges(e={}){return this.snapshotChanges().pipe(de(({payload:n})=>e.idField?Fe(K({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return $e(this.ref.get(e)).pipe(Fn)}};function Eg(t,e){return c1(t,e).pipe(hs(void 0),Kc(),de(n=>{let[i,r]=n,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let c=s.find(h=>h.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(h=>h.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function BP(t,e,n){return Eg(t,n).pipe(po((i,r)=>e5(i,r.map(s=>s.payload),e),[]),Kh(),de(i=>i.map(r=>({type:r.type,payload:r}))))}function e5(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=t5(t,i))}),t}function a1(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function t5(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return a1(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return a1(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return a1(t,e.oldIndex,1);break}return t}function jP(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Dg=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=Eg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(de(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(hs(void 0),Kc(),tt(([i,r])=>r.length>0||!i),de(([,i])=>i),Fn)}auditTrail(e){return this.stateChanges(e).pipe(po((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=jP(e);return BP(this.query,n,this.afs.schedulers.outsideAngular).pipe(Fn)}valueChanges(e={}){return c1(this.query,this.afs.schedulers.outsideAngular).pipe(de(n=>n.payload.docs.map(i=>e.idField?Fe(K({},i.data()),{[e.idField]:i.id}):i.data())),Fn)}get(e){return $e(this.query.get(e)).pipe(Fn)}add(e){return this.ref.add(e)}doc(e){return new bg(this.ref.doc(e),this.afs)}},l1=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?Eg(this.query,this.afs.schedulers.outsideAngular).pipe(Fn):Eg(this.query,this.afs.schedulers.outsideAngular).pipe(de(n=>n.filter(i=>e.indexOf(i.type)>-1)),tt(n=>n.length>0),Fn)}auditTrail(e){return this.stateChanges(e).pipe(po((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=jP(e);return BP(this.query,n,this.afs.schedulers.outsideAngular).pipe(Fn)}valueChanges(e={}){return c1(this.query,this.afs.schedulers.outsideAngular).pipe(de(i=>i.payload.docs.map(r=>e.idField?K({[e.idField]:r.id},r.data()):r.data())),Fn)}get(e){return $e(this.query.get(e)).pipe(Fn)}},$P=new re("angularfire2.enableFirestorePersistence"),UP=new re("angularfire2.firestore.persistenceSettings"),n5=new re("angularfire2.firestore.settings"),i5=new re("angularfire2.firestore.use-emulator");function zP(t,e=n=>n){return{query:e(t),ref:t}}var u1=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,s,o,a,l,c,d,h,f,p,y,w,_,g,C){this.schedulers=l;let b=od(n,a,i),x=d;h&&ow(b,a,f,y,w,_,p,g),[this.firestore,this.persistenceEnabled$]=em(`${b.name}.firestore`,"AngularFirestore",b.name,()=>{let R=a.runOutsideAngular(()=>b.firestore());if(s&&R.settings(s),x&&R.useEmulator(...x),r&&!bs(o)){let P=()=>{try{return $e(R.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(A){return typeof console<"u"&&console.warn(A),he(!1)}};return[R,a.runOutsideAngular(P)]}else return[R,he(!1)]},[s,x,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:s,query:o}=zP(r,i),a=this.schedulers.ngZone.run(()=>s);return new Dg(a,o,this)}collectionGroup(n,i){let r=i||(o=>o),s=this.firestore.collectionGroup(n);return new l1(r(s),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new bg(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(q(Ml),q(xl,8),q($P,8),q(n5,8),q(an),q(Te),q(Xp),q(UP,8),q(i5,8),q(ad,8),q(ew,8),q(tw,8),q(nw,8),q(iw,8),q(rw,8),q(sw,8),q(jo,8))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),GP=(()=>{class t{constructor(){_n.registerVersion("angularfire",$o.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:$P,useValue:!0},{provide:UP,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Se({type:t});static \u0275inj=Ie({providers:[u1]})}return t})();var vc=(()=>{let e=class e{constructor(i,r,s){this.http=i,this.firestore=r,this.afAuth=s,this.SignUprootURL="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyB_akkexqHlxGMSiAFC2uro0uNmQQxVQ-0",this.SignInrootURL="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB_akkexqHlxGMSiAFC2uro0uNmQQxVQ-0",this.user=new xe}signup(i,r,s){return this.http.post(this.SignUprootURL,{email:i,password:r,returnSecureToken:!0}).pipe(yi(o=>{let a="An unknown error occurred!";if(!o.error||!o.error.error)return vi(a);switch(o.error.error.message){case"EMAIL_EXISTS":a="The email address is already in use by another account.";break;case"OPERATION_NOT_ALLOWED":a="Password sign-in is disabled for this project.";break;case"TOO_MANY_ATTEMPTS_TRY_LATER":a="We have blocked all requests from this device due to unusual activity. Try again later.";break}return vi(a)}),Je(o=>{this.handleSignupAuthentication(o.email,o.localId,o.idToken,+o.expiresIn,this.saveUserData.bind(this),s)}))}signIn(i,r){return this.http.post(this.SignInrootURL,{email:i,password:r,returnSecureToken:!0}).pipe(yi(s=>{let o="An unknown error occurred!";if(!s.error||!s.error.error)return vi(o);switch(s.error.error.message){case"EMAIL_NOT_FOUND":o="There is no user record corresponding to this identifier.";break;case"INVALID_PASSWORD":o="The password is invalid.";break;case"USER_DISABLED":o="The user account has been disabled by an administrator.";break;default:o="An unknown error occurred!"}return vi(o)}),Je(s=>{this.handleSignInAuthentication(s.email,s.localId,s.idToken,+s.expiresIn)}))}handleSignupAuthentication(i,r,s,o,a,l){let c=new Date(new Date().getTime()+o*1e3),d=new rd(i,r,s,c);this.user.next(d),localStorage.setItem("userData",JSON.stringify(d)),localStorage.setItem("token",s),a(r,l)}handleSignInAuthentication(i,r,s,o){let a=new Date(new Date().getTime()+o*1e3),l=new rd(i,r,s,a);this.user.next(l),localStorage.setItem("userData",JSON.stringify(l)),localStorage.setItem("token",s)}saveUserData(i,r){this.firestore.collection("users").doc(i).set({userId:i,name:r})}logout(){localStorage.removeItem("userData"),localStorage.removeItem("token"),this.user.next(null),this.router.navigate(["home"])}};e.\u0275fac=function(r){return new(r||e)(q(Iu),q(u1),q(ad))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s5(t,e){if(t&1&&(Y(0,"div",15)(1,"strong",16),ue(2),ae(3,"translate"),ae(4,"async"),J(),Y(5,"span",17),ue(6),J()()),t&2){let n=Qi();ye(2),Ve(ce(4,4,ce(3,2,"auth.signinfailed"))),ye(4),Ve(n.error)}}function o5(t,e){t&1&&(Y(0,"div",18),ue(1),ae(2,"translate"),ae(3,"async"),J()),t&2&&(ye(),ti(" ",ce(3,3,ce(2,1,"auth.signinsuccess"))," "))}var HP=(()=>{let e=class e{constructor(i,r,s){this.fb=i,this.authService=r,this.router=s,this.loginForm=this.fb.group({email:["",Lr.required],password:["",Lr.required]}),this.isAuthenticated=!1,this.wasSuccess=!1,this.wasFailed=!1}ngOnInit(){}loginSubmit(){this.wasSuccess=!1,this.wasFailed=!1;let i=this.loginForm.get("email")?.value,r=this.loginForm.get("password")?.value;this.authService.signIn(i,r).subscribe(s=>{console.log(s),this.wasSuccess=!0,this.router.navigate(["home"])},s=>{console.log("error"),console.log(s),this.error=s})}};e.\u0275fac=function(r){return new(r||e)(Pe(Kp),Pe(vc),Pe(Dn))},e.\u0275cmp=dt({type:e,selectors:[["app-login"]],decls:31,vars:23,consts:[[1,"row","h-100","align-items-center","mt-4","py-3"],[1,"col-11","col-sm-11","col-md-6","col-lg-5","col-xl-4","mx-auto","align-self-center","p-4"],[1,"mb-4"],["class","text-danger my-3 py-2",4,"ngIf"],["class","text-success my-3 py-2",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group","form-floating","mb-3"],["type","text","formControlName","email","required","","value","","id","email","placeholder","Email",1,"form-control"],["for","email",1,"form-control-label"],["type","password","formControlName","password","required","","id","password","placeholder","Password",1,"form-control"],["for","password",1,"form-control-label"],[1,"mt-5","py-3","d-grid"],["type","submit",1,"btn","btn-primary","shadow-sm"],[1,"mt-2","d-flex","justify-content-between","text-muted","py-3"],["href","/signup",1,"text-info"],[1,"text-danger","my-3","py-2"],[1,"d-block"],[1,"mt-2","d-block"],[1,"text-success","my-3","py-2"]],template:function(r,s){r&1&&(Y(0,"div",0)(1,"div",1)(2,"h1",2),ue(3),ae(4,"translate"),ae(5,"async"),J(),Rr(6,s5,7,6,"div",3)(7,o5,4,5,"div",4),Y(8,"form",5),Ut("ngSubmit",function(){return s.loginSubmit()}),Y(9,"div",6),Ee(10,"input",7),Y(11,"label",8),ue(12,"Email "),J()(),Y(13,"div",6),Ee(14,"input",9),Y(15,"label",10),ue(16,"Password"),J()(),Y(17,"div",11)(18,"button",12),ue(19),ae(20,"translate"),ae(21,"async"),J()()(),Y(22,"div",13)(23,"span"),ue(24),ae(25,"translate"),ae(26,"async"),J(),Y(27,"a",14),ue(28),ae(29,"translate"),ae(30,"async"),J()()()()),r&2&&(ye(3),ti("",ce(5,9,ce(4,7,"auth.login"))," "),ye(3),Pn("ngIf",s.wasFailed),ye(),Pn("ngIf",s.wasSuccess),ye(),Pn("formGroup",s.loginForm),ye(11),Ve(ce(21,13,ce(20,11,"auth.login"))),ye(5),Ve(ce(26,17,ce(25,15,"auth.donthaveaccount"))),ye(4),Ve(ce(30,21,ce(29,19,"auth.signup"))))},dependencies:[dl,Yp,Sl,Hp,qp,id,td,nd,Nn,kn]});let t=e;return t})();function a5(t,e){if(t&1&&(Y(0,"div",17)(1,"strong",18),ue(2),ae(3,"translate"),ae(4,"async"),J(),Y(5,"span",19),ue(6),J()()),t&2){let n=Qi();ye(2),Ve(ce(4,4,ce(3,2,"auth.signupfailed"))),ye(4),Ve(n.error)}}function l5(t,e){t&1&&(Y(0,"div",20)(1,"strong"),ue(2),ae(3,"translate"),ae(4,"async"),J()()),t&2&&(ye(2),Ve(ce(4,3,ce(3,1,"auth.signupsuccess"))))}var qP=(()=>{let e=class e{constructor(i,r,s){this.fb=i,this.authService=r,this.router=s,this.RegisterForm=this.fb.group({name:["",Lr.required],email:["",Lr.required],password:["",Lr.required]}),this.wasSuccess=!1,this.wasFailed=!1}ngOnInit(){}onRegister(){let i=this.RegisterForm.get("email")?.value,r=this.RegisterForm.get("password")?.value,s=this.RegisterForm.get("name")?.value;this.authService.signup(i,r,s).subscribe(o=>{console.log(o),this.wasSuccess=!0,this.router.navigate(["home"])},o=>{console.log("error"),console.log(o),this.error=o})}};e.\u0275fac=function(r){return new(r||e)(Pe(Kp),Pe(vc),Pe(Dn))},e.\u0275cmp=dt({type:e,selectors:[["app-singup"]],decls:35,vars:23,consts:[[1,"row","h-100","align-items-center","mt-4","py-3"],[1,"col-11","col-sm-11","col-md-6","col-lg-5","col-xl-4","mx-auto","align-self-center","p-4"],[1,"mb-4"],["class","text-danger my-3 py-2",4,"ngIf"],["class","text-success my-3 py-2",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group","form-floating","mb-3"],["type","text","value","","id","name","formControlName","name","required","","placeholder","Name",1,"form-control"],["for","name",1,"form-control-label"],["type","email","value","","id","email","formControlName","email","required","","placeholder","Email",1,"form-control"],["for","email",1,"form-control-label"],["type","password","id","password","formControlName","password","required","","placeholder","Password",1,"form-control"],["for","password",1,"form-control-label"],[1,"mt-5","py-3","d-grid"],["type","submit",1,"btn","btn-primary","shadow-sm"],[1,"mt-2","d-flex","justify-content-between","text-muted","py-3"],["href","",1,"text-info"],[1,"text-danger","my-3","py-2"],[1,"d-block"],[1,"mt-2","d-block"],[1,"text-success","my-3","py-2"]],template:function(r,s){r&1&&(Y(0,"div",0)(1,"div",1)(2,"h1",2),ue(3),ae(4,"translate"),ae(5,"async"),J(),Rr(6,a5,7,6,"div",3)(7,l5,5,5,"div",4),Y(8,"form",5),Ut("ngSubmit",function(){return s.onRegister()}),Y(9,"div",6),Ee(10,"input",7),Y(11,"label",8),ue(12,"Name"),J()(),Y(13,"div",6),Ee(14,"input",9),Y(15,"label",10),ue(16,"Email"),J()(),Y(17,"div",6),Ee(18,"input",11),Y(19,"label",12),ue(20,"Password"),J()(),Y(21,"div",13)(22,"button",14),ue(23),ae(24,"translate"),ae(25,"async"),J()()(),Y(26,"div",15)(27,"span"),ue(28),ae(29,"translate"),ae(30,"async"),J(),Y(31,"a",16),ue(32),ae(33,"translate"),ae(34,"async"),J()()()()),r&2&&(ye(3),Ve(ce(5,9,ce(4,7,"auth.signup"))),ye(3),Pn("ngIf",s.wasFailed),ye(),Pn("ngIf",s.wasSuccess),ye(),Pn("formGroup",s.RegisterForm),ye(15),Ve(ce(25,13,ce(24,11,"auth.signup"))),ye(5),Ve(ce(30,17,ce(29,15,"auth.alreaadyhaveaccount"))),ye(4),ti("",ce(34,21,ce(33,19,"auth.login"))," "))},dependencies:[dl,Yp,Sl,Hp,qp,id,td,nd,Nn,kn]});let t=e;return t})();var Tg=(()=>{let e=class e{constructor(i){this.router=i}canActivate(i,r){return localStorage.getItem("userData")?!0:(this.router.navigate(["/login"]),!1)}canActivateChild(i,r){return localStorage.getItem("userData")?!0:(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(r){return new(r||e)(q(Dn))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yc=(()=>{let e=class e{constructor(i){this.router=i}canActivate(i,r){return localStorage.getItem("userData")?(this.router.navigate(["/"]),!1):!0}};e.\u0275fac=function(r){return new(r||e)(q(Dn))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var WP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["app-landing"]],decls:29,vars:15,consts:[[1,"row"],[1,"col-12","px-0","align-self-center"],[1,"row","h-100","mx-0","align-items-center"],[1,"col-lg-5","h-100","position-relative"],["src","assets/images/landing.png","alt","",1,"img-fluid"],[1,"col-10","col-md-8","col-lg-4","col-ld-6","mx-auto"],[1,"mb-4"],[1,"text-secondary","fw-light"],[1,"text-secondary"],[1,"col-11","col-sm-11","mt-auto","mx-auto","py-4"],[1,"col-6","text-end","d-grid"],["href","/signup",1,"btn","btn-light","btn-lg","shadow-sm"],[1,"col-6","d-grid"],["href","/login",1,"btn","btn-primary","btn-lg","shadow-sm"]],template:function(r,s){r&1&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ee(4,"img",4),J(),Y(5,"div",5)(6,"h1",6)(7,"span",7),ue(8,"Manage"),Ee(9,"br"),ue(10,"Money"),J(),Ee(11,"br"),ue(12,"Fast & Easy!"),J(),Y(13,"p",8),ue(14),ae(15,"translate"),ae(16,"async"),J()()()(),Y(17,"div",9)(18,"div",0)(19,"div",10)(20,"a",11),ue(21),ae(22,"translate"),ae(23,"async"),J()(),Y(24,"div",12)(25,"a",13),ue(26),ae(27,"translate"),ae(28,"async"),J()()()()()),r&2&&(ye(14),Ve(ce(16,5,ce(15,3,"landing.text"))),ye(7),Ve(ce(23,9,ce(22,7,"auth.signup"))),ye(5),Ve(ce(28,13,ce(27,11,"auth.login"))))},dependencies:[Nn,kn]});let t=e;return t})();var c5=[{path:"",component:WP,canActivate:[yc]},{path:"home",component:fx,canActivate:[Tg]},{path:"login",component:HP,canActivate:[yc]},{path:"signup",component:qP,canActivate:[yc]}],YP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({imports:[L_.forRoot(c5),L_]});let t=e;return t})();var Ft="top",cn="bottom",Zt="right",Gt="left",Cg="auto",Qs=[Ft,cn,Zt,Gt],Yr="start",pa="end",KP="clippingParents",Ig="viewport",_c="popper",QP="reference",h1=Qs.reduce(function(t,e){return t.concat([e+"-"+Yr,e+"-"+pa])},[]),Sg=[].concat(Qs,[Cg]).reduce(function(t,e){return t.concat([e,e+"-"+Yr,e+"-"+pa])},[]),u5="beforeRead",d5="read",h5="afterRead",f5="beforeMain",p5="main",m5="afterMain",g5="beforeWrite",v5="write",y5="afterWrite",XP=[u5,d5,h5,f5,p5,m5,g5,v5,y5];function en(t){return t?(t.nodeName||"").toLowerCase():null}function mt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ai(t){var e=mt(t).Element;return t instanceof e||t instanceof Element}function Ht(t){var e=mt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function wc(t){if(typeof ShadowRoot>"u")return!1;var e=mt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function _5(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!Ht(s)||!en(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function w5(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ht(r)||!en(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var JP={name:"applyStyles",enabled:!0,phase:"write",fn:_5,effect:w5,requires:["computeStyles"]};function tn(t){return t.split("-")[0]}var Oi=Math.max,ma=Math.min,Kr=Math.round;function bc(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Qd(){return!/^((?!chrome|android).)*safari/i.test(bc())}function li(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&Ht(t)&&(r=t.offsetWidth>0&&Kr(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Kr(i.height)/t.offsetHeight||1);var o=ai(t)?mt(t):window,a=o.visualViewport,l=!Qd()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,d=(i.top+(l&&a?a.offsetTop:0))/s,h=i.width/r,f=i.height/s;return{width:h,height:f,top:d,right:c+h,bottom:d+f,left:c,x:c,y:d}}function ga(t){var e=li(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Xd(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&wc(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Sn(t){return mt(t).getComputedStyle(t)}function f1(t){return["table","td","th"].indexOf(en(t))>=0}function un(t){return((ai(t)?t.ownerDocument:t.document)||window.document).documentElement}function Qr(t){return en(t)==="html"?t:t.assignedSlot||t.parentNode||(wc(t)?t.host:null)||un(t)}function ZP(t){return!Ht(t)||Sn(t).position==="fixed"?null:t.offsetParent}function b5(t){var e=/firefox/i.test(bc()),n=/Trident/i.test(bc());if(n&&Ht(t)){var i=Sn(t);if(i.position==="fixed")return null}var r=Qr(t);for(wc(r)&&(r=r.host);Ht(r)&&["html","body"].indexOf(en(r))<0;){var s=Sn(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Ri(t){for(var e=mt(t),n=ZP(t);n&&f1(n)&&Sn(n).position==="static";)n=ZP(n);return n&&(en(n)==="html"||en(n)==="body"&&Sn(n).position==="static")?e:n||b5(t)||e}function va(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ya(t,e,n){return Oi(t,ma(e,n))}function eN(t,e,n){var i=ya(t,e,n);return i>n?n:i}function Jd(){return{top:0,right:0,bottom:0,left:0}}function Zd(t){return Object.assign({},Jd(),t)}function eh(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var E5=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Zd(typeof e!="number"?e:eh(e,Qs))};function D5(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=tn(n.placement),l=va(a),c=[Gt,Zt].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var h=E5(r.padding,n),f=ga(s),p=l==="y"?Ft:Gt,y=l==="y"?cn:Zt,w=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],_=o[l]-n.rects.reference[l],g=Ri(s),C=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,b=w/2-_/2,x=h[p],R=C-f[d]-h[y],P=C/2-f[d]/2+b,A=ya(x,P,R),E=l;n.modifiersData[i]=(e={},e[E]=A,e.centerOffset=A-P,e)}}function T5(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Xd(e.elements.popper,r)&&(e.elements.arrow=r))}var p1={name:"arrow",enabled:!0,phase:"main",fn:D5,effect:T5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ci(t){return t.split("-")[1]}var C5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function I5(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Kr(n*r)/r||0,y:Kr(i*r)/r||0}}function tN(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,y=o.y,w=y===void 0?0:y,_=typeof d=="function"?d({x:p,y:w}):{x:p,y:w};p=_.x,w=_.y;var g=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),b=Gt,x=Ft,R=window;if(c){var P=Ri(n),A="clientHeight",E="clientWidth";if(P===mt(n)&&(P=un(n),Sn(P).position!=="static"&&a==="absolute"&&(A="scrollHeight",E="scrollWidth")),P=P,r===Ft||(r===Gt||r===Zt)&&s===pa){x=cn;var D=h&&P===R&&R.visualViewport?R.visualViewport.height:P[A];w-=D-i.height,w*=l?1:-1}if(r===Gt||(r===Ft||r===cn)&&s===pa){b=Zt;var I=h&&P===R&&R.visualViewport?R.visualViewport.width:P[E];p-=I-i.width,p*=l?1:-1}}var O=Object.assign({position:a},c&&C5),M=d===!0?I5({x:p,y:w},mt(n)):{x:p,y:w};if(p=M.x,w=M.y,l){var T;return Object.assign({},O,(T={},T[x]=C?"0":"",T[b]=g?"0":"",T.transform=(R.devicePixelRatio||1)<=1?"translate("+p+"px, "+w+"px)":"translate3d("+p+"px, "+w+"px, 0)",T))}return Object.assign({},O,(e={},e[x]=C?w+"px":"",e[b]=g?p+"px":"",e.transform="",e))}function S5(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:tn(e.placement),variation:ci(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,tN(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,tN(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var nN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:S5,data:{}};var Mg={passive:!0};function M5(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=mt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,Mg)}),a&&l.addEventListener("resize",n.update,Mg),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Mg)}),a&&l.removeEventListener("resize",n.update,Mg)}}var iN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M5,data:{}};var x5={left:"right",right:"left",bottom:"top",top:"bottom"};function Ec(t){return t.replace(/left|right|bottom|top/g,function(e){return x5[e]})}var A5={start:"end",end:"start"};function xg(t){return t.replace(/start|end/g,function(e){return A5[e]})}function _a(t){var e=mt(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function wa(t){return li(un(t)).left+_a(t).scrollLeft}function m1(t,e){var n=mt(t),i=un(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=Qd();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+wa(t),y:l}}function g1(t){var e,n=un(t),i=_a(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Oi(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Oi(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+wa(t),l=-i.scrollTop;return Sn(r||n).direction==="rtl"&&(a+=Oi(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ba(t){var e=Sn(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function Ag(t){return["html","body","#document"].indexOf(en(t))>=0?t.ownerDocument.body:Ht(t)&&ba(t)?t:Ag(Qr(t))}function Xs(t,e){var n;e===void 0&&(e=[]);var i=Ag(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=mt(i),o=r?[s].concat(s.visualViewport||[],ba(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(Xs(Qr(o)))}function Dc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function O5(t,e){var n=li(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function rN(t,e,n){return e===Ig?Dc(m1(t,n)):ai(e)?O5(e,n):Dc(g1(un(t)))}function R5(t){var e=Xs(Qr(t)),n=["absolute","fixed"].indexOf(Sn(t).position)>=0,i=n&&Ht(t)?Ri(t):t;return ai(i)?e.filter(function(r){return ai(r)&&Xd(r,i)&&en(r)!=="body"}):[]}function v1(t,e,n,i){var r=e==="clippingParents"?R5(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var d=rN(t,c,i);return l.top=Oi(d.top,l.top),l.right=ma(d.right,l.right),l.bottom=ma(d.bottom,l.bottom),l.left=Oi(d.left,l.left),l},rN(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function th(t){var e=t.reference,n=t.element,i=t.placement,r=i?tn(i):null,s=i?ci(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Ft:l={x:o,y:e.y-n.height};break;case cn:l={x:o,y:e.y+e.height};break;case Zt:l={x:e.x+e.width,y:a};break;case Gt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?va(r):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case Yr:l[c]=l[c]-(e[d]/2-n[d]/2);break;case pa:l[c]=l[c]+(e[d]/2-n[d]/2);break;default:}}return l}function Js(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?KP:a,c=n.rootBoundary,d=c===void 0?Ig:c,h=n.elementContext,f=h===void 0?_c:h,p=n.altBoundary,y=p===void 0?!1:p,w=n.padding,_=w===void 0?0:w,g=Zd(typeof _!="number"?_:eh(_,Qs)),C=f===_c?QP:_c,b=t.rects.popper,x=t.elements[y?C:f],R=v1(ai(x)?x:x.contextElement||un(t.elements.popper),l,d,o),P=li(t.elements.reference),A=th({reference:P,element:b,strategy:"absolute",placement:r}),E=Dc(Object.assign({},b,A)),D=f===_c?E:P,I={top:R.top-D.top+g.top,bottom:D.bottom-R.bottom+g.bottom,left:R.left-D.left+g.left,right:D.right-R.right+g.right},O=t.modifiersData.offset;if(f===_c&&O){var M=O[r];Object.keys(I).forEach(function(T){var k=[Zt,cn].indexOf(T)>=0?1:-1,H=[Ft,cn].indexOf(T)>=0?"y":"x";I[T]+=M[H]*k})}return I}function y1(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Sg:l,d=ci(i),h=d?a?h1:h1.filter(function(y){return ci(y)===d}):Qs,f=h.filter(function(y){return c.indexOf(y)>=0});f.length===0&&(f=h);var p=f.reduce(function(y,w){return y[w]=Js(t,{placement:w,boundary:r,rootBoundary:s,padding:o})[tn(w)],y},{});return Object.keys(p).sort(function(y,w){return p[y]-p[w]})}function P5(t){if(tn(t)===Cg)return[];var e=Ec(t);return[xg(t),e,xg(e)]}function N5(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,y=p===void 0?!0:p,w=n.allowedAutoPlacements,_=e.options.placement,g=tn(_),C=g===_,b=l||(C||!y?[Ec(_)]:P5(_)),x=[_].concat(b).reduce(function(Ue,oe){return Ue.concat(tn(oe)===Cg?y1(e,{placement:oe,boundary:d,rootBoundary:h,padding:c,flipVariations:y,allowedAutoPlacements:w}):oe)},[]),R=e.rects.reference,P=e.rects.popper,A=new Map,E=!0,D=x[0],I=0;I<x.length;I++){var O=x[I],M=tn(O),T=ci(O)===Yr,k=[Ft,cn].indexOf(M)>=0,H=k?"width":"height",ie=Js(e,{placement:O,boundary:d,rootBoundary:h,altBoundary:f,padding:c}),F=k?T?Zt:Gt:T?cn:Ft;R[H]>P[H]&&(F=Ec(F));var $=Ec(F),Z=[];if(s&&Z.push(ie[M]<=0),a&&Z.push(ie[F]<=0,ie[$]<=0),Z.every(function(Ue){return Ue})){D=O,E=!1;break}A.set(O,Z)}if(E)for(var ve=y?3:1,W=function(oe){var ke=x.find(function(rt){var dn=A.get(rt);if(dn)return dn.slice(0,oe).every(function(Fi){return Fi})});if(ke)return D=ke,"break"},Q=ve;Q>0;Q--){var X=W(Q);if(X==="break")break}e.placement!==D&&(e.modifiersData[i]._skip=!0,e.placement=D,e.reset=!0)}}var _1={name:"flip",enabled:!0,phase:"main",fn:N5,requiresIfExists:["offset"],data:{_skip:!1}};function k5(t,e,n){var i=tn(t),r=[Gt,Ft].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Gt,Zt].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function F5(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=Sg.reduce(function(d,h){return d[h]=k5(h,e.rects,s),d},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var w1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:F5};function L5(t){var e=t.state,n=t.name;e.modifiersData[n]=th({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var sN={name:"popperOffsets",enabled:!0,phase:"read",fn:L5,data:{}};function b1(t){return t==="x"?"y":"x"}function V5(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,y=n.tetherOffset,w=y===void 0?0:y,_=Js(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),g=tn(e.placement),C=ci(e.placement),b=!C,x=va(g),R=b1(x),P=e.modifiersData.popperOffsets,A=e.rects.reference,E=e.rects.popper,D=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,I=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(P){if(s){var T,k=x==="y"?Ft:Gt,H=x==="y"?cn:Zt,ie=x==="y"?"height":"width",F=P[x],$=F+_[k],Z=F-_[H],ve=p?-E[ie]/2:0,W=C===Yr?A[ie]:E[ie],Q=C===Yr?-E[ie]:-A[ie],X=e.elements.arrow,Ue=p&&X?ga(X):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Jd(),ke=oe[k],rt=oe[H],dn=ya(0,A[ie],Ue[ie]),Fi=b?A[ie]/2-ve-dn-ke-I.mainAxis:W-dn-ke-I.mainAxis,hn=b?-A[ie]/2+ve+dn+rt+I.mainAxis:Q+dn+rt+I.mainAxis,fn=e.elements.arrow&&Ri(e.elements.arrow),Zr=fn?x==="y"?fn.clientTop||0:fn.clientLeft||0:0,mr=(T=O?.[x])!=null?T:0,es=F+Fi-mr-Zr,ts=F+hn-mr,Li=ya(p?ma($,es):$,F,p?Oi(Z,ts):Z);P[x]=Li,M[x]=Li-F}if(a){var Vi,io=x==="x"?Ft:Gt,ns=x==="x"?cn:Zt,xn=P[R],Xn=R==="y"?"height":"width",fi=xn+_[io],ro=xn-_[ns],jn=[Ft,Gt].indexOf(g)!==-1,Ca=(Vi=O?.[R])!=null?Vi:0,Ia=jn?fi:xn-A[Xn]-E[Xn]-Ca+I.altAxis,Vt=jn?xn+A[Xn]+E[Xn]-Ca-I.altAxis:ro,qt=p&&jn?eN(Ia,xn,Vt):ya(p?Ia:fi,xn,p?Vt:ro);P[R]=qt,M[R]=qt-xn}e.modifiersData[i]=M}}var E1={name:"preventOverflow",enabled:!0,phase:"main",fn:V5,requiresIfExists:["offset"]};function D1(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function T1(t){return t===mt(t)||!Ht(t)?_a(t):D1(t)}function B5(t){var e=t.getBoundingClientRect(),n=Kr(e.width)/t.offsetWidth||1,i=Kr(e.height)/t.offsetHeight||1;return n!==1||i!==1}function C1(t,e,n){n===void 0&&(n=!1);var i=Ht(e),r=Ht(e)&&B5(e),s=un(e),o=li(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((en(e)!=="body"||ba(s))&&(a=T1(e)),Ht(e)?(l=li(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=wa(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function j5(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function I1(t){var e=j5(t);return XP.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function S1(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function M1(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var oN={placement:"bottom",modifiers:[],strategy:"absolute"};function aN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function lN(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?oN:r;return function(a,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},oN,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:d,setOptions:function(g){var C=typeof g=="function"?g(d.options):g;w(),d.options=Object.assign({},s,d.options,C),d.scrollParents={reference:ai(a)?Xs(a):a.contextElement?Xs(a.contextElement):[],popper:Xs(l)};var b=I1(M1([].concat(i,d.options.modifiers)));return d.orderedModifiers=b.filter(function(x){return x.enabled}),y(),p.update()},forceUpdate:function(){if(!f){var g=d.elements,C=g.reference,b=g.popper;if(aN(C,b)){d.rects={reference:C1(C,Ri(b),d.options.strategy==="fixed"),popper:ga(b)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var x=0;x<d.orderedModifiers.length;x++){if(d.reset===!0){d.reset=!1,x=-1;continue}var R=d.orderedModifiers[x],P=R.fn,A=R.options,E=A===void 0?{}:A,D=R.name;typeof P=="function"&&(d=P({state:d,options:E,name:D,instance:p})||d)}}}},update:S1(function(){return new Promise(function(_){p.forceUpdate(),_(d)})}),destroy:function(){w(),f=!0}};if(!aN(a,l))return p;p.setOptions(c).then(function(_){!f&&c.onFirstUpdate&&c.onFirstUpdate(_)});function y(){d.orderedModifiers.forEach(function(_){var g=_.name,C=_.options,b=C===void 0?{}:C,x=_.effect;if(typeof x=="function"){var R=x({state:d,name:g,instance:p,options:b}),P=function(){};h.push(R||P)}})}function w(){h.forEach(function(_){return _()}),h=[]}return p}}var $5=[iN,sN,nN,JP],x1=lN({defaultModifiers:$5});var hN=["*"];var U5=["dialog"];var fN={animation:!0,transitionTimerDelayMs:5},pN=(()=>{let e=class e{constructor(){this.animation=fN.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z5(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function N1(t){return typeof t=="string"}function Tc(t){return t!=null}function mN(t){return t&&t.then}function G5(t,e){return!e||typeof t.closest>"u"?null:t.closest(e)}function kg(t){return(t||document.body).getBoundingClientRect()}function H5(t){return e=>new _e(n=>{let i=o=>t.run(()=>n.next(o)),r=o=>t.run(()=>n.error(o)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:s})})}function gN(t=document){let e=t?.activeElement;return e?e.shadowRoot?gN(e.shadowRoot):e:null}var q5=()=>{},{transitionTimerDelayMs:W5}=fN,Og=new Map,Pi=(t,e,n,i)=>{let r=i.context||{},s=Og.get(e);if(s)switch(i.runningTransition){case"continue":return Bt;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Og.delete(e)}let o=n(e,i.animation,r)||q5;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>o()),he(void 0).pipe(H5(t));let a=new xe,l=new xe,c=a.pipe(Mv(!0));Og.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=z5(e);return t.runOutsideAngular(()=>{let h=Wt(e,"transitionend").pipe(bt(c),tt(({target:p})=>p===e)),f=Wc(d+W5).pipe(bt(c));Yh(f,h,l).pipe(bt(c)).subscribe(()=>{Og.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var vN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var yN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var _N=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),wN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var ui=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(ui||{});var Rg=(t,e)=>e?e.some(n=>n.contains(t)):!1,cN=(t,e)=>!e||G5(t,e)!=null,Y5=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})(),K5=t=>Y5?()=>setTimeout(()=>t(),100):t;function Q5(t,e,n,i,r,s,o,a){n&&t.runOutsideAngular(K5(()=>{let l=f=>{let p=f.target;return f.button===2||Rg(p,o)?!1:n==="inside"?Rg(p,s)&&cN(p,a):n==="outside"?!Rg(p,s):cN(p,a)||!Rg(p,s)},c=Wt(e,"keydown").pipe(bt(r),tt(f=>f.which===ui.Escape),Je(f=>f.preventDefault())),d=Wt(e,"mousedown").pipe(de(l),bt(r)),h=Wt(e,"mouseup").pipe(Qc(d),tt(([f,p])=>p),Sv(0),bt(r));Yh([c.pipe(de(f=>0)),h.pipe(de(f=>1))]).subscribe(f=>t.run(()=>i(f)))}))}var bN=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function k1(t){let e=Array.from(t.querySelectorAll(bN)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var EN=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=Wt(e,"focusin").pipe(bt(n),de(s=>s.target));Wt(e,"keydown").pipe(bt(n),tt(s=>s.which===ui.Tab),Qc(r)).subscribe(([s,o])=>{let[a,l]=k1(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Wt(e,"click").pipe(bt(n),Qc(r),de(s=>s[1])).subscribe(s=>s.focus())})},X5=(()=>{let e=class e{constructor(){this._element=U(ft).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J5=/\s+/,Z5=/  +/gi,eq={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function tq(t,e){let[n,i]=eq[t];return e&&i||n}var nq=/^left/,iq=/^right/,rq=/^start/,sq=/^end/;function oq(t,e){let[n,i]=e.split("-"),r=n.replace(nq,"start").replace(iq,"end"),s=[r];if(i){let o=i;(n==="left"||n==="right")&&(o=o.replace(rq,"top").replace(sq,"bottom")),s.push(`${r}-${o}`)}return t&&(s=s.map(o=>`${t}-${o}`)),s.join(" ")}function uN({placement:t,baseClass:e},n){let i=Array.isArray(t)?t:t.split(J5),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],s=i.findIndex(c=>c==="auto");s>=0&&r.forEach(function(c){i.find(d=>d.search("^"+c)!==-1)==null&&i.splice(s++,1,c)});let o=i.map(c=>tq(c,n.isRTL()));return{placement:o.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:c}){let d=new RegExp(e+"(-[a-z]+)*","gi"),h=c.elements.popper,f=c.placement,p=h.className;p=p.replace(d,""),p+=` ${oq(e,f)}`,p=p.trim().replace(Z5," "),h.className=p}},_1,E1,p1,{enabled:!0,name:"flip",options:{fallbackPlacements:o}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function dN(t){return t}function aq(){let t=U(X5),e=null;return{createPopper(n){if(!e){let r=(n.updatePopperOptions||dN)(uN(n,t));e=x1(n.hostElement,n.targetElement,r)}},update(){e&&e.update()},setOptions(n){if(e){let r=(n.updatePopperOptions||dN)(uN(n,t));e.setOptions(r)}},destroy(){e&&(e.destroy(),e=null)}}}function lq(t){return e=>(e.modifiers.push(w1,{name:"offset",options:{offset:()=>t}}),e)}var Toe=new Date(1882,10,12),Coe=new Date(2174,10,25);var Ioe=1e3*60*60*24;var F1=1080,cq=24*F1,uq=12*F1+793,Soe=29*cq+uq,Moe=11*F1+204;var DN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),dq=(()=>{let e=class e{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=i=>i,this.container=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fg=(()=>{let e=class e{constructor(){this._disabled=!1,this.nativeElement=U($t).nativeElement,this.tabindex=0}set disabled(i){this._disabled=i===""||i===!0}get disabled(){return this._disabled}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Et({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(r,s){r&2&&(Xf("tabIndex",s.disabled?-1:s.tabindex),qn("disabled",s.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0});let t=e;return t})(),TN=(()=>{let e=class e{constructor(){this.item=U(Fg)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Et({type:e,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(r,s){r&2&&Xf("disabled",s.item.disabled)},standalone:!0});let t=e;return t})(),L1=(()=>{let e=class e{constructor(){this.dropdown=U(Lg),this.nativeElement=U($t).nativeElement}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Et({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(r,s,o){if(r&1&&yu(o,Fg,4),r&2){let a;al(a=ll())&&(s.menuItems=a)}},hostVars:4,hostBindings:function(r,s){r&1&&Ut("keydown.ArrowUp",function(a){return s.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return s.dropdown.onKeyDown(a)})("keydown.Home",function(a){return s.dropdown.onKeyDown(a)})("keydown.End",function(a){return s.dropdown.onKeyDown(a)})("keydown.Enter",function(a){return s.dropdown.onKeyDown(a)})("keydown.Space",function(a){return s.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return s.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return s.dropdown.onKeyDown(a)}),r&2&&qn("dropdown-menu",!0)("show",s.dropdown.isOpen())},standalone:!0});let t=e;return t})(),A1=(()=>{let e=class e{constructor(){this.dropdown=U(Lg),this.nativeElement=U($t).nativeElement}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Et({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(r,s){r&2&&(Pr("aria-expanded",s.dropdown.isOpen()),qn("show",s.dropdown.isOpen()))},standalone:!0});let t=e;return t})(),CN=(()=>{let e=class e extends A1{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=ys(e)))(s||e)}})(),e.\u0275dir=Et({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(r,s){r&1&&Ut("click",function(){return s.dropdown.toggle()})("keydown.ArrowUp",function(a){return s.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return s.dropdown.onKeyDown(a)})("keydown.Home",function(a){return s.dropdown.onKeyDown(a)})("keydown.End",function(a){return s.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return s.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return s.dropdown.onKeyDown(a)}),r&2&&(Pr("aria-expanded",s.dropdown.isOpen()),qn("show",s.dropdown.isOpen()))},standalone:!0,features:[Ro([{provide:A1,useExisting:Mr(()=>e)}]),Ci]});let t=e;return t})(),Lg=(()=>{let e=class e{constructor(){this._changeDetector=U(Ji),this._config=U(dq),this._document=U(ft),this._ngZone=U(Te),this._nativeElement=U($t).nativeElement,this._destroyCloseHandlers$=new xe,this._bodyContainer=null,this._positioning=aq(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new Ze}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe(wt(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(i){if(i.container&&this._open&&this._applyContainer(this.container),i.placement&&!i.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:this.container==="body"}),this._applyPlacementClasses()),i.dropdownClass){let{currentValue:r,previousValue:s}=i.dropdownClass;this._applyCustomDropdownClass(r,s)}i.autoClose&&this._open&&(this.autoClose=i.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),this.display==="dynamic"&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:this.container==="body",updatePopperOptions:i=>this.popperOptions(lq([0,2])(i))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Q5(this._ngZone,this._document,this.autoClose,i=>{this.close(),i===0&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(i){let r=i.which,s=this._getMenuElements(),o=-1,a=null,l=this._isEventFromToggle(i);if(!l&&s.length&&s.forEach((c,d)=>{c.contains(i.target)&&(a=c),c===gN(this._document)&&(o=d)}),r===ui.Space||r===ui.Enter){a&&(this.autoClose===!0||this.autoClose==="inside")&&Wt(a,"click").pipe(wt(1)).subscribe(()=>this.close());return}if(r===ui.Tab){if(i.target&&this.isOpen()&&this.autoClose)if(this._anchor.nativeElement===i.target){this.container==="body"&&!i.shiftKey?(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")):i.shiftKey&&this.close();return}else if(this.container==="body"){let c=this._menu.nativeElement.querySelectorAll(bN);i.shiftKey&&i.target===c[0]?(this._anchor.nativeElement.focus(),i.preventDefault()):!i.shiftKey&&i.target===c[c.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Wt(i.target,"focusout").pipe(wt(1)).subscribe(({relatedTarget:c})=>{this._nativeElement.contains(c)||this.close()});return}if(l||a){if(this.open(),s.length){switch(r){case ui.ArrowDown:o=Math.min(o+1,s.length-1);break;case ui.ArrowUp:if(this._isDropup()&&o===-1){o=s.length-1;break}o=Math.max(o-1,0);break;case ui.Home:o=0;break;case ui.End:o=s.length-1;break}s[o].focus()}i.preventDefault()}}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(i){return this._anchor.nativeElement.contains(i.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:i})=>!i).map(({nativeElement:i})=>i):[]}_positionMenu(){let i=this._menu;this.isOpen()&&i&&(this.display==="dynamic"?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(i){return Array.isArray(i)?i[0]:i.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(i=null){if(this._resetContainer(),i==="body"){let r=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||this._document.createElement("div");s.style.position="absolute",r.style.position="static",s.style.zIndex="1055",s.appendChild(r),this._document.body.appendChild(s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(i,r){let s=this.container==="body"?this._bodyContainer:this._nativeElement;s&&(r&&s.classList.remove(r),i&&s.classList.add(i))}_applyPlacementClasses(i){if(this._menu){i||(i=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),this.display==="static"?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");let r=i.search("^top")!==-1?"dropup":"dropdown";this._nativeElement.classList.add(r),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(r))}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Et({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(r,s,o){if(r&1&&(yu(o,L1,5),yu(o,A1,5)),r&2){let a;al(a=ll())&&(s._menu=a.first),al(a=ll())&&(s._anchor=a.first)}},hostVars:2,hostBindings:function(r,s){r&2&&qn("show",s.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[En.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[Ki]});let t=e;return t})();var IN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),hq=(()=>{let e=class e{constructor(){this._ngbConfig=U(pN),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hr=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var SN=(()=>{let e=class e{constructor(){this._document=U(ft)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let l=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${l+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fq=(()=>{let e=class e{constructor(){this._nativeElement=U($t).nativeElement,this._zone=U(Te)}ngOnInit(){this._zone.onStable.asObservable().pipe(wt(1)).subscribe(()=>{Pi(this._zone,this._nativeElement,(i,r)=>{r&&kg(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Pi(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(sl("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),qn("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Po],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),Pg=class{update(e){}close(e){}dismiss(e){}},pq=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],mq=["animation","backdropClass"],O1=class{_applyWindowOptions(e,n){pq.forEach(i=>{Tc(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){mq.forEach(i=>{Tc(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(bt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(bt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new xe,this._dismissed=new xe,this._hidden=new xe,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();mN(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():he(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ua(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},R1=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(R1||{}),gq=(()=>{let e=class e{constructor(){this._document=U(ft),this._elRef=U($t),this._zone=U(Te),this._closed$=new xe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ze,this.shown=new xe,this.hidden=new xe}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":N1(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=Pi(this._zone,i,()=>i.classList.remove("show"),r),o=Pi(this._zone,this._dialogEl.nativeElement,()=>{},r),a=Ua(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=Pi(this._zone,this._elRef.nativeElement,(o,a)=>{a&&kg(o),o.classList.add("show")},i),s=Pi(this._zone,this._dialogEl.nativeElement,()=>{},i);Ua(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Wt(i,"keydown").pipe(bt(this._closed$),tt(s=>s.which===ui.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(R1.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;Wt(this._dialogEl.nativeElement,"mousedown").pipe(bt(this._closed$),Je(()=>r=!1),st(()=>Wt(i,"mouseup").pipe(bt(this._closed$),wt(1))),tt(({target:s})=>i===s)).subscribe(()=>{r=!0}),Wt(i,"click").pipe(bt(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(R1.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=k1(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Pi(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&DS(U5,7),r&2){let o;al(o=ll())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(Pr("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),sl("modal d-block"+(s.windowClass?" "+s.windowClass:"")),qn("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Po],ngContentSelectors:hN,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(y0(),Y(0,"div",1,0)(2,"div",2),_0(3),J()()),r&2&&sl("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),vq=(()=>{let e=class e{constructor(){this._applicationRef=U(Xi),this._injector=U(Kt),this._environmentInjector=U(jt),this._document=U(ft),this._scrollBar=U(SN),this._activeWindowCmptHasChanged=new xe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ze;let i=U(Te);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];EN(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:Tc(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new Pg;i=s.injector||i;let l=i.get(jt,null)||this._environmentInjector,c=this._getContentRef(i,l,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,h=this._attachWindowComponent(o,c.nodes),f=new O1(h,c,d,s.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.hidden.pipe(wt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=p=>{f.close(p)},a.dismiss=p=>{f.dismiss(p)},a.update=p=>{f.update(p)},f.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=No(fq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=No(gq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof Cr?this._createFromTemplateRef(s,o):N1(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new hr([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new hr([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new hr([[r]])}_createFromComponent(i,r,s,o,a){let l=Kt.create({providers:[{provide:Pg,useValue:o}],parent:i}),c=No(s,{environmentInjector:r,elementInjector:l}),d=c.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new hr([[d]],c.hostView,c)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yq=(()=>{let e=class e{constructor(){this._injector=U(Kt),this._modalStack=U(vq),this._config=U(hq)}open(i,r={}){let s=K(Fe(K({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({providers:[yq]});let t=e;return t})();var xN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var AN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var ON=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var RN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var PN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var NN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var kN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var FN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var LN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var xoe=new re("live announcer delay",{providedIn:"root",factory:()=>100});var VN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),_q=(()=>{let e=class e{constructor(){this._ngbConfig=U(pN),this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ng=class{close(e){}dismiss(e){}},P1=class{get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(bt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(bt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._panelCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new xe,this._dismissed=new xe,this._hidden=new xe,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),i&&i.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._panelCmptRef&&(this._closed.next(e),this._resolve(e),this._removeOffcanvasElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeOffcanvasElements()}dismiss(e){if(this._panelCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();mN(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeOffcanvasElements(){let e=this._panelCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():he(void 0);e.subscribe(()=>{let{nativeElement:i}=this._panelCmptRef.location;i.parentNode.removeChild(i),this._panelCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._panelCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ua(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},V1=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(V1||{}),wq=(()=>{let e=class e{constructor(){this._nativeElement=U($t).nativeElement,this._zone=U(Te),this.dismissEvent=new Ze}ngOnInit(){this._zone.onStable.asObservable().pipe(wt(1)).subscribe(()=>{Pi(this._zone,this._nativeElement,(i,r)=>{r&&kg(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Pi(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit(V1.BACKDROP_CLICK)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(r,s){r&1&&Ut("mousedown",function(){return s.dismiss()}),r&2&&(sl("offcanvas-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),qn("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Po],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),bq=(()=>{let e=class e{constructor(){this._document=U(ft),this._elRef=U($t),this._zone=U(Te),this._closed$=new xe,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new Ze,this.shown=new xe,this.hidden=new xe}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let i={animation:this.animation,runningTransition:"stop"},r=Pi(this._zone,this._elRef.nativeElement,s=>(s.classList.remove("showing"),s.classList.add("hiding"),()=>s.classList.remove("show","hiding")),i);return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){let i={animation:this.animation,runningTransition:"continue"};Pi(this._zone,this._elRef.nativeElement,(s,o)=>(o&&kg(s),s.classList.add("show","showing"),()=>s.classList.remove("showing")),i).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Wt(i,"keydown").pipe(bt(this._closed$),tt(r=>r.which===ui.Escape)).subscribe(r=>{this.keyboard&&requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(V1.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=k1(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(r,s){r&2&&(Pr("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),sl("offcanvas offcanvas-"+s.position+(s.panelClass?" "+s.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Po],ngContentSelectors:hN,decls:1,vars:0,template:function(r,s){r&1&&(y0(),_0(0))},encapsulation:2});let t=e;return t})(),Eq=(()=>{let e=class e{constructor(){this._applicationRef=U(Xi),this._injector=U(Kt),this._document=U(ft),this._scrollBar=U(SN),this._activePanelCmptHasChanged=new xe,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new Ze;let i=U(Te);this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&EN(i,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:Tc(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified offcanvas container "${s.container||"body"}" was not found in the DOM.`);s.scroll||this._hideScrollBar();let a=new Ng,l=this._getContentRef(s.injector||i,r,a),c=s.backdrop!==!1?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,l.nodes),h=new P1(d,l,c,s.beforeDismiss);return this._registerOffcanvasRef(h),this._registerPanelCmpt(d),h.hidden.pipe(Ui(()=>this._restoreScrollBar())).subscribe(),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},this._applyPanelOptions(d.instance,s),c&&c.instance&&(this._applyBackdropOptions(c.instance,s),c.changeDetectorRef.detectChanges()),d.changeDetectorRef.detectChanges(),h}get activeInstance(){return this._activeInstance}dismiss(i){this._offcanvasRef?.dismiss(i)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(i){let r=No(wq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=No(bq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyPanelOptions(i,r){this._panelAttributes.forEach(s=>{Tc(r[s])&&(i[s]=r[s])})}_applyBackdropOptions(i,r){this._backdropAttributes.forEach(s=>{Tc(r[s])&&(i[s]=r[s])}),i.static=r.backdrop==="static"}_getContentRef(i,r,s){return r?r instanceof Cr?this._createFromTemplateRef(r,s):N1(r)?this._createFromString(r):this._createFromComponent(i,r,s):new hr([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new hr([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new hr([[r]])}_createFromComponent(i,r,s){let o=Kt.create({providers:[{provide:Ng,useValue:s}],parent:i}),a=No(r,{environmentInjector:this._applicationRef.injector,elementInjector:o}),l=a.location.nativeElement;return this._applicationRef.attachView(a.hostView),new hr([[l]],a.hostView,a)}_registerOffcanvasRef(i){let r=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=i,this._activeInstance.emit(this._offcanvasRef),i.result.then(r,r)}_registerPanelCmpt(i){this._panelCmpt=i,this._activePanelCmptHasChanged.next(),i.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BN=(()=>{let e=class e{constructor(){this._injector=U(Kt),this._offcanvasStack=U(Eq),this._config=U(_q)}open(i,r={}){let s=K(Fe(K({},this._config),{animation:this._config.animation}),r);return this._offcanvasStack.open(this._injector,i,s)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(i){this._offcanvasStack.dismiss(i)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),Dq=[vN,yN,_N,wN,DN,IN,MN,xN,jN,AN,ON,RN,PN,NN,kN,FN,LN,VN],$N=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e}),e.\u0275inj=Ie({imports:[Dq,vN,yN,_N,wN,DN,IN,MN,xN,jN,AN,ON,RN,PN,NN,kN,FN,LN,VN]});let t=e;return t})();function Cq(t,e){if(t&1){let n=vu();Y(0,"li",21)(1,"a",39),Ut("click",function(){Mo(n);let r=Qi(2);return xo(r.logout())}),Y(2,"span",23),Ee(3,"i",40),J(),Y(4,"span",25),ue(5),ae(6,"translate"),ae(7,"async"),J()()()}t&2&&(ye(5),Ve(ce(7,3,ce(6,1,"auth.logout"))))}function Iq(t,e){if(t&1){let n=vu();Y(0,"div",16)(1,"a",8)(2,"div",9),Ee(3,"img",10),Y(4,"h6")(5,"span",11),ue(6,"Money"),J(),ue(7,"Mate"),J()()(),Y(8,"button",17),Ut("click",function(){let r=Mo(n).$implicit;return xo(r.dismiss("Cross click"))}),J()(),Y(9,"div",18)(10,"div",19)(11,"ul",20)(12,"li",21)(13,"a",22)(14,"span",23),Ee(15,"i",24),J(),Y(16,"span",25),ue(17),ae(18,"translate"),ae(19,"async"),J()()(),Y(20,"li",21)(21,"a",22)(22,"span",23),Ee(23,"i",26),J(),Y(24,"span",25),ue(25),ae(26,"translate"),ae(27,"async"),J()()(),Y(28,"li",21)(29,"a",22)(30,"span",23),Ee(31,"i",14),J(),Y(32,"span",25),ue(33),ae(34,"translate"),ae(35,"async"),J()()(),Rr(36,Cq,8,5,"li",27),J()(),Y(37,"div",28)(38,"div",29)(39,"button",30),Ee(40,"i",31),J(),Y(41,"div",32)(42,"button",33),Ut("click",function(){Mo(n);let r=Qi();return xo(r.set_lang("en"))}),ue(43,"English"),J(),Y(44,"button",33),Ut("click",function(){Mo(n);let r=Qi();return xo(r.set_lang("fa"))}),ue(45,"Farsi"),J()()(),Y(46,"div",34)(47,"button",35),Ee(48,"i",36),J(),Y(49,"div",37)(50,"button",38),ue(51,"Dark"),J(),Y(52,"button",38),ue(53,"Light"),J()()()()()}if(t&2){let n=Qi();ye(17),Ve(ce(19,6,ce(18,4,"menu.home"))),ye(8),Ve(ce(27,10,ce(26,8,"menu.profile"))),ye(8),Ve(ce(35,14,ce(34,12,"menu.settings"))),ye(3),Pn("ngIf",n.isAuthenticated)}}var UN=(()=>{let e=class e{constructor(i,r){this.translationService=i,this.authService=r,this.isAuthenticated=!1,this.offcanvasService=U(BN)}ngOnInit(){console.log(this.isAuthenticated),this.userSub=this.authService.user.subscribe(i=>{console.log(i),this.isAuthenticated=!!i})}logout(){this.authService.logout(),this.router.navigate(["home"])}set_lang(i){this.translationService.setLanguage(i)}openMenu(i){this.offcanvasService.open(i,{position:"start"})}ngOnDestroy(){this.userSub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(Pe(Dl),Pe(vc))},e.\u0275cmp=dt({type:e,selectors:[["app-header"]],decls:20,vars:0,consts:[["menuOffcanvas",""],[1,"header","w-100","position-fixed"],[1,"container"],[1,"row","w-100","justify-content-between","align-items-center","g-0"],[1,"col-2"],[1,"btn",3,"click"],[1,"bi","bi-list"],[1,"col-8","text-center"],["href","",1,"d-block","text-center"],[1,"logo","d-flex","align-items-center","gap-2","w-100","justify-content-center","p-2"],["src","assets/images/logo.svg","alt",""],[1,"text-secondary","fw-light"],[1,"col-2","text-center"],["href","","target","_self",1,"btn"],[1,"bi","bi-gear"],[1,"count-indicator"],[1,"offcanvas-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body","position-relative","h-100"],[1,"menu-list","px-1"],[1,"list-unstyled"],[1,"menu-item"],["href","",1,"d-block"],[1,"icon"],[1,"bi","bi-house"],[1,"menu-title"],[1,"bi","bi-person"],["class"," menu-item",4,"ngIf"],[1,"offcanvas-btns","d-flex","justify-content-between","position-absolute","w-100","bottom-0","start-0","p-3"],["ngbDropdown","","placement","top-start",1,"d-inline-block"],["type","button","id","languageSelection","ngbDropdownToggle","",1,"btn","text-primary"],[1,"bi","bi-globe2"],["ngbDropdownMenu","","aria-labelledby","languageSelection",1,"w-auto"],["ngbDropdownItem","",3,"click"],["ngbDropdown","","placement","top-end",1,"d-inline-block"],["type","button","id","ThemeSelection","ngbDropdownToggle","",1,"btn","text-primary"],[1,"bi","bi-brightness-high"],["ngbDropdownMenu","","aria-labelledby","ThemeSelection",1,"w-auto"],["ngbDropdownItem",""],[1,"d-block",3,"click"],[1,"bi","bi-box-arrow-right"]],template:function(r,s){if(r&1){let o=vu();Y(0,"header",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),Ut("click",function(){Mo(o);let l=w0(19);return xo(s.openMenu(l))}),Ee(5,"i",6),J()(),Y(6,"div",7)(7,"a",8)(8,"div",9),Ee(9,"img",10),Y(10,"h6")(11,"span",11),ue(12,"Money"),J(),ue(13,"Mate"),J()()()(),Y(14,"div",12)(15,"a",13),Ee(16,"i",14)(17,"span",15),J()()()()(),Rr(18,Iq,54,16,"ng-template",null,0,b0)}},dependencies:[dl,Lg,CN,L1,Fg,TN,Nn,kn],styles:[".header[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);z-index:100}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2em}.header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1.2rem}.menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1em;border-radius:8px;padding:.5em}.menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   span.menu-title[_ngcontent-%COMP%]{text-decoration:underline;line-height:1.5}.menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.3em .5em;background:var(--gradient);color:#fff;border-radius:8px;font-size:1rem;margin-inline-end:1em}"]});let t=e;return t})();var zN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["app-footer"]],decls:39,vars:20,consts:[[1,"footer"],[1,"container"],[1,"nav","nav-pills","nav-justified"],[1,"nav-item"],["href","",1,"nav-link"],[1,"nav-icon","bi","bi-gear"],[1,"nav-text"],[1,"nav-icon","bi","bi-bar-chart"],[1,"nav-item","centerbutton"],["type","button","data-bs-toggle","modal","data-bs-target","#menumodal","id","centermenubtn",1,"nav-link"],[1,"theme-radial-gradient"],[1,"bi","bi-house","size-22"],[1,"nav-icon","bi","bi-bag"],["href","",1,"nav-link","active"],[1,"nav-icon","bi","bi-wallet2"]],template:function(r,s){r&1&&(Y(0,"footer",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"span"),Ee(6,"i",5),Y(7,"span",6),ue(8),ae(9,"translate"),ae(10,"async"),J()()()(),Y(11,"li",3)(12,"a",4)(13,"span"),Ee(14,"i",7),Y(15,"span",6),ue(16),ae(17,"translate"),ae(18,"async"),J()()()(),Y(19,"li",8)(20,"button",9)(21,"span",10),Ee(22,"i",11),J()()(),Y(23,"li",3)(24,"a",4)(25,"span"),Ee(26,"i",12),Y(27,"span",6),ue(28),ae(29,"translate"),ae(30,"async"),J()()()(),Y(31,"li",3)(32,"a",13)(33,"span"),Ee(34,"i",14),Y(35,"span",6),ue(36),ae(37,"translate"),ae(38,"async"),J()()()()()()()),r&2&&(ye(8),Ve(ce(10,6,ce(9,4,"menu.settings"))),ye(8),Ve(ce(18,10,ce(17,8,"menu.statistics"))),ye(12),Ve(ce(30,14,ce(29,12,"menu.planes"))),ye(8),Ve(ce(38,18,ce(37,16,"menu.wallet"))))},dependencies:[Nn,kn],styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;z-index:9;border-radius:5px 5px 0 0;background-color:var(--bs-body-bg);box-shadow:0 -5px 10px #00000012;-moz-box-shadow:0px -5px 10px rgba(0,0,0,.07);-webkt-box-shadow:0px -5px 10px rgba(0,0,0,.07)}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{align-items:center;max-width:480px;margin:0 auto}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{height:60px}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-align:center;background:transparent;align-self:center;-webkit-align-self:center;-moz-align-self:center;height:100%;line-height:44px;padding:5px}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:20px;display:inline-block;vertical-align:middle}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:17px;height:20px;line-height:20px;width:20px;display:inline-block;margin:0 auto}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{font-size:10px;line-height:15px;display:block}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--indigo-dye)}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item.centerbutton[_ngcontent-%COMP%]{padding:10px;transition:none}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item.centerbutton[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{position:relative;padding:8px;height:76px;width:76px;margin:-30px auto 0;transition:none}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item.centerbutton[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{height:50px;line-height:50px;width:50px;border-radius:10px;transform:rotate(45deg);-webkit-transform:rotate(45deg);margin:0 auto;background:var(--gradient);color:#fff;box-shadow:0 5px 10px #00000026;-moz-box-shadow:0px 5px 10px rgba(0,0,0,.15);-webkt-box-shadow:0px 5px 10px rgba(0,0,0,.15)}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item.centerbutton[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(-45deg);-webkit-transform:rotate(-45deg);display:inline-block}.footer[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item.centerbutton[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(0);-webkit-transform:rotate(0deg)}"]});let t=e;return t})();var GN=(()=>{let e=class e{constructor(){this.title="moneymate"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"]],template:function(r,s){r&1&&(Ee(0,"app-header"),Y(1,"main")(2,"div",0),Ee(3,"router-outlet"),J()(),Ee(4,"app-footer"))},dependencies:[A_,UN,zN],styles:["main[_ngcontent-%COMP%]{min-height:calc(100dvh - 150px);padding-top:65px;padding-bottom:70px;overflow-x:hidden}"]});let t=e;return t})();var HN={production:!1,firebaseConfig:{apiKey:"AIzaSyB_akkexqHlxGMSiAFC2uro0uNmQQxVQ-0",authDomain:"moneymate-83cdf.firebaseapp.com",projectId:"moneymate-83cdf",storageBucket:"moneymate-83cdf.appspot.com",messagingSenderId:"187782230521",appId:"1:187782230521:web:e0a2aa81944feacfafcd28"}};var qN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Se({type:e,bootstrap:[GN]}),e.\u0275inj=Ie({providers:[Dl,Tg,yc],imports:[_M,YP,cM,$N,zx,oA.initializeApp(HN.firebaseConfig),aA,GP]});let t=e;return t})();function WN(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function B1(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:WN(e[n])&&WN(t[n])&&Object.keys(e[n]).length>0&&B1(t[n],e[n])})}var YN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function lt(){let t=typeof document<"u"?document:{};return B1(t,YN),t}var xq={document:YN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Xe(){let t=typeof window<"u"?window:{};return B1(t,xq),t}function Xr(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function KN(t){let e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ni(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Mn(){return Date.now()}function Aq(t){let e=Xe(),n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function nh(t,e){e===void 0&&(e="x");let n=Xe(),i,r,s,o=Aq(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Cc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Oq(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Vn(){let t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){let i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!Oq(i)){let r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){let a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(Cc(t[a])&&Cc(i[a])?i[a].__swiper__?t[a]=i[a]:Vn(t[a],i[a]):!Cc(t[a])&&Cc(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:Vn(t[a],i[a])):t[a]=i[a])}}}return t}function Ea(t,e,n){t.style.setProperty(e,n)}function j1(t){let{swiper:e,targetPosition:n,side:i}=t,r=Xe(),s=-e.translate,o=null,a,l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);let c=n>s?"next":"prev",d=(f,p)=>c==="next"&&f>=p||c==="prev"&&f<=p,h=()=>{a=new Date().getTime(),o===null&&(o=a);let f=Math.max(Math.min((a-o)/l,1),0),p=.5-Math.cos(f*Math.PI)/2,y=s+p*(n-s);if(d(y,n)&&(y=n),e.wrapperEl.scrollTo({[i]:y}),d(y,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:y})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(h)};h()}function Bn(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function gt(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function ih(t){try{console.warn(t);return}catch{}}function Lt(t,e){e===void 0&&(e=[]);let n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Xr(e)),n}function Da(t){let e=Xe(),n=lt(),i=t.getBoundingClientRect(),r=n.body,s=t.clientTop||r.clientTop||0,o=t.clientLeft||r.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:i.top+a-s,left:i.left+l-o}}function QN(t,e){let n=[];for(;t.previousElementSibling;){let i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function XN(t,e){let n=[];for(;t.nextElementSibling;){let i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Jr(t,e){return Xe().getComputedStyle(t,null).getPropertyValue(e)}function Zs(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function ki(t,e){let n=[],i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function eo(t,e){function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function rh(t,e,n){let i=Xe();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function Oe(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}var $1;function Rq(){let t=Xe(),e=lt();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function nk(){return $1||($1=Rq()),$1}var U1;function Pq(t){let{userAgent:e}=t===void 0?{}:t,n=nk(),i=Xe(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/),d=s.match(/(iPad).*OS\s([\d_]+)/),h=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32",y=r==="MacIntel",w=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&n.touch&&w.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),c&&!p&&(o.os="android",o.android=!0),(d||f||h)&&(o.os="ios",o.ios=!0),o}function ik(t){return t===void 0&&(t={}),U1||(U1=Pq(t)),U1}var z1;function Nq(){let t=Xe(),e=ik(),n=!1;function i(){let a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){let a=String(t.navigator.userAgent);if(a.includes("Version/")){let[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&c<2}}let r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),o=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function kq(){return z1||(z1=Nq()),z1}function Fq(t){let{swiper:e,on:n,emit:i}=t,r=Xe(),s=null,o=null,a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=r.requestAnimationFrame(()=>{let{width:f,height:p}=e,y=f,w=p;h.forEach(_=>{let{contentBoxSize:g,contentRect:C,target:b}=_;b&&b!==e.el||(y=C?C.width:(g[0]||g).inlineSize,w=C?C.height:(g[0]||g).blockSize)}),(y!==f||w!==p)&&a()})}),s.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function Lq(t){let{swiper:e,extendParams:n,on:i,emit:r}=t,s=[],o=Xe(),a=function(d,h){h===void 0&&(h={});let f=o.MutationObserver||o.WebkitMutationObserver,p=new f(y=>{if(e.__preventObserver__)return;if(y.length===1){r("observerUpdate",y[0]);return}let w=function(){r("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(w):o.setTimeout(w,0)});p.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){let d=ki(e.hostEl);for(let h=0;h<d.length;h+=1)a(d[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var Vq={on(t,e,n){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;let r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){let n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;let i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){let n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){let t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),t}};function Bq(){let t=this,e,n,i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Jr(i,"padding-left")||0,10)-parseInt(Jr(i,"padding-right")||0,10),n=n-parseInt(Jr(i,"padding-top")||0,10)-parseInt(Jr(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function jq(){let t=this;function e(I,O){return parseFloat(I.getPropertyValue(t.getDirectionLabel(O))||0)}let n=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=gt(r,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length,f=[],p=[],y=[],w=n.slidesOffsetBefore;typeof w=="function"&&(w=n.slidesOffsetBefore.call(t));let _=n.slidesOffsetAfter;typeof _=="function"&&(_=n.slidesOffsetAfter.call(t));let g=t.snapGrid.length,C=t.slidesGrid.length,b=n.spaceBetween,x=-w,R=0,P=0;if(typeof s>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*s:typeof b=="string"&&(b=parseFloat(b)),t.virtualSize=-b,d.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Ea(i,"--swiper-centered-offset-before",""),Ea(i,"--swiper-centered-offset-after",""));let A=n.grid&&n.grid.rows>1&&t.grid;A?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let E,D=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(I=>typeof n.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<h;I+=1){E=0;let O;if(d[I]&&(O=d[I]),A&&t.grid.updateSlide(I,O,d),!(d[I]&&Jr(O,"display")==="none")){if(n.slidesPerView==="auto"){D&&(d[I].style[t.getDirectionLabel("width")]="");let M=getComputedStyle(O),T=O.style.transform,k=O.style.webkitTransform;if(T&&(O.style.transform="none"),k&&(O.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?rh(O,"width",!0):rh(O,"height",!0);else{let H=e(M,"width"),ie=e(M,"padding-left"),F=e(M,"padding-right"),$=e(M,"margin-left"),Z=e(M,"margin-right"),ve=M.getPropertyValue("box-sizing");if(ve&&ve==="border-box")E=H+$+Z;else{let{clientWidth:W,offsetWidth:Q}=O;E=H+ie+F+$+Z+(Q-W)}}T&&(O.style.transform=T),k&&(O.style.webkitTransform=k),n.roundLengths&&(E=Math.floor(E))}else E=(s-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),d[I]&&(d[I].style[t.getDirectionLabel("width")]=`${E}px`);d[I]&&(d[I].swiperSlideSize=E),y.push(E),n.centeredSlides?(x=x+E/2+R/2+b,R===0&&I!==0&&(x=x-s/2-b),I===0&&(x=x-s/2-b),Math.abs(x)<1/1e3&&(x=0),n.roundLengths&&(x=Math.floor(x)),P%n.slidesPerGroup===0&&f.push(x),p.push(x)):(n.roundLengths&&(x=Math.floor(x)),(P-Math.min(t.params.slidesPerGroupSkip,P))%t.params.slidesPerGroup===0&&f.push(x),p.push(x),x=x+E+b),t.virtualSize+=E+b,R=E,P+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+_,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+b}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+b}px`),A&&t.grid.updateWrapperSize(E,f),!n.centeredSlides){let I=[];for(let O=0;O<f.length;O+=1){let M=f[O];n.roundLengths&&(M=Math.floor(M)),f[O]<=t.virtualSize-s&&I.push(M)}f=I,Math.floor(t.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-s)}if(l&&n.loop){let I=y[0]+b;if(n.slidesPerGroup>1){let O=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),M=I*n.slidesPerGroup;for(let T=0;T<O;T+=1)f.push(f[f.length-1]+M)}for(let O=0;O<t.virtual.slidesBefore+t.virtual.slidesAfter;O+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+I),p.push(p[p.length-1]+I),t.virtualSize+=I}if(f.length===0&&(f=[0]),b!==0){let I=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((O,M)=>!n.cssMode||n.loop?!0:M!==d.length-1).forEach(O=>{O.style[I]=`${b}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let I=0;y.forEach(M=>{I+=M+(b||0)}),I-=b;let O=I-s;f=f.map(M=>M<=0?-w:M>O?O+_:M)}if(n.centerInsufficientSlides){let I=0;y.forEach(M=>{I+=M+(b||0)}),I-=b;let O=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(I+O<s){let M=(s-I-O)/2;f.forEach((T,k)=>{f[k]=T-M}),p.forEach((T,k)=>{p[k]=T+M})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Ea(i,"--swiper-centered-offset-before",`${-f[0]}px`),Ea(i,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);let I=-t.snapGrid[0],O=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(M=>M+I),t.slidesGrid=t.slidesGrid.map(M=>M+O)}if(h!==c&&t.emit("slidesLengthChange"),f.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==C&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){let I=`${n.containerModifierClass}backface-hidden`,O=t.el.classList.contains(I);h<=n.maxBackfaceHiddenSlides?O||t.el.classList.add(I):O&&t.el.classList.remove(I)}}function $q(t){let e=this,n=[],i=e.virtual&&e.params.virtual.enabled,r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);let o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){let a=e.activeIndex+s;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){let a=n[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Uq(){let t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}var JN=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function zq(t){t===void 0&&(t=this&&this.translate||0);let e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){let c=i[l],d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=i[0].swiperSlideOffset);let h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),f=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=-(o-d),y=p+e.slidesSizesGrid[l],w=p>=0&&p<=e.size-e.slidesSizesGrid[l],_=p>=0&&p<e.size-1||y>1&&y<=e.size||p<=0&&y>=e.size;_&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),JN(c,_,n.slideVisibleClass),JN(c,w,n.slideFullyVisibleClass),c.progress=r?-h:h,c.originalProgress=r?-f:f}}function Gq(t){let e=this;if(typeof t>"u"){let d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}let n=e.params,i=e.maxTranslate()-e.minTranslate(),{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e,l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(t-e.minTranslate())/i;let d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=d||r<=0,o=h||r>=1,d&&(r=0),h&&(r=1)}if(n.loop){let d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],p=e.slidesGrid[h],y=e.slidesGrid[e.slidesGrid.length-1],w=Math.abs(t);w>=f?a=(w-f)/y:a=(w+y-p)/y,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}var G1=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Hq(){let t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>gt(i,`.${n.slideClass}${h}, swiper-slide${h}`)[0],l,c,d;if(s)if(n.loop){let h=r-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=e.filter(h=>h.column===r)[0],d=e.filter(h=>h.column===r+1)[0],c=e.filter(h=>h.column===r-1)[0]):l=e[r];l&&(o||(d=XN(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=QN(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(h=>{G1(h,h===l,n.slideActiveClass),G1(h,h===d,n.slideNextClass),G1(h,h===c,n.slidePrevClass)}),t.emitSlidesClasses()}var Vg=(t,e)=>{if(!t||t.destroyed||!t.params)return;let n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},H1=(t,e)=>{if(!t.slides[e])return;let n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Y1=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext,n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);let i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){let o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&H1(t,c)});return}let s=r+i-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=s+e;o+=1){let a=(o%n+n)%n;(a<r||a>s)&&H1(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,n-1);o+=1)o!==r&&(o>s||o<r)&&H1(t,o)};function qq(t){let{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate,r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function Wq(t){let e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e,l=t,c,d=p=>{let y=p-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof l>"u"&&(l=qq(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{let p=Math.min(r.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}let h=e.grid&&r.grid&&r.grid.rows>1,f;if(e.virtual&&r.virtual.enabled&&r.loop)f=d(l);else if(h){let p=e.slides.filter(w=>w.column===l)[0],y=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(p),0)),f=Math.floor(y/r.grid.rows)}else if(e.slides[l]){let p=e.slides[l].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:s,activeIndex:l}),e.initialized&&Y1(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function Yq(t,e){let n=this,i=n.params,r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Kq={updateSize:Bq,updateSlides:jq,updateAutoHeight:$q,updateSlidesOffset:Uq,updateSlidesProgress:zq,updateProgress:Gq,updateSlidesClasses:Hq,updateActiveIndex:Wq,updateClickedSlide:Yq};function Qq(t){t===void 0&&(t=this.isHorizontal()?"x":"y");let e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=nh(s,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function Xq(t,e){let n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n,a=0,l=0,c=0;n.isHorizontal()?a=i?-t:t:l=t,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d,h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Jq(){return-this.snapGrid[0]}function Zq(){return-this.snapGrid[this.snapGrid.length-1]}function e8(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);let s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;let l=s.minTranslate(),c=s.maxTranslate(),d;if(i&&t>l?d=l:i&&t<c?d=c:d=t,s.updateProgress(d),o.cssMode){let h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return j1({swiper:s,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var t8={getTranslate:Qq,setTranslate:Xq,minTranslate:Jq,maxTranslate:Zq,translateTo:e8};function n8(t,e){let n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function rk(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t,{activeIndex:s,previousIndex:o}=e,a=i;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${r}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function i8(t,e){t===void 0&&(t=!0);let n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),rk({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function r8(t,e){t===void 0&&(t=!0);let n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),rk({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var s8={setTransition:n8,transitionStart:i8,transitionEnd:r8};function o8(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));let s=this,o=t;o<0&&(o=0);let{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:y}=s;if(!y&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);let w=Math.min(s.params.slidesPerGroupSkip,o),_=w+Math.floor((o-w)/s.params.slidesPerGroup);_>=l.length&&(_=l.length-1);let g=-l[_];if(a.normalizeSlideIndex)for(let b=0;b<c.length;b+=1){let x=-Math.floor(g*100),R=Math.floor(c[b]*100),P=Math.floor(c[b+1]*100);typeof c[b+1]<"u"?x>=R&&x<P-(P-R)/2?o=b:x>=R&&x<P&&(o=b+1):x>=R&&(o=b)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(f?g>s.translate&&g>s.minTranslate():g<s.translate&&g<s.minTranslate())||!s.allowSlidePrev&&g>s.translate&&g>s.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(g);let C;if(o>h?C="next":o<h?C="prev":C="reset",f&&-g===s.translate||!f&&g===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(g),C!=="reset"&&(s.transitionStart(n,C),s.transitionEnd(n,C)),!1;if(a.cssMode){let b=s.isHorizontal(),x=f?g:-g;if(e===0){let R=s.virtual&&s.params.virtual.enabled;R&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),R&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[b?"scrollLeft":"scrollTop"]=x})):p[b?"scrollLeft":"scrollTop"]=x,R&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return j1({swiper:s,targetPosition:x,side:b?"left":"top"}),!0;p.scrollTo({[b?"left":"top"]:x,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(g),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,C),e===0?s.transitionEnd(n,C):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(x){!s||s.destroyed||x.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,C))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function a8(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));let r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);let s=r.grid&&r.params.grid&&r.params.grid.rows>1,o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){let f=o*r.params.grid.rows;a=r.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=r.getSlideIndexByData(o);let l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params,d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let h=l-a<d;if(c&&(h=h||a<Math.ceil(d/2)),i&&c&&r.params.slidesPerView!=="auto"&&!s&&(h=!1),h){let f=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?r.realIndex:void 0})}if(s){let f=o*r.params.grid.rows;o=r.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,i)}),r}function l8(t,e,n){e===void 0&&(e=!0);let i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));let l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function c8(t,e,n){e===void 0&&(e=!0);let i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let d=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}let h=a?i.translate:-i.translate;function f(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}let p=f(h),y=s.map(g=>f(g)),w=s[y.indexOf(p)-1];if(typeof w>"u"&&r.cssMode){let g;s.forEach((C,b)=>{p>=C&&(g=b)}),typeof g<"u"&&(w=s[g>0?g-1:g])}let _=0;if(typeof w<"u"&&(_=o.indexOf(w),_<0&&(_=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(_=_-i.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),r.rewind&&i.isBeginning){let g=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(g,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(_,t,e,n)}),!0;return i.slideTo(_,t,e,n)}function u8(t,e,n){e===void 0&&(e=!0);let i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function d8(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);let r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex,o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){let c=r.snapGrid[a],d=r.snapGrid[a+1];l-c>(d-c)*i&&(s+=r.params.slidesPerGroup)}else{let c=r.snapGrid[a-1],d=r.snapGrid[a];l-c<=(d-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function h8(){let t=this;if(t.destroyed)return;let{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView,r=t.clickedIndex,s,o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(gt(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Ni(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(gt(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Ni(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var f8={slideTo:o8,slideToLoop:a8,slideNext:l8,slidePrev:c8,slideReset:u8,slideToClosest:d8,slideToClickedSlide:h8};function p8(t){let e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;let r=()=>{gt(i,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=e.slides.length%o!==0,l=s&&e.slides.length%n.grid.rows!==0,c=d=>{for(let h=0;h<d;h+=1){let f=e.isElement?Lt("swiper-slide",[n.slideBlankClass]):Lt("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){let d=o-e.slides.length%o;c(d),e.recalcSlides(),e.updateSlides()}else ih("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(n.loopAddBlankSlides){let d=n.grid.rows-e.slides.length%n.grid.rows;c(d),e.recalcSlides(),e.updateSlides()}else ih("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function m8(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t,l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");let{slides:c,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:p}=l,{centeredSlides:y}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=h,l.emit("loopFix");return}let w=p.slidesPerView;w==="auto"?w=l.slidesPerViewDynamic():(w=Math.ceil(parseFloat(p.slidesPerView,10)),y&&w%2===0&&(w=w+1));let _=p.slidesPerGroupAuto?w:p.slidesPerGroup,g=_;g%_!==0&&(g+=_-g%_),g+=p.loopAdditionalSlides,l.loopedSlides=g;let C=l.grid&&p.grid&&p.grid.rows>1;c.length<w+g?ih("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):C&&p.grid.fill==="row"&&ih("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let b=[],x=[],R=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(c.filter(T=>T.classList.contains(p.slideActiveClass))[0]):R=s;let P=i==="next"||!i,A=i==="prev"||!i,E=0,D=0,I=C?Math.ceil(c.length/p.grid.rows):c.length,M=(C?c[s].column:s)+(y&&typeof r>"u"?-w/2+.5:0);if(M<g){E=Math.max(g-M,_);for(let T=0;T<g-M;T+=1){let k=T-Math.floor(T/I)*I;if(C){let H=I-k-1;for(let ie=c.length-1;ie>=0;ie-=1)c[ie].column===H&&b.push(ie)}else b.push(I-k-1)}}else if(M+w>I-g){D=Math.max(M-(I-g*2),_);for(let T=0;T<D;T+=1){let k=T-Math.floor(T/I)*I;C?c.forEach((H,ie)=>{H.column===k&&x.push(ie)}):x.push(k)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),A&&b.forEach(T=>{c[T].swiperLoopMoveDOM=!0,f.prepend(c[T]),c[T].swiperLoopMoveDOM=!1}),P&&x.forEach(T=>{c[T].swiperLoopMoveDOM=!0,f.append(c[T]),c[T].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():C&&(b.length>0&&A||x.length>0&&P)&&l.slides.forEach((T,k)=>{l.grid.updateSlide(k,T,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),n){if(b.length>0&&A){if(typeof e>"u"){let T=l.slidesGrid[R],H=l.slidesGrid[R+E]-T;a?l.setTranslate(l.translate-H):(l.slideTo(R+Math.ceil(E),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-H,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-H))}else if(r){let T=C?b.length/p.grid.rows:b.length;l.slideTo(l.activeIndex+T,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(x.length>0&&P)if(typeof e>"u"){let T=l.slidesGrid[R],H=l.slidesGrid[R-D]-T;a?l.setTranslate(l.translate-H):(l.slideTo(R-D,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-H,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-H))}else{let T=C?x.length/p.grid.rows:x.length;l.slideTo(l.activeIndex-T,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=h,l.controller&&l.controller.control&&!o){let T={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(k=>{!k.destroyed&&k.params.loop&&k.loopFix(Fe(K({},T),{slideTo:k.params.slidesPerView===p.slidesPerView?n:!1}))}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(Fe(K({},T),{slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?n:!1}))}l.emit("loopFix")}function g8(){let t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();let i=[];t.slides.forEach(r=>{let s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var v8={loopCreate:p8,loopFix:m8,loopDestroy:g8};function y8(t){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function _8(){let t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var w8={setGrabCursor:y8,unsetGrabCursor:_8};function b8(t,e){e===void 0&&(e=this);function n(i){if(!i||i===lt()||i===Xe())return null;i.assignedSlot&&(i=i.assignedSlot);let r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function ZN(t,e,n){let i=Xe(),{params:r}=t,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(n<=o||n>=i.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function E8(t){let e=this,n=lt(),i=t;i.originalEvent&&(i=i.originalEvent);let r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){ZN(e,i,i.targetTouches[0].pageX);return}let{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(l)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;let c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);let h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(f?b8(h,l):l.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;let p=o.currentX,y=o.currentY;if(!ZN(e,i,p))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=y,r.touchStartTime=Mn(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let w=!0;l.matches(r.focusableElements)&&(w=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();let _=w&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||_)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function D8(t){let e=lt(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(P=>P.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}let d=c.pageX,h=c.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h}),i.touchStartTime=Mn());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=h;let f=s.currentX-s.startX,p=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let P;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:f*f+p*p>=25&&(P=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,i.isScrolling=n.isHorizontal()?P>r.touchAngle:90-P>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let y=n.isHorizontal()?f:p,w=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),w=Math.abs(w)*(o?1:-1)),s.diff=y,y*=r.touchRatio,o&&(y=-y,w=-w);let _=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=w>0?"prev":"next";let g=n.params.loop&&!r.cssMode,C=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(g&&C&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){let P=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(P)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let b;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&_!==n.touchesDirection&&g&&C&&Math.abs(y)>=1){Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let x=!0,R=r.resistanceRatio;if(r.touchReleaseOnEdges&&(R=0),y>0?(g&&C&&!b&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(x=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+y)**R))):y<0&&(g&&C&&!b&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(x=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-y)**R))),x&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(y)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function T8(t){let e=this,n=e.touchEventsData,i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].filter(R=>R.identifier===n.touchId)[0],!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;let{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let h=Mn(),f=h-n.touchStartTime;if(e.allowClick){let R=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(R&&R[0]||i.target,R),e.emit("tap click",i),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Mn(),Ni(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=l?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}let y=p>=-e.maxTranslate()&&!e.params.loop,w=0,_=e.slidesSizesGrid[0];for(let R=0;R<c.length;R+=R<o.slidesPerGroupSkip?1:o.slidesPerGroup){let P=R<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[R+P]<"u"?(y||p>=c[R]&&p<c[R+P])&&(w=R,_=c[R+P]-c[R]):(y||p>=c[R])&&(w=R,_=c[c.length-1]-c[c.length-2])}let g=null,C=null;o.rewind&&(e.isBeginning?C=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(g=0));let b=(p-c[w])/_,x=w<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(b>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?g:w+x):e.slideTo(w)),e.swipeDirection==="prev"&&(b>1-o.longSwipesRatio?e.slideTo(w+x):C!==null&&b<0&&Math.abs(b)>o.longSwipesRatio?e.slideTo(C):e.slideTo(w))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(w+x):e.slideTo(w):(e.swipeDirection==="next"&&e.slideTo(g!==null?g:w+x),e.swipeDirection==="prev"&&e.slideTo(C!==null?C:w))}}function ek(){let t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();let a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function C8(t){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function I8(){let t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r,s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function S8(t){let e=this;Vg(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function M8(){let t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}var sk=(t,e)=>{let n=lt(),{params:i,el:r,wrapperEl:s,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",t.onTouchStart,{passive:!1}),r[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",t.onClick,!0),i.cssMode&&s[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",ek,!0):t[c]("observerUpdate",ek,!0),r[l]("load",t.onLoad,{capture:!0}))};function x8(){let t=this,{params:e}=t;t.onTouchStart=E8.bind(t),t.onTouchMove=D8.bind(t),t.onTouchEnd=T8.bind(t),t.onDocumentTouchStart=M8.bind(t),e.cssMode&&(t.onScroll=I8.bind(t)),t.onClick=C8.bind(t),t.onLoad=S8.bind(t),sk(t,"on")}function A8(){sk(this,"off")}var O8={attachEvents:x8,detachEvents:A8},tk=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function R8(){let t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;let o=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;let l=(o in s?s[o]:void 0)||t.originalParams,c=tk(t,i),d=tk(t,l),h=t.params.grabCursor,f=l.grabCursor,p=i.enabled;c&&!d?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&d&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),h&&!f?t.unsetGrabCursor():!h&&f&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(b=>{if(typeof l[b]>"u")return;let x=i[b]&&i[b].enabled,R=l[b]&&l[b].enabled;x&&!R&&t[b].disable(),!x&&R&&t[b].enable()});let y=l.direction&&l.direction!==i.direction,w=i.loop&&(l.slidesPerView!==i.slidesPerView||y),_=i.loop;y&&n&&t.changeDirection(),Vn(t.params,l);let g=t.params.enabled,C=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),p&&!g?t.disable():!p&&g&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",l),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!_&&C?(t.loopCreate(e),t.updateSlides()):_&&!C&&t.loopDestroy()),t.emit("breakpoint",l)}function P8(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1,r=Xe(),s=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){let l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){let{point:l,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var N8={setBreakpoint:R8,getBreakpoint:P8};function k8(t,e){let n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function F8(){let t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,o=k8(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function L8(){let t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var V8={addClasses:F8,removeClasses:L8};function B8(){let t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){let r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var j8={checkOverflow:B8},Bg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function $8(t,e){return function(i){i===void 0&&(i={});let r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){Vn(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){Vn(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Vn(e,i)}}var q1={eventsEmitter:Vq,update:Kq,translate:t8,transition:s8,slide:f8,loop:v8,grabCursor:w8,events:O8,breakpoints:N8,checkOverflow:j8,classes:V8},W1={},to=class t{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=Vn({},n),e&&!n.el&&(n.el=e);let o=lt();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){let d=[];return o.querySelectorAll(n.el).forEach(h=>{let f=Vn({},n,{el:h});d.push(new t(f))}),d}let a=this;a.__swiper__=!0,a.support=nk(),a.device=ik({userAgent:n.userAgent}),a.browser=kq(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);let l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:$8(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});let c=Vn({},Bg,l);return a.params=Vn({},c,W1,n),a.originalParams=Vn({},a.params),a.passedParams=Vn({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:n,params:i}=this,r=gt(n,`.${i.slideClass}, swiper-slide`),s=Zs(r[0]);return Zs(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){let e=this,{slidesEl:n,params:i}=e;e.slides=gt(n,`.${i.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){let i=this;e=Math.min(Math.max(e,0),1);let r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){let n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let n=[];e.slides.forEach(i=>{let r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);let i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i,d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let h=s[c]?Math.ceil(s[c].swiperSlideSize):0,f;for(let p=c+1;p<s.length;p+=1)s[p]&&!f&&(h+=Math.ceil(s[p].swiperSlideSize),d+=1,h>l&&(f=!0));for(let p=c-1;p>=0;p-=1)s[p]&&!f&&(h+=s[p].swiperSlideSize,d+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<s.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(d+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(d+=1);return d}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Vg(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){let o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){let o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);let i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){let n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){let n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);let r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`,o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):gt(i,r())[0];return!o&&n.params.createElements&&(o=Lt("div",n.params.wrapperClass),i.append(o),gt(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Jr(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Jr(i,"direction")==="rtl"),wrongRTL:Jr(o,"display")==="-webkit-box"}),!0}init(e){let n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();let r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Vg(n,s):s.addEventListener("load",o=>{Vg(n,o.target)})}),Y1(n),n.initialized=!0,Y1(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);let i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),KN(i)),i.destroyed=!0),null}static extendDefaults(e){Vn(W1,e)}static get extendedDefaults(){return W1}static get defaults(){return Bg}static installModule(e){t.prototype.__modules__||(t.prototype.__modules__=[]);let n=t.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>t.installModule(n)),t):(t.installModule(e),t)}};Object.keys(q1).forEach(t=>{Object.keys(q1[t]).forEach(e=>{to.prototype[e]=q1[t][e]})});to.use([Fq,Lq]);function ok(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let s,o=lt();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};let a=o.createElement("div");function l(y,w){let _=e.params.virtual;if(_.cache&&e.virtual.cache[w])return e.virtual.cache[w];let g;return _.renderSlide?(g=_.renderSlide.call(e,y,w),typeof g=="string"&&(a.innerHTML=g,g=a.children[0])):e.isElement?g=Lt("swiper-slide"):g=Lt("div",e.params.slideClass),g.setAttribute("data-swiper-slide-index",w),_.renderSlide||(g.innerHTML=y),_.cache&&(e.virtual.cache[w]=g),g}function c(y,w){let{slidesPerView:_,slidesPerGroup:g,centeredSlides:C,loop:b,initialSlide:x}=e.params;if(w&&!b&&x>0)return;let{addSlidesBefore:R,addSlidesAfter:P}=e.params.virtual,{from:A,to:E,slides:D,slidesGrid:I,offset:O}=e.virtual;e.params.cssMode||e.updateActiveIndex();let M=e.activeIndex||0,T;e.rtlTranslate?T="right":T=e.isHorizontal()?"left":"top";let k,H;C?(k=Math.floor(_/2)+g+P,H=Math.floor(_/2)+g+R):(k=_+(g-1)+P,H=(b?_:g)+R);let ie=M-H,F=M+k;b||(ie=Math.max(ie,0),F=Math.min(F,D.length-1));let $=(e.slidesGrid[ie]||0)-(e.slidesGrid[0]||0);b&&M>=H?(ie-=H,C||($+=e.slidesGrid[0])):b&&M<H&&(ie=-H,C&&($+=e.slidesGrid[0])),Object.assign(e.virtual,{from:ie,to:F,offset:$,slidesGrid:e.slidesGrid,slidesBefore:H,slidesAfter:k});function Z(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r("virtualUpdate")}if(A===ie&&E===F&&!y){e.slidesGrid!==I&&$!==O&&e.slides.forEach(oe=>{oe.style[T]=`${$-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),r("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:$,from:ie,to:F,slides:function(){let ke=[];for(let rt=ie;rt<=F;rt+=1)ke.push(D[rt]);return ke}()}),e.params.virtual.renderExternalUpdate?Z():r("virtualUpdate");return}let ve=[],W=[],Q=oe=>{let ke=oe;return oe<0?ke=D.length+oe:ke>=D.length&&(ke=ke-D.length),ke};if(y)e.slides.filter(oe=>oe.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(oe=>{oe.remove()});else for(let oe=A;oe<=E;oe+=1)if(oe<ie||oe>F){let ke=Q(oe);e.slides.filter(rt=>rt.matches(`.${e.params.slideClass}[data-swiper-slide-index="${ke}"], swiper-slide[data-swiper-slide-index="${ke}"]`)).forEach(rt=>{rt.remove()})}let X=b?-D.length:0,Ue=b?D.length*2:D.length;for(let oe=X;oe<Ue;oe+=1)if(oe>=ie&&oe<=F){let ke=Q(oe);typeof E>"u"||y?W.push(ke):(oe>E&&W.push(ke),oe<A&&ve.push(ke))}if(W.forEach(oe=>{e.slidesEl.append(l(D[oe],oe))}),b)for(let oe=ve.length-1;oe>=0;oe-=1){let ke=ve[oe];e.slidesEl.prepend(l(D[ke],ke))}else ve.sort((oe,ke)=>ke-oe),ve.forEach(oe=>{e.slidesEl.prepend(l(D[oe],oe))});gt(e.slidesEl,".swiper-slide, swiper-slide").forEach(oe=>{oe.style[T]=`${$-Math.abs(e.cssOverflowAdjustment())}px`}),Z()}function d(y){if(typeof y=="object"&&"length"in y)for(let w=0;w<y.length;w+=1)y[w]&&e.virtual.slides.push(y[w]);else e.virtual.slides.push(y);c(!0)}function h(y){let w=e.activeIndex,_=w+1,g=1;if(Array.isArray(y)){for(let C=0;C<y.length;C+=1)y[C]&&e.virtual.slides.unshift(y[C]);_=w+y.length,g=y.length}else e.virtual.slides.unshift(y);if(e.params.virtual.cache){let C=e.virtual.cache,b={};Object.keys(C).forEach(x=>{let R=C[x],P=R.getAttribute("data-swiper-slide-index");P&&R.setAttribute("data-swiper-slide-index",parseInt(P,10)+g),b[parseInt(x,10)+g]=R}),e.virtual.cache=b}c(!0),e.slideTo(_,0)}function f(y){if(typeof y>"u"||y===null)return;let w=e.activeIndex;if(Array.isArray(y))for(let _=y.length-1;_>=0;_-=1)e.params.virtual.cache&&(delete e.virtual.cache[y[_]],Object.keys(e.virtual.cache).forEach(g=>{g>y&&(e.virtual.cache[g-1]=e.virtual.cache[g],e.virtual.cache[g-1].setAttribute("data-swiper-slide-index",g-1),delete e.virtual.cache[g])})),e.virtual.slides.splice(y[_],1),y[_]<w&&(w-=1),w=Math.max(w,0);else e.params.virtual.cache&&(delete e.virtual.cache[y],Object.keys(e.virtual.cache).forEach(_=>{_>y&&(e.virtual.cache[_-1]=e.virtual.cache[_],e.virtual.cache[_-1].setAttribute("data-swiper-slide-index",_-1),delete e.virtual.cache[_])})),e.virtual.slides.splice(y,1),y<w&&(w-=1),w=Math.max(w,0);c(!0),e.slideTo(w,0)}function p(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let y;if(typeof e.passedParams.virtual.slides>"u"){let w=[...e.slidesEl.children].filter(_=>_.matches(`.${e.params.slideClass}, swiper-slide`));w&&w.length&&(e.virtual.slides=[...w],y=!0,w.forEach((_,g)=>{_.setAttribute("data-swiper-slide-index",g),e.virtual.cache[g]=_,_.remove()}))}y||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,c(!1,!0)}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Ea(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:d,prependSlide:h,removeSlide:f,removeAllSlides:p,update:c})}function ak(t){let{swiper:e,extendParams:n,on:i,emit:r}=t,s=lt(),o=Xe();e.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(d){if(!e.enabled)return;let{rtlTranslate:h}=e,f=d;f.originalEvent&&(f=f.originalEvent);let p=f.keyCode||f.charCode,y=e.params.keyboard.pageUpDown,w=y&&p===33,_=y&&p===34,g=p===37,C=p===39,b=p===38,x=p===40;if(!e.allowSlideNext&&(e.isHorizontal()&&C||e.isVertical()&&x||_)||!e.allowSlidePrev&&(e.isHorizontal()&&g||e.isVertical()&&b||w))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey)&&!(s.activeElement&&s.activeElement.nodeName&&(s.activeElement.nodeName.toLowerCase()==="input"||s.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(w||_||g||C||b||x)){let R=!1;if(ki(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&ki(e.el,`.${e.params.slideActiveClass}`).length===0)return;let P=e.el,A=P.clientWidth,E=P.clientHeight,D=o.innerWidth,I=o.innerHeight,O=Da(P);h&&(O.left-=P.scrollLeft);let M=[[O.left,O.top],[O.left+A,O.top],[O.left,O.top+E],[O.left+A,O.top+E]];for(let T=0;T<M.length;T+=1){let k=M[T];if(k[0]>=0&&k[0]<=D&&k[1]>=0&&k[1]<=I){if(k[0]===0&&k[1]===0)continue;R=!0}}if(!R)return}e.isHorizontal()?((w||_||g||C)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),((_||C)&&!h||(w||g)&&h)&&e.slideNext(),((w||g)&&!h||(_||C)&&h)&&e.slidePrev()):((w||_||b||x)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(_||x)&&e.slideNext(),(w||b)&&e.slidePrev()),r("keyPress",p)}}function l(){e.keyboard.enabled||(s.addEventListener("keydown",a),e.keyboard.enabled=!0)}function c(){e.keyboard.enabled&&(s.removeEventListener("keydown",a),e.keyboard.enabled=!1)}i("init",()=>{e.params.keyboard.enabled&&l()}),i("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})}function lk(t){let{swiper:e,extendParams:n,on:i,emit:r}=t,s=Xe();n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=Mn(),l,c=[];function d(b){let A=0,E=0,D=0,I=0;return"detail"in b&&(E=b.detail),"wheelDelta"in b&&(E=-b.wheelDelta/120),"wheelDeltaY"in b&&(E=-b.wheelDeltaY/120),"wheelDeltaX"in b&&(A=-b.wheelDeltaX/120),"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(A=E,E=0),D=A*10,I=E*10,"deltaY"in b&&(I=b.deltaY),"deltaX"in b&&(D=b.deltaX),b.shiftKey&&!D&&(D=I,I=0),(D||I)&&b.deltaMode&&(b.deltaMode===1?(D*=40,I*=40):(D*=800,I*=800)),D&&!A&&(A=D<1?-1:1),I&&!E&&(E=I<1?-1:1),{spinX:A,spinY:E,pixelX:D,pixelY:I}}function h(){e.enabled&&(e.mouseEntered=!0)}function f(){e.enabled&&(e.mouseEntered=!1)}function p(b){return e.params.mousewheel.thresholdDelta&&b.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Mn()-a<e.params.mousewheel.thresholdTime?!1:b.delta>=6&&Mn()-a<60?!0:(b.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",b.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",b.raw)),a=new s.Date().getTime(),!1)}function y(b){let x=e.params.mousewheel;if(b.direction<0){if(e.isEnd&&!e.params.loop&&x.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&x.releaseOnEdges)return!0;return!1}function w(b){let x=b,R=!0;if(!e.enabled||b.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;let P=e.params.mousewheel;e.params.cssMode&&x.preventDefault();let A=e.el;e.params.mousewheel.eventsTarget!=="container"&&(A=document.querySelector(e.params.mousewheel.eventsTarget));let E=A&&A.contains(x.target);if(!e.mouseEntered&&!E&&!P.releaseOnEdges)return!0;x.originalEvent&&(x=x.originalEvent);let D=0,I=e.rtlTranslate?-1:1,O=d(x);if(P.forceToAxis)if(e.isHorizontal())if(Math.abs(O.pixelX)>Math.abs(O.pixelY))D=-O.pixelX*I;else return!0;else if(Math.abs(O.pixelY)>Math.abs(O.pixelX))D=-O.pixelY;else return!0;else D=Math.abs(O.pixelX)>Math.abs(O.pixelY)?-O.pixelX*I:-O.pixelY;if(D===0)return!0;P.invert&&(D=-D);let M=e.getTranslate()+D*P.sensitivity;if(M>=e.minTranslate()&&(M=e.minTranslate()),M<=e.maxTranslate()&&(M=e.maxTranslate()),R=e.params.loop?!0:!(M===e.minTranslate()||M===e.maxTranslate()),R&&e.params.nested&&x.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let T={time:Mn(),delta:Math.abs(D),direction:Math.sign(D),raw:b};c.length>=2&&c.shift();let k=c.length?c[c.length-1]:void 0;if(c.push(T),k?(T.direction!==k.direction||T.delta>k.delta||T.time>k.time+150)&&p(T):p(T),y(T))return!0}else{let T={time:Mn(),delta:Math.abs(D),direction:Math.sign(D)},k=l&&T.time<l.time+500&&T.delta<=l.delta&&T.direction===l.direction;if(!k){l=void 0;let H=e.getTranslate()+D*P.sensitivity,ie=e.isBeginning,F=e.isEnd;if(H>=e.minTranslate()&&(H=e.minTranslate()),H<=e.maxTranslate()&&(H=e.maxTranslate()),e.setTransition(0),e.setTranslate(H),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!ie&&e.isBeginning||!F&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:T.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();let $=c.length?c[c.length-1]:void 0,Z=c[0];if(c.push(T),$&&(T.delta>$.delta||T.direction!==$.direction))c.splice(0);else if(c.length>=15&&T.time-Z.time<500&&Z.delta-T.delta>=1&&T.delta<=6){let ve=D>0?.8:.2;l=T,c.splice(0),o=Ni(()=>{e.slideToClosest(e.params.speed,!0,void 0,ve)},0)}o||(o=Ni(()=>{l=T,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(k||r("scroll",x),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),P.releaseOnEdges&&(H===e.minTranslate()||H===e.maxTranslate()))return!0}}return x.preventDefault?x.preventDefault():x.returnValue=!1,!1}function _(b){let x=e.el;e.params.mousewheel.eventsTarget!=="container"&&(x=document.querySelector(e.params.mousewheel.eventsTarget)),x[b]("mouseenter",h),x[b]("mouseleave",f),x[b]("wheel",w)}function g(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",w),!0):e.mousewheel.enabled?!1:(_("addEventListener"),e.mousewheel.enabled=!0,!0)}function C(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,w),!0):e.mousewheel.enabled?(_("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&C(),e.params.mousewheel.enabled&&g()}),i("destroy",()=>{e.params.cssMode&&g(),e.mousewheel.enabled&&C()}),Object.assign(e.mousewheel,{enable:g,disable:C})}function Ic(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=gt(t.el,`.${i[r]}`)[0];s||(s=Lt("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function ck(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(y){let w;return y&&typeof y=="string"&&e.isElement&&(w=e.el.querySelector(y),w)?w:(y&&(typeof y=="string"&&(w=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&w&&w.length>1&&e.el.querySelectorAll(y).length===1?w=e.el.querySelector(y):w&&w.length===1&&(w=w[0])),y&&!w?y:w)}function o(y,w){let _=e.params.navigation;y=Oe(y),y.forEach(g=>{g&&(g.classList[w?"add":"remove"](..._.disabledClass.split(" ")),g.tagName==="BUTTON"&&(g.disabled=w),e.params.watchOverflow&&e.enabled&&g.classList[e.isLocked?"add":"remove"](_.lockClass))})}function a(){let{nextEl:y,prevEl:w}=e.navigation;if(e.params.loop){o(w,!1),o(y,!1);return}o(w,e.isBeginning&&!e.params.rewind),o(y,e.isEnd&&!e.params.rewind)}function l(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){let y=e.params.navigation;if(e.params.navigation=Ic(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let w=s(y.nextEl),_=s(y.prevEl);Object.assign(e.navigation,{nextEl:w,prevEl:_}),w=Oe(w),_=Oe(_);let g=(C,b)=>{C&&C.addEventListener("click",b==="next"?c:l),!e.enabled&&C&&C.classList.add(...y.lockClass.split(" "))};w.forEach(C=>g(C,"next")),_.forEach(C=>g(C,"prev"))}function h(){let{nextEl:y,prevEl:w}=e.navigation;y=Oe(y),w=Oe(w);let _=(g,C)=>{g.removeEventListener("click",C==="next"?c:l),g.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(g=>_(g,"next")),w.forEach(g=>_(g,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?p():(d(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:y,prevEl:w}=e.navigation;if(y=Oe(y),w=Oe(w),e.enabled){a();return}[...y,...w].filter(_=>!!_).forEach(_=>_.classList.add(e.params.navigation.lockClass))}),i("click",(y,w)=>{let{nextEl:_,prevEl:g}=e.navigation;_=Oe(_),g=Oe(g);let C=w.target,b=g.includes(C)||_.includes(C);if(e.isElement&&!b){let x=w.path||w.composedPath&&w.composedPath();x&&(b=x.find(R=>_.includes(R)||g.includes(R)))}if(e.params.navigation.hideOnClick&&!b){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let x;_.length?x=_[0].classList.contains(e.params.navigation.hiddenClass):g.length&&(x=g[0].classList.contains(e.params.navigation.hiddenClass)),r(x===!0?"navigationShow":"navigationHide"),[..._,...g].filter(R=>!!R).forEach(R=>R.classList.toggle(e.params.navigation.hiddenClass))}});let f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:a,init:d,destroy:h})}function di(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function uk(t){let{swiper:e,extendParams:n,on:i,emit:r}=t,s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(g,C){let{bulletActiveClass:b}=e.params.pagination;g&&(g=g[`${C==="prev"?"previous":"next"}ElementSibling`],g&&(g.classList.add(`${b}-${C}`),g=g[`${C==="prev"?"previous":"next"}ElementSibling`],g&&g.classList.add(`${b}-${C}-${C}`)))}function d(g){let C=g.target.closest(di(e.params.pagination.bulletClass));if(!C)return;g.preventDefault();let b=Zs(C)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===b)return;e.slideToLoop(b)}else e.slideTo(b)}function h(){let g=e.rtl,C=e.params.pagination;if(l())return;let b=e.pagination.el;b=Oe(b);let x,R,P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(R=e.previousRealIndex||0,x=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(x=e.snapIndex,R=e.previousSnapIndex):(R=e.previousIndex||0,x=e.activeIndex||0),C.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let E=e.pagination.bullets,D,I,O;if(C.dynamicBullets&&(o=rh(E[0],e.isHorizontal()?"width":"height",!0),b.forEach(M=>{M.style[e.isHorizontal()?"width":"height"]=`${o*(C.dynamicMainBullets+4)}px`}),C.dynamicMainBullets>1&&R!==void 0&&(a+=x-(R||0),a>C.dynamicMainBullets-1?a=C.dynamicMainBullets-1:a<0&&(a=0)),D=Math.max(x-a,0),I=D+(Math.min(E.length,C.dynamicMainBullets)-1),O=(I+D)/2),E.forEach(M=>{let T=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(k=>`${C.bulletActiveClass}${k}`)].map(k=>typeof k=="string"&&k.includes(" ")?k.split(" "):k).flat();M.classList.remove(...T)}),b.length>1)E.forEach(M=>{let T=Zs(M);T===x?M.classList.add(...C.bulletActiveClass.split(" ")):e.isElement&&M.setAttribute("part","bullet"),C.dynamicBullets&&(T>=D&&T<=I&&M.classList.add(...`${C.bulletActiveClass}-main`.split(" ")),T===D&&c(M,"prev"),T===I&&c(M,"next"))});else{let M=E[x];if(M&&M.classList.add(...C.bulletActiveClass.split(" ")),e.isElement&&E.forEach((T,k)=>{T.setAttribute("part",k===x?"bullet-active":"bullet")}),C.dynamicBullets){let T=E[D],k=E[I];for(let H=D;H<=I;H+=1)E[H]&&E[H].classList.add(...`${C.bulletActiveClass}-main`.split(" "));c(T,"prev"),c(k,"next")}}if(C.dynamicBullets){let M=Math.min(E.length,C.dynamicMainBullets+4),T=(o*M-o)/2-O*o,k=g?"right":"left";E.forEach(H=>{H.style[e.isHorizontal()?k:"top"]=`${T}px`})}}b.forEach((E,D)=>{if(C.type==="fraction"&&(E.querySelectorAll(di(C.currentClass)).forEach(I=>{I.textContent=C.formatFractionCurrent(x+1)}),E.querySelectorAll(di(C.totalClass)).forEach(I=>{I.textContent=C.formatFractionTotal(A)})),C.type==="progressbar"){let I;C.progressbarOpposite?I=e.isHorizontal()?"vertical":"horizontal":I=e.isHorizontal()?"horizontal":"vertical";let O=(x+1)/A,M=1,T=1;I==="horizontal"?M=O:T=O,E.querySelectorAll(di(C.progressbarFillClass)).forEach(k=>{k.style.transform=`translate3d(0,0,0) scaleX(${M}) scaleY(${T})`,k.style.transitionDuration=`${e.params.speed}ms`})}C.type==="custom"&&C.renderCustom?(E.innerHTML=C.renderCustom(e,x+1,A),D===0&&r("paginationRender",E)):(D===0&&r("paginationRender",E),r("paginationUpdate",E)),e.params.watchOverflow&&e.enabled&&E.classList[e.isLocked?"add":"remove"](C.lockClass)})}function f(){let g=e.params.pagination;if(l())return;let C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,b=e.pagination.el;b=Oe(b);let x="";if(g.type==="bullets"){let R=e.params.loop?Math.ceil(C/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&R>C&&(R=C);for(let P=0;P<R;P+=1)g.renderBullet?x+=g.renderBullet.call(e,P,g.bulletClass):x+=`<${g.bulletElement} ${e.isElement?'part="bullet"':""} class="${g.bulletClass}"></${g.bulletElement}>`}g.type==="fraction"&&(g.renderFraction?x=g.renderFraction.call(e,g.currentClass,g.totalClass):x=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`),g.type==="progressbar"&&(g.renderProgressbar?x=g.renderProgressbar.call(e,g.progressbarFillClass):x=`<span class="${g.progressbarFillClass}"></span>`),e.pagination.bullets=[],b.forEach(R=>{g.type!=="custom"&&(R.innerHTML=x||""),g.type==="bullets"&&e.pagination.bullets.push(...R.querySelectorAll(di(g.bulletClass)))}),g.type!=="custom"&&r("paginationRender",b[0])}function p(){e.params.pagination=Ic(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let g=e.params.pagination;if(!g.el)return;let C;typeof g.el=="string"&&e.isElement&&(C=e.el.querySelector(g.el)),!C&&typeof g.el=="string"&&(C=[...document.querySelectorAll(g.el)]),C||(C=g.el),!(!C||C.length===0)&&(e.params.uniqueNavElements&&typeof g.el=="string"&&Array.isArray(C)&&C.length>1&&(C=[...e.el.querySelectorAll(g.el)],C.length>1&&(C=C.filter(b=>ki(b,".swiper")[0]===e.el)[0])),Array.isArray(C)&&C.length===1&&(C=C[0]),Object.assign(e.pagination,{el:C}),C=Oe(C),C.forEach(b=>{g.type==="bullets"&&g.clickable&&b.classList.add(...(g.clickableClass||"").split(" ")),b.classList.add(g.modifierClass+g.type),b.classList.add(e.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(b.classList.add(`${g.modifierClass}${g.type}-dynamic`),a=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&b.classList.add(g.progressbarOppositeClass),g.clickable&&b.addEventListener("click",d),e.enabled||b.classList.add(g.lockClass)}))}function y(){let g=e.params.pagination;if(l())return;let C=e.pagination.el;C&&(C=Oe(C),C.forEach(b=>{b.classList.remove(g.hiddenClass),b.classList.remove(g.modifierClass+g.type),b.classList.remove(e.isHorizontal()?g.horizontalClass:g.verticalClass),g.clickable&&(b.classList.remove(...(g.clickableClass||"").split(" ")),b.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(b=>b.classList.remove(...g.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let g=e.params.pagination,{el:C}=e.pagination;C=Oe(C),C.forEach(b=>{b.classList.remove(g.horizontalClass,g.verticalClass),b.classList.add(e.isHorizontal()?g.horizontalClass:g.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?_():(p(),f(),h())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),i("snapIndexChange",()=>{h()}),i("snapGridLengthChange",()=>{f(),h()}),i("destroy",()=>{y()}),i("enable disable",()=>{let{el:g}=e.pagination;g&&(g=Oe(g),g.forEach(C=>C.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{h()}),i("click",(g,C)=>{let b=C.target,x=Oe(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&x&&x.length>0&&!b.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&b===e.navigation.nextEl||e.navigation.prevEl&&b===e.navigation.prevEl))return;let R=x[0].classList.contains(e.params.pagination.hiddenClass);r(R===!0?"paginationShow":"paginationHide"),x.forEach(P=>P.classList.toggle(e.params.pagination.hiddenClass))}});let w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:g}=e.pagination;g&&(g=Oe(g),g.forEach(C=>C.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},_=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:g}=e.pagination;g&&(g=Oe(g),g.forEach(C=>C.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:w,disable:_,render:f,update:h,init:p,destroy:y})}function dk(t){let{swiper:e,extendParams:n,on:i,emit:r}=t,s=lt(),o=!1,a=null,l=null,c,d,h,f;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function p(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:M,rtlTranslate:T}=e,{dragEl:k,el:H}=M,ie=e.params.scrollbar,F=e.params.loop?e.progressLoop:e.progress,$=d,Z=(h-d)*F;T?(Z=-Z,Z>0?($=d-Z,Z=0):-Z+d>h&&($=h+Z)):Z<0?($=d+Z,Z=0):Z+d>h&&($=h-Z),e.isHorizontal()?(k.style.transform=`translate3d(${Z}px, 0, 0)`,k.style.width=`${$}px`):(k.style.transform=`translate3d(0px, ${Z}px, 0)`,k.style.height=`${$}px`),ie.hide&&(clearTimeout(a),H.style.opacity=1,a=setTimeout(()=>{H.style.opacity=0,H.style.transitionDuration="400ms"},1e3))}function y(M){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${M}ms`)}function w(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:M}=e,{dragEl:T,el:k}=M;T.style.width="",T.style.height="",h=e.isHorizontal()?k.offsetWidth:k.offsetHeight,f=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?d=h*f:d=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?T.style.width=`${d}px`:T.style.height=`${d}px`,f>=1?k.style.display="none":k.style.display="",e.params.scrollbar.hide&&(k.style.opacity=0),e.params.watchOverflow&&e.enabled&&M.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function _(M){return e.isHorizontal()?M.clientX:M.clientY}function g(M){let{scrollbar:T,rtlTranslate:k}=e,{el:H}=T,ie;ie=(_(M)-Da(H)[e.isHorizontal()?"left":"top"]-(c!==null?c:d/2))/(h-d),ie=Math.max(Math.min(ie,1),0),k&&(ie=1-ie);let F=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*ie;e.updateProgress(F),e.setTranslate(F),e.updateActiveIndex(),e.updateSlidesClasses()}function C(M){let T=e.params.scrollbar,{scrollbar:k,wrapperEl:H}=e,{el:ie,dragEl:F}=k;o=!0,c=M.target===F?_(M)-M.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,M.preventDefault(),M.stopPropagation(),H.style.transitionDuration="100ms",F.style.transitionDuration="100ms",g(M),clearTimeout(l),ie.style.transitionDuration="0ms",T.hide&&(ie.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",M)}function b(M){let{scrollbar:T,wrapperEl:k}=e,{el:H,dragEl:ie}=T;o&&(M.preventDefault&&M.cancelable?M.preventDefault():M.returnValue=!1,g(M),k.style.transitionDuration="0ms",H.style.transitionDuration="0ms",ie.style.transitionDuration="0ms",r("scrollbarDragMove",M))}function x(M){let T=e.params.scrollbar,{scrollbar:k,wrapperEl:H}=e,{el:ie}=k;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",H.style.transitionDuration=""),T.hide&&(clearTimeout(l),l=Ni(()=>{ie.style.opacity=0,ie.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",M),T.snapOnRelease&&e.slideToClosest())}function R(M){let{scrollbar:T,params:k}=e,H=T.el;if(!H)return;let ie=H,F=k.passiveListeners?{passive:!1,capture:!1}:!1,$=k.passiveListeners?{passive:!0,capture:!1}:!1;if(!ie)return;let Z=M==="on"?"addEventListener":"removeEventListener";ie[Z]("pointerdown",C,F),s[Z]("pointermove",b,F),s[Z]("pointerup",x,$)}function P(){!e.params.scrollbar.el||!e.scrollbar.el||R("on")}function A(){!e.params.scrollbar.el||!e.scrollbar.el||R("off")}function E(){let{scrollbar:M,el:T}=e;e.params.scrollbar=Ic(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});let k=e.params.scrollbar;if(!k.el)return;let H;if(typeof k.el=="string"&&e.isElement&&(H=e.el.querySelector(k.el)),!H&&typeof k.el=="string"){if(H=s.querySelectorAll(k.el),!H.length)return}else H||(H=k.el);e.params.uniqueNavElements&&typeof k.el=="string"&&H.length>1&&T.querySelectorAll(k.el).length===1&&(H=T.querySelector(k.el)),H.length>0&&(H=H[0]),H.classList.add(e.isHorizontal()?k.horizontalClass:k.verticalClass);let ie;H&&(ie=H.querySelector(di(e.params.scrollbar.dragClass)),ie||(ie=Lt("div",e.params.scrollbar.dragClass),H.append(ie))),Object.assign(M,{el:H,dragEl:ie}),k.draggable&&P(),H&&H.classList[e.enabled?"remove":"add"](...Xr(e.params.scrollbar.lockClass))}function D(){let M=e.params.scrollbar,T=e.scrollbar.el;T&&T.classList.remove(...Xr(e.isHorizontal()?M.horizontalClass:M.verticalClass)),A()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;let M=e.params.scrollbar,{el:T}=e.scrollbar;T=Oe(T),T.forEach(k=>{k.classList.remove(M.horizontalClass,M.verticalClass),k.classList.add(e.isHorizontal()?M.horizontalClass:M.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?O():(E(),w(),p())}),i("update resize observerUpdate lock unlock changeDirection",()=>{w()}),i("setTranslate",()=>{p()}),i("setTransition",(M,T)=>{y(T)}),i("enable disable",()=>{let{el:M}=e.scrollbar;M&&M.classList[e.enabled?"remove":"add"](...Xr(e.params.scrollbar.lockClass))}),i("destroy",()=>{D()});let I=()=>{e.el.classList.remove(...Xr(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Xr(e.params.scrollbar.scrollbarDisabledClass)),E(),w(),p()},O=()=>{e.el.classList.add(...Xr(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Xr(e.params.scrollbar.scrollbarDisabledClass)),D()};Object.assign(e.scrollbar,{enable:I,disable:O,updateSize:w,setTranslate:p,init:E,destroy:D})}function hk(t){let{swiper:e,extendParams:n,on:i}=t;n({parallax:{enabled:!1}});let r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(l,c)=>{let{rtl:d}=e,h=d?-1:1,f=l.getAttribute("data-swiper-parallax")||"0",p=l.getAttribute("data-swiper-parallax-x"),y=l.getAttribute("data-swiper-parallax-y"),w=l.getAttribute("data-swiper-parallax-scale"),_=l.getAttribute("data-swiper-parallax-opacity"),g=l.getAttribute("data-swiper-parallax-rotate");if(p||y?(p=p||"0",y=y||"0"):e.isHorizontal()?(p=f,y="0"):(y=f,p="0"),p.indexOf("%")>=0?p=`${parseInt(p,10)*c*h}%`:p=`${p*c*h}px`,y.indexOf("%")>=0?y=`${parseInt(y,10)*c}%`:y=`${y*c}px`,typeof _<"u"&&_!==null){let b=_-(_-1)*(1-Math.abs(c));l.style.opacity=b}let C=`translate3d(${p}, ${y}, 0px)`;if(typeof w<"u"&&w!==null){let b=w-(w-1)*(1-Math.abs(c));C+=` scale(${b})`}if(g&&typeof g<"u"&&g!==null){let b=g*c*-1;C+=` rotate(${b}deg)`}l.style.transform=C},o=()=>{let{el:l,slides:c,progress:d,snapGrid:h,isElement:f}=e,p=gt(l,r);e.isElement&&p.push(...gt(e.hostEl,r)),p.forEach(y=>{s(y,d)}),c.forEach((y,w)=>{let _=y.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(_+=Math.ceil(w/2)-d*(h.length-1)),_=Math.min(Math.max(_,-1),1),y.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(g=>{s(g,_)})})},a=function(l){l===void 0&&(l=e.params.speed);let{el:c,hostEl:d}=e,h=[...c.querySelectorAll(r)];e.isElement&&h.push(...d.querySelectorAll(r)),h.forEach(f=>{let p=parseInt(f.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(p=0),f.style.transitionDuration=`${p}ms`})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&o()}),i("setTranslate",()=>{e.params.parallax.enabled&&o()}),i("setTransition",(l,c)=>{e.params.parallax.enabled&&a(c)})}function fk(t){let{swiper:e,extendParams:n,on:i,emit:r}=t,s=Xe();n({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,l,c,d=[],h={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},p={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},y=1;Object.defineProperty(e.zoom,"scale",{get(){return y},set(W){if(y!==W){let Q=h.imageEl,X=h.slideEl;r("zoomChange",W,Q,X)}y=W}});function w(){if(d.length<2)return 1;let W=d[0].pageX,Q=d[0].pageY,X=d[1].pageX,Ue=d[1].pageY;return Math.sqrt((X-W)**2+(Ue-Q)**2)}function _(){let W=e.params.zoom,Q=h.imageWrapEl.getAttribute("data-swiper-zoom")||W.maxRatio;if(W.limitToOriginalSize&&h.imageEl&&h.imageEl.naturalWidth){let X=h.imageEl.naturalWidth/h.imageEl.offsetWidth;return Math.min(X,Q)}return Q}function g(){if(d.length<2)return{x:null,y:null};let W=h.imageEl.getBoundingClientRect();return[(d[0].pageX+(d[1].pageX-d[0].pageX)/2-W.x-s.scrollX)/o,(d[0].pageY+(d[1].pageY-d[0].pageY)/2-W.y-s.scrollY)/o]}function C(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function b(W){let Q=C();return!!(W.target.matches(Q)||e.slides.filter(X=>X.contains(W.target)).length>0)}function x(W){let Q=`.${e.params.zoom.containerClass}`;return!!(W.target.matches(Q)||[...e.hostEl.querySelectorAll(Q)].filter(X=>X.contains(W.target)).length>0)}function R(W){if(W.pointerType==="mouse"&&d.splice(0,d.length),!b(W))return;let Q=e.params.zoom;if(l=!1,c=!1,d.push(W),!(d.length<2)){if(l=!0,h.scaleStart=w(),!h.slideEl){h.slideEl=W.target.closest(`.${e.params.slideClass}, swiper-slide`),h.slideEl||(h.slideEl=e.slides[e.activeIndex]);let X=h.slideEl.querySelector(`.${Q.containerClass}`);if(X&&(X=X.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=X,X?h.imageWrapEl=ki(h.imageEl,`.${Q.containerClass}`)[0]:h.imageWrapEl=void 0,!h.imageWrapEl){h.imageEl=void 0;return}h.maxRatio=_()}if(h.imageEl){let[X,Ue]=g();h.originX=X,h.originY=Ue,h.imageEl.style.transitionDuration="0ms"}a=!0}}function P(W){if(!b(W))return;let Q=e.params.zoom,X=e.zoom,Ue=d.findIndex(oe=>oe.pointerId===W.pointerId);Ue>=0&&(d[Ue]=W),!(d.length<2)&&(c=!0,h.scaleMove=w(),h.imageEl&&(X.scale=h.scaleMove/h.scaleStart*o,X.scale>h.maxRatio&&(X.scale=h.maxRatio-1+(X.scale-h.maxRatio+1)**.5),X.scale<Q.minRatio&&(X.scale=Q.minRatio+1-(Q.minRatio-X.scale+1)**.5),h.imageEl.style.transform=`translate3d(0,0,0) scale(${X.scale})`))}function A(W){if(!b(W)||W.pointerType==="mouse"&&W.type==="pointerout")return;let Q=e.params.zoom,X=e.zoom,Ue=d.findIndex(oe=>oe.pointerId===W.pointerId);Ue>=0&&d.splice(Ue,1),!(!l||!c)&&(l=!1,c=!1,h.imageEl&&(X.scale=Math.max(Math.min(X.scale,h.maxRatio),Q.minRatio),h.imageEl.style.transitionDuration=`${e.params.speed}ms`,h.imageEl.style.transform=`translate3d(0,0,0) scale(${X.scale})`,o=X.scale,a=!1,X.scale>1&&h.slideEl?h.slideEl.classList.add(`${Q.zoomedSlideClass}`):X.scale<=1&&h.slideEl&&h.slideEl.classList.remove(`${Q.zoomedSlideClass}`),X.scale===1&&(h.originX=0,h.originY=0,h.slideEl=void 0)))}let E;function D(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function I(){clearTimeout(E),e.touchEventsData.preventTouchMoveFromPointerMove=!0,E=setTimeout(()=>{D()})}function O(W){let Q=e.device;if(!h.imageEl||f.isTouched)return;Q.android&&W.cancelable&&W.preventDefault(),f.isTouched=!0;let X=d.length>0?d[0]:W;f.touchesStart.x=X.pageX,f.touchesStart.y=X.pageY}function M(W){if(!b(W)||!x(W))return;let Q=e.zoom;if(!h.imageEl||!f.isTouched||!h.slideEl)return;f.isMoved||(f.width=h.imageEl.offsetWidth||h.imageEl.clientWidth,f.height=h.imageEl.offsetHeight||h.imageEl.clientHeight,f.startX=nh(h.imageWrapEl,"x")||0,f.startY=nh(h.imageWrapEl,"y")||0,h.slideWidth=h.slideEl.offsetWidth,h.slideHeight=h.slideEl.offsetHeight,h.imageWrapEl.style.transitionDuration="0ms");let X=f.width*Q.scale,Ue=f.height*Q.scale;if(f.minX=Math.min(h.slideWidth/2-X/2,0),f.maxX=-f.minX,f.minY=Math.min(h.slideHeight/2-Ue/2,0),f.maxY=-f.minY,f.touchesCurrent.x=d.length>0?d[0].pageX:W.pageX,f.touchesCurrent.y=d.length>0?d[0].pageY:W.pageY,Math.max(Math.abs(f.touchesCurrent.x-f.touchesStart.x),Math.abs(f.touchesCurrent.y-f.touchesStart.y))>5&&(e.allowClick=!1),!f.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x)){f.isTouched=!1,D();return}if(!e.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y)){f.isTouched=!1,D();return}}W.cancelable&&W.preventDefault(),W.stopPropagation(),I(),f.isMoved=!0;let ke=(Q.scale-o)/(h.maxRatio-e.params.zoom.minRatio),{originX:rt,originY:dn}=h;f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX+ke*(f.width-rt*2),f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY+ke*(f.height-dn*2),f.currentX<f.minX&&(f.currentX=f.minX+1-(f.minX-f.currentX+1)**.8),f.currentX>f.maxX&&(f.currentX=f.maxX-1+(f.currentX-f.maxX+1)**.8),f.currentY<f.minY&&(f.currentY=f.minY+1-(f.minY-f.currentY+1)**.8),f.currentY>f.maxY&&(f.currentY=f.maxY-1+(f.currentY-f.maxY+1)**.8),p.prevPositionX||(p.prevPositionX=f.touchesCurrent.x),p.prevPositionY||(p.prevPositionY=f.touchesCurrent.y),p.prevTime||(p.prevTime=Date.now()),p.x=(f.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2,p.y=(f.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2,Math.abs(f.touchesCurrent.x-p.prevPositionX)<2&&(p.x=0),Math.abs(f.touchesCurrent.y-p.prevPositionY)<2&&(p.y=0),p.prevPositionX=f.touchesCurrent.x,p.prevPositionY=f.touchesCurrent.y,p.prevTime=Date.now(),h.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function T(){let W=e.zoom;if(!h.imageEl)return;if(!f.isTouched||!f.isMoved){f.isTouched=!1,f.isMoved=!1;return}f.isTouched=!1,f.isMoved=!1;let Q=300,X=300,Ue=p.x*Q,oe=f.currentX+Ue,ke=p.y*X,rt=f.currentY+ke;p.x!==0&&(Q=Math.abs((oe-f.currentX)/p.x)),p.y!==0&&(X=Math.abs((rt-f.currentY)/p.y));let dn=Math.max(Q,X);f.currentX=oe,f.currentY=rt;let Fi=f.width*W.scale,hn=f.height*W.scale;f.minX=Math.min(h.slideWidth/2-Fi/2,0),f.maxX=-f.minX,f.minY=Math.min(h.slideHeight/2-hn/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),h.imageWrapEl.style.transitionDuration=`${dn}ms`,h.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function k(){let W=e.zoom;h.slideEl&&e.activeIndex!==e.slides.indexOf(h.slideEl)&&(h.imageEl&&(h.imageEl.style.transform="translate3d(0,0,0) scale(1)"),h.imageWrapEl&&(h.imageWrapEl.style.transform="translate3d(0,0,0)"),h.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),W.scale=1,o=1,h.slideEl=void 0,h.imageEl=void 0,h.imageWrapEl=void 0,h.originX=0,h.originY=0)}function H(W){let Q=e.zoom,X=e.params.zoom;if(!h.slideEl){W&&W.target&&(h.slideEl=W.target.closest(`.${e.params.slideClass}, swiper-slide`)),h.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.slideEl=gt(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:h.slideEl=e.slides[e.activeIndex]);let jn=h.slideEl.querySelector(`.${X.containerClass}`);jn&&(jn=jn.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=jn,jn?h.imageWrapEl=ki(h.imageEl,`.${X.containerClass}`)[0]:h.imageWrapEl=void 0}if(!h.imageEl||!h.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),h.slideEl.classList.add(`${X.zoomedSlideClass}`);let Ue,oe,ke,rt,dn,Fi,hn,fn,Zr,mr,es,ts,Li,Vi,io,ns,xn,Xn;typeof f.touchesStart.x>"u"&&W?(Ue=W.pageX,oe=W.pageY):(Ue=f.touchesStart.x,oe=f.touchesStart.y);let fi=typeof W=="number"?W:null;o===1&&fi&&(Ue=void 0,oe=void 0);let ro=_();Q.scale=fi||ro,o=fi||ro,W&&!(o===1&&fi)?(xn=h.slideEl.offsetWidth,Xn=h.slideEl.offsetHeight,ke=Da(h.slideEl).left+s.scrollX,rt=Da(h.slideEl).top+s.scrollY,dn=ke+xn/2-Ue,Fi=rt+Xn/2-oe,Zr=h.imageEl.offsetWidth||h.imageEl.clientWidth,mr=h.imageEl.offsetHeight||h.imageEl.clientHeight,es=Zr*Q.scale,ts=mr*Q.scale,Li=Math.min(xn/2-es/2,0),Vi=Math.min(Xn/2-ts/2,0),io=-Li,ns=-Vi,hn=dn*Q.scale,fn=Fi*Q.scale,hn<Li&&(hn=Li),hn>io&&(hn=io),fn<Vi&&(fn=Vi),fn>ns&&(fn=ns)):(hn=0,fn=0),fi&&Q.scale===1&&(h.originX=0,h.originY=0),h.imageWrapEl.style.transitionDuration="300ms",h.imageWrapEl.style.transform=`translate3d(${hn}px, ${fn}px,0)`,h.imageEl.style.transitionDuration="300ms",h.imageEl.style.transform=`translate3d(0,0,0) scale(${Q.scale})`}function ie(){let W=e.zoom,Q=e.params.zoom;if(!h.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.slideEl=gt(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:h.slideEl=e.slides[e.activeIndex];let X=h.slideEl.querySelector(`.${Q.containerClass}`);X&&(X=X.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=X,X?h.imageWrapEl=ki(h.imageEl,`.${Q.containerClass}`)[0]:h.imageWrapEl=void 0}!h.imageEl||!h.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),W.scale=1,o=1,h.imageWrapEl.style.transitionDuration="300ms",h.imageWrapEl.style.transform="translate3d(0,0,0)",h.imageEl.style.transitionDuration="300ms",h.imageEl.style.transform="translate3d(0,0,0) scale(1)",h.slideEl.classList.remove(`${Q.zoomedSlideClass}`),h.slideEl=void 0,h.originX=0,h.originY=0)}function F(W){let Q=e.zoom;Q.scale&&Q.scale!==1?ie():H(W)}function $(){let W=e.params.passiveListeners?{passive:!0,capture:!1}:!1,Q=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:W,activeListenerWithCapture:Q}}function Z(){let W=e.zoom;if(W.enabled)return;W.enabled=!0;let{passiveListener:Q,activeListenerWithCapture:X}=$();e.wrapperEl.addEventListener("pointerdown",R,Q),e.wrapperEl.addEventListener("pointermove",P,X),["pointerup","pointercancel","pointerout"].forEach(Ue=>{e.wrapperEl.addEventListener(Ue,A,Q)}),e.wrapperEl.addEventListener("pointermove",M,X)}function ve(){let W=e.zoom;if(!W.enabled)return;W.enabled=!1;let{passiveListener:Q,activeListenerWithCapture:X}=$();e.wrapperEl.removeEventListener("pointerdown",R,Q),e.wrapperEl.removeEventListener("pointermove",P,X),["pointerup","pointercancel","pointerout"].forEach(Ue=>{e.wrapperEl.removeEventListener(Ue,A,Q)}),e.wrapperEl.removeEventListener("pointermove",M,X)}i("init",()=>{e.params.zoom.enabled&&Z()}),i("destroy",()=>{ve()}),i("touchStart",(W,Q)=>{e.zoom.enabled&&O(Q)}),i("touchEnd",(W,Q)=>{e.zoom.enabled&&T()}),i("doubleTap",(W,Q)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&F(Q)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&k()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&k()}),Object.assign(e.zoom,{enable:Z,disable:ve,in:H,out:ie,toggle:F})}function pk(t){let{swiper:e,extendParams:n,on:i}=t;n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function r(c,d){let h=function(){let w,_,g;return(C,b)=>{for(_=-1,w=C.length;w-_>1;)g=w+_>>1,C[g]<=b?_=g:w=g;return w}}();this.x=c,this.y=d,this.lastIndex=c.length-1;let f,p;return this.interpolate=function(w){return w?(p=h(this.x,w),f=p-1,(w-this.x[f])*(this.y[p]-this.y[f])/(this.x[p]-this.x[f])+this.y[f]):0},this}function s(c){e.controller.spline=e.params.loop?new r(e.slidesGrid,c.slidesGrid):new r(e.snapGrid,c.snapGrid)}function o(c,d){let h=e.controller.control,f,p,y=e.constructor;function w(_){if(_.destroyed)return;let g=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(s(_),p=-e.controller.spline.interpolate(-g)),(!p||e.params.controller.by==="container")&&(f=(_.maxTranslate()-_.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(f)||!Number.isFinite(f))&&(f=1),p=(g-e.minTranslate())*f+_.minTranslate()),e.params.controller.inverse&&(p=_.maxTranslate()-p),_.updateProgress(p),_.setTranslate(p,e),_.updateActiveIndex(),_.updateSlidesClasses()}if(Array.isArray(h))for(let _=0;_<h.length;_+=1)h[_]!==d&&h[_]instanceof y&&w(h[_]);else h instanceof y&&d!==h&&w(h)}function a(c,d){let h=e.constructor,f=e.controller.control,p;function y(w){w.destroyed||(w.setTransition(c,e),c!==0&&(w.transitionStart(),w.params.autoHeight&&Ni(()=>{w.updateAutoHeight()}),eo(w.wrapperEl,()=>{f&&w.transitionEnd()})))}if(Array.isArray(f))for(p=0;p<f.length;p+=1)f[p]!==d&&f[p]instanceof h&&y(f[p]);else f instanceof h&&d!==f&&y(f)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){let c=document.querySelector(e.params.controller.control);if(c&&c.swiper)e.controller.control=c.swiper;else if(c){let d=h=>{e.controller.control=h.detail[0],e.update(),c.removeEventListener("init",d)};c.addEventListener("init",d)}return}e.controller.control=e.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,d,h)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,h)}),i("setTransition",(c,d,h)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,h)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function mk(t){let{swiper:e,extendParams:n,on:i}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let r=null,s,o,a=new Date().getTime();function l(F){let $=r;$.length!==0&&($.innerHTML="",$.innerHTML=F)}function c(F){F===void 0&&(F=16);let $=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(F).replace(/x/g,$)}function d(F){F=Oe(F),F.forEach($=>{$.setAttribute("tabIndex","0")})}function h(F){F=Oe(F),F.forEach($=>{$.setAttribute("tabIndex","-1")})}function f(F,$){F=Oe(F),F.forEach(Z=>{Z.setAttribute("role",$)})}function p(F,$){F=Oe(F),F.forEach(Z=>{Z.setAttribute("aria-roledescription",$)})}function y(F,$){F=Oe(F),F.forEach(Z=>{Z.setAttribute("aria-controls",$)})}function w(F,$){F=Oe(F),F.forEach(Z=>{Z.setAttribute("aria-label",$)})}function _(F,$){F=Oe(F),F.forEach(Z=>{Z.setAttribute("id",$)})}function g(F,$){F=Oe(F),F.forEach(Z=>{Z.setAttribute("aria-live",$)})}function C(F){F=Oe(F),F.forEach($=>{$.setAttribute("aria-disabled",!0)})}function b(F){F=Oe(F),F.forEach($=>{$.setAttribute("aria-disabled",!1)})}function x(F){if(F.keyCode!==13&&F.keyCode!==32)return;let $=e.params.a11y,Z=F.target;if(!(e.pagination&&e.pagination.el&&(Z===e.pagination.el||e.pagination.el.contains(F.target))&&!F.target.matches(di(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){let ve=Oe(e.navigation.prevEl);Oe(e.navigation.nextEl).includes(Z)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l($.lastSlideMessage):l($.nextSlideMessage)),ve.includes(Z)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l($.firstSlideMessage):l($.prevSlideMessage))}e.pagination&&Z.matches(di(e.params.pagination.bulletClass))&&Z.click()}}function R(){if(e.params.loop||e.params.rewind||!e.navigation)return;let{nextEl:F,prevEl:$}=e.navigation;$&&(e.isBeginning?(C($),h($)):(b($),d($))),F&&(e.isEnd?(C(F),h(F)):(b(F),d(F)))}function P(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function A(){return P()&&e.params.pagination.clickable}function E(){let F=e.params.a11y;P()&&e.pagination.bullets.forEach($=>{e.params.pagination.clickable&&(d($),e.params.pagination.renderBullet||(f($,"button"),w($,F.paginationBulletMessage.replace(/\{\{index\}\}/,Zs($)+1)))),$.matches(di(e.params.pagination.bulletActiveClass))?$.setAttribute("aria-current","true"):$.removeAttribute("aria-current")})}let D=(F,$,Z)=>{d(F),F.tagName!=="BUTTON"&&(f(F,"button"),F.addEventListener("keydown",x)),w(F,Z),y(F,$)},I=F=>{o&&o!==F.target&&!o.contains(F.target)&&(s=!0),e.a11y.clicked=!0},O=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},M=F=>{a=new Date().getTime()},T=F=>{if(e.a11y.clicked||new Date().getTime()-a<100)return;let $=F.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!$||!e.slides.includes($))return;o=$;let Z=e.slides.indexOf($)===e.activeIndex,ve=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes($);Z||ve||F.sourceCapabilities&&F.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(parseInt($.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf($),0),s=!1)}))},k=()=>{let F=e.params.a11y;F.itemRoleDescriptionMessage&&p(e.slides,F.itemRoleDescriptionMessage),F.slideRole&&f(e.slides,F.slideRole);let $=e.slides.length;F.slideLabelMessage&&e.slides.forEach((Z,ve)=>{let W=e.params.loop?parseInt(Z.getAttribute("data-swiper-slide-index"),10):ve,Q=F.slideLabelMessage.replace(/\{\{index\}\}/,W+1).replace(/\{\{slidesLength\}\}/,$);w(Z,Q)})},H=()=>{let F=e.params.a11y;e.el.append(r);let $=e.el;F.containerRoleDescriptionMessage&&p($,F.containerRoleDescriptionMessage),F.containerMessage&&w($,F.containerMessage);let Z=e.wrapperEl,ve=F.id||Z.getAttribute("id")||`swiper-wrapper-${c(16)}`,W=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";_(Z,ve),g(Z,W),k();let{nextEl:Q,prevEl:X}=e.navigation?e.navigation:{};Q=Oe(Q),X=Oe(X),Q&&Q.forEach(oe=>D(oe,ve,F.nextSlideMessage)),X&&X.forEach(oe=>D(oe,ve,F.prevSlideMessage)),A()&&Oe(e.pagination.el).forEach(ke=>{ke.addEventListener("keydown",x)}),lt().addEventListener("visibilitychange",M),e.el.addEventListener("focus",T,!0),e.el.addEventListener("focus",T,!0),e.el.addEventListener("pointerdown",I,!0),e.el.addEventListener("pointerup",O,!0)};function ie(){r&&r.remove();let{nextEl:F,prevEl:$}=e.navigation?e.navigation:{};F=Oe(F),$=Oe($),F&&F.forEach(ve=>ve.removeEventListener("keydown",x)),$&&$.forEach(ve=>ve.removeEventListener("keydown",x)),A()&&Oe(e.pagination.el).forEach(W=>{W.removeEventListener("keydown",x)}),lt().removeEventListener("visibilitychange",M),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",T,!0),e.el.removeEventListener("pointerdown",I,!0),e.el.removeEventListener("pointerup",O,!0))}i("beforeInit",()=>{r=Lt("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&H()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&k()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&R()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&E()}),i("destroy",()=>{e.params.a11y.enabled&&ie()})}function gk(t){let{swiper:e,extendParams:n,on:i}=t;n({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,s={},o=p=>p.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=p=>{let y=Xe(),w;p?w=new URL(p):w=y.location;let _=w.pathname.slice(1).split("/").filter(x=>x!==""),g=_.length,C=_[g-2],b=_[g-1];return{key:C,value:b}},l=(p,y)=>{let w=Xe();if(!r||!e.params.history.enabled)return;let _;e.params.url?_=new URL(e.params.url):_=w.location;let g=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${y}"]`):e.slides[y],C=o(g.getAttribute("data-history"));if(e.params.history.root.length>0){let x=e.params.history.root;x[x.length-1]==="/"&&(x=x.slice(0,x.length-1)),C=`${x}/${p?`${p}/`:""}${C}`}else _.pathname.includes(p)||(C=`${p?`${p}/`:""}${C}`);e.params.history.keepQuery&&(C+=_.search);let b=w.history.state;b&&b.value===C||(e.params.history.replaceState?w.history.replaceState({value:C},null,C):w.history.pushState({value:C},null,C))},c=(p,y,w)=>{if(y)for(let _=0,g=e.slides.length;_<g;_+=1){let C=e.slides[_];if(o(C.getAttribute("data-history"))===y){let x=e.getSlideIndex(C);e.slideTo(x,p,w)}}else e.slideTo(0,p,w)},d=()=>{s=a(e.params.url),c(e.params.speed,s.value,!1)},h=()=>{let p=Xe();if(e.params.history){if(!p.history||!p.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(r=!0,s=a(e.params.url),!s.key&&!s.value){e.params.history.replaceState||p.addEventListener("popstate",d);return}c(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||p.addEventListener("popstate",d)}},f=()=>{let p=Xe();e.params.history.replaceState||p.removeEventListener("popstate",d)};i("init",()=>{e.params.history.enabled&&h()}),i("destroy",()=>{e.params.history.enabled&&f()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&l(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{r&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function vk(t){let{swiper:e,extendParams:n,emit:i,on:r}=t,s=!1,o=lt(),a=Xe();n({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(f,p){if(e.virtual&&e.params.virtual.enabled){let y=e.slides.filter(_=>_.getAttribute("data-hash")===p)[0];return y?parseInt(y.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(gt(e.slidesEl,`.${e.params.slideClass}[data-hash="${p}"], swiper-slide[data-hash="${p}"]`)[0])}}});let l=()=>{i("hashChange");let f=o.location.hash.replace("#",""),p=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],y=p?p.getAttribute("data-hash"):"";if(f!==y){let w=e.params.hashNavigation.getSlideIndex(e,f);if(typeof w>"u"||Number.isNaN(w))return;e.slideTo(w)}},c=()=>{if(!s||!e.params.hashNavigation.enabled)return;let f=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],p=f?f.getAttribute("data-hash")||f.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${p}`||""),i("hashSet")):(o.location.hash=p||"",i("hashSet"))},d=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;s=!0;let f=o.location.hash.replace("#","");if(f){let y=e.params.hashNavigation.getSlideIndex(e,f);e.slideTo(y||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)},h=()=>{e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)};r("init",()=>{e.params.hashNavigation.enabled&&d()}),r("destroy",()=>{e.params.hashNavigation.enabled&&h()}),r("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c()}),r("slideChange",()=>{s&&e.params.cssMode&&c()})}function yk(t){let{swiper:e,extendParams:n,on:i,emit:r,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,d,h=new Date().getTime(),f,p,y,w,_,g,C;function b($){!e||e.destroyed||!e.wrapperEl||$.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",b),!(C||$.detail&&$.detail.bySwiperTouchMove)&&I())}let x=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=d,f=!1);let $=e.autoplay.paused?d:h+c-new Date().getTime();e.autoplay.timeLeft=$,r("autoplayTimeLeft",$,$/l),a=requestAnimationFrame(()=>{x()})},R=()=>{let $;return e.virtual&&e.params.virtual.enabled?$=e.slides.filter(ve=>ve.classList.contains("swiper-slide-active"))[0]:$=e.slides[e.activeIndex],$?parseInt($.getAttribute("data-swiper-autoplay"),10):void 0},P=$=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),x();let Z=typeof $>"u"?e.params.autoplay.delay:$;l=e.params.autoplay.delay,c=e.params.autoplay.delay;let ve=R();!Number.isNaN(ve)&&ve>0&&typeof $>"u"&&(Z=ve,l=ve,c=ve),d=Z;let W=e.params.speed,Q=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(W,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,W,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(W,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,W,!0,!0),r("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{P()})))};return Z>0?(clearTimeout(o),o=setTimeout(()=>{Q()},Z)):requestAnimationFrame(()=>{Q()}),Z},A=()=>{h=new Date().getTime(),e.autoplay.running=!0,P(),r("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},D=($,Z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),$||(g=!0);let ve=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",b):I()};if(e.autoplay.paused=!0,Z){_&&(d=e.params.autoplay.delay),_=!1,ve();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),ve())},I=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),g?(g=!1,P(d)):P(),e.autoplay.paused=!1,r("autoplayResume"))},O=()=>{if(e.destroyed||!e.autoplay.running)return;let $=lt();$.visibilityState==="hidden"&&(g=!0,D(!0)),$.visibilityState==="visible"&&I()},M=$=>{$.pointerType==="mouse"&&(g=!0,C=!0,!(e.animating||e.autoplay.paused)&&D(!0))},T=$=>{$.pointerType==="mouse"&&(C=!1,e.autoplay.paused&&I())},k=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",M),e.el.addEventListener("pointerleave",T))},H=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",M),e.el.removeEventListener("pointerleave",T))},ie=()=>{lt().addEventListener("visibilitychange",O)},F=()=>{lt().removeEventListener("visibilitychange",O)};i("init",()=>{e.params.autoplay.enabled&&(k(),ie(),A())}),i("destroy",()=>{H(),F(),e.autoplay.running&&E()}),i("_freeModeStaticRelease",()=>{(y||g)&&I()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():D(!0,!0)}),i("beforeTransitionStart",($,Z,ve)=>{e.destroyed||!e.autoplay.running||(ve||!e.params.autoplay.disableOnInteraction?D(!0,!0):E())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){E();return}p=!0,y=!1,g=!1,w=setTimeout(()=>{g=!0,y=!0,D(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(w),clearTimeout(o),e.params.autoplay.disableOnInteraction){y=!1,p=!1;return}y&&e.params.cssMode&&I(),y=!1,p=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(_=!0)}),Object.assign(e.autoplay,{start:A,stop:E,pause:D,resume:I})}function _k(t){let{swiper:e,extendParams:n,on:i}=t;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;e.thumbs={swiper:null};function o(){let c=e.thumbs.swiper;if(!c||c.destroyed)return;let d=c.clickedIndex,h=c.clickedSlide;if(h&&h.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof d>"u"||d===null)return;let f;c.params.loop?f=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):f=d,e.params.loop?e.slideToLoop(f):e.slideTo(f)}function a(){let{thumbs:c}=e.params;if(r)return!1;r=!0;let d=e.constructor;if(c.swiper instanceof d)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(Cc(c.swiper)){let h=Object.assign({},c.swiper);Object.assign(h,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new d(h),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){let d=e.thumbs.swiper;if(!d||d.destroyed)return;let h=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView,f=1,p=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(f=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),d.slides.forEach(_=>_.classList.remove(p)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let _=0;_<f;_+=1)gt(d.slidesEl,`[data-swiper-slide-index="${e.realIndex+_}"]`).forEach(g=>{g.classList.add(p)});else for(let _=0;_<f;_+=1)d.slides[e.realIndex+_]&&d.slides[e.realIndex+_].classList.add(p);let y=e.params.thumbs.autoScrollOffset,w=y&&!d.params.loop;if(e.realIndex!==d.realIndex||w){let _=d.activeIndex,g,C;if(d.params.loop){let b=d.slides.filter(x=>x.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];g=d.slides.indexOf(b),C=e.activeIndex>e.previousIndex?"next":"prev"}else g=e.realIndex,C=g>e.previousIndex?"next":"prev";w&&(g+=C==="next"?y:-1*y),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(g)<0&&(d.params.centeredSlides?g>_?g=g-Math.floor(h/2)+1:g=g+Math.floor(h/2)-1:g>_&&d.params.slidesPerGroup,d.slideTo(g,c?0:void 0))}}i("beforeInit",()=>{let{thumbs:c}=e.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){let d=lt(),h=()=>{let p=typeof c.swiper=="string"?d.querySelector(c.swiper):c.swiper;if(p&&p.swiper)c.swiper=p.swiper,a(),l(!0);else if(p){let y=w=>{c.swiper=w.detail[0],p.removeEventListener("init",y),a(),l(!0),c.swiper.update(),e.update()};p.addEventListener("init",y)}return p},f=()=>{if(e.destroyed)return;h()||requestAnimationFrame(f)};requestAnimationFrame(f)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,d)=>{let h=e.thumbs.swiper;!h||h.destroyed||h.setTransition(d)}),i("beforeDestroy",()=>{let c=e.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})}function wk(t){let{swiper:e,extendParams:n,emit:i,once:r}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function s(){if(e.params.cssMode)return;let l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;let{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Mn()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;let{params:d,wrapperEl:h,rtlTranslate:f,snapGrid:p,touchEventsData:y}=e,_=Mn()-y.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<p.length?e.slideTo(p.length-1):e.slideTo(e.slides.length-1);return}if(d.freeMode.momentum){if(y.velocities.length>1){let E=y.velocities.pop(),D=y.velocities.pop(),I=E.position-D.position,O=E.time-D.time;e.velocity=I/O,e.velocity/=2,Math.abs(e.velocity)<d.freeMode.minimumVelocity&&(e.velocity=0),(O>150||Mn()-E.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=d.freeMode.momentumVelocityRatio,y.velocities.length=0;let g=1e3*d.freeMode.momentumRatio,C=e.velocity*g,b=e.translate+C;f&&(b=-b);let x=!1,R,P=Math.abs(e.velocity)*20*d.freeMode.momentumBounceRatio,A;if(b<e.maxTranslate())d.freeMode.momentumBounce?(b+e.maxTranslate()<-P&&(b=e.maxTranslate()-P),R=e.maxTranslate(),x=!0,y.allowMomentumBounce=!0):b=e.maxTranslate(),d.loop&&d.centeredSlides&&(A=!0);else if(b>e.minTranslate())d.freeMode.momentumBounce?(b-e.minTranslate()>P&&(b=e.minTranslate()+P),R=e.minTranslate(),x=!0,y.allowMomentumBounce=!0):b=e.minTranslate(),d.loop&&d.centeredSlides&&(A=!0);else if(d.freeMode.sticky){let E;for(let D=0;D<p.length;D+=1)if(p[D]>-b){E=D;break}Math.abs(p[E]-b)<Math.abs(p[E-1]-b)||e.swipeDirection==="next"?b=p[E]:b=p[E-1],b=-b}if(A&&r("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?g=Math.abs((-b-e.translate)/e.velocity):g=Math.abs((b-e.translate)/e.velocity),d.freeMode.sticky){let E=Math.abs((f?-b:b)-e.translate),D=e.slidesSizesGrid[e.activeIndex];E<D?g=d.speed:E<2*D?g=d.speed*1.5:g=d.speed*2.5}}else if(d.freeMode.sticky){e.slideToClosest();return}d.freeMode.momentumBounce&&x?(e.updateProgress(R),e.setTransition(g),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,eo(h,()=>{!e||e.destroyed||!y.allowMomentumBounce||(i("momentumBounce"),e.setTransition(d.speed),setTimeout(()=>{e.setTranslate(R),eo(h,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(b),e.setTransition(g),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,eo(h,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(b),e.updateActiveIndex(),e.updateSlidesClasses()}else if(d.freeMode.sticky){e.slideToClosest();return}else d.freeMode&&i("_freeModeNoMomentumRelease");(!d.freeMode.momentum||_>=d.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:s,onTouchMove:o,onTouchEnd:a}})}function bk(t){let{swiper:e,extendParams:n,on:i}=t;n({grid:{rows:1,fill:"column"}});let r,s,o,a,l=()=>{let w=e.params.spaceBetween;return typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*e.size:typeof w=="string"&&(w=parseFloat(w)),w},c=w=>{let{slidesPerView:_}=e.params,{rows:g,fill:C}=e.params.grid,b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:w.length;o=Math.floor(b/g),Math.floor(b/g)===b/g?r=b:r=Math.ceil(b/g)*g,_!=="auto"&&C==="row"&&(r=Math.max(r,_*g)),s=r/g},d=()=>{e.slides&&e.slides.forEach(w=>{w.swiperSlideGridSet&&(w.style.height="",w.style[e.getDirectionLabel("margin-top")]="")})},h=(w,_,g)=>{let{slidesPerGroup:C}=e.params,b=l(),{rows:x,fill:R}=e.params.grid,P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:g.length,A,E,D;if(R==="row"&&C>1){let I=Math.floor(w/(C*x)),O=w-x*C*I,M=I===0?C:Math.min(Math.ceil((P-I*x*C)/x),C);D=Math.floor(O/M),E=O-D*M+I*C,A=E+D*r/x,_.style.order=A}else R==="column"?(E=Math.floor(w/x),D=w-E*x,(E>o||E===o&&D===x-1)&&(D+=1,D>=x&&(D=0,E+=1))):(D=Math.floor(w/s),E=w-D*s);_.row=D,_.column=E,_.style.height=`calc((100% - ${(x-1)*b}px) / ${x})`,_.style[e.getDirectionLabel("margin-top")]=D!==0?b&&`${b}px`:"",_.swiperSlideGridSet=!0},f=(w,_)=>{let{centeredSlides:g,roundLengths:C}=e.params,b=l(),{rows:x}=e.params.grid;if(e.virtualSize=(w+b)*r,e.virtualSize=Math.ceil(e.virtualSize/x)-b,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+b}px`),g){let R=[];for(let P=0;P<_.length;P+=1){let A=_[P];C&&(A=Math.floor(A)),_[P]<e.virtualSize+_[0]&&R.push(A)}_.splice(0,_.length),_.push(...R)}},p=()=>{a=e.params.grid&&e.params.grid.rows>1},y=()=>{let{params:w,el:_}=e,g=w.grid&&w.grid.rows>1;a&&!g?(_.classList.remove(`${w.containerModifierClass}grid`,`${w.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!a&&g&&(_.classList.add(`${w.containerModifierClass}grid`),w.grid.fill==="column"&&_.classList.add(`${w.containerModifierClass}grid-column`),e.emitContainerClasses()),a=g};i("init",p),i("update",y),e.grid={initSlides:c,unsetSlides:d,updateSlide:h,updateWrapperSize:f}}function U8(t){let e=this,{params:n,slidesEl:i}=e;n.loop&&e.loopDestroy();let r=s=>{if(typeof s=="string"){let o=document.createElement("div");o.innerHTML=s,i.append(o.children[0]),o.innerHTML=""}else i.append(s)};if(typeof t=="object"&&"length"in t)for(let s=0;s<t.length;s+=1)t[s]&&r(t[s]);else r(t);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update()}function z8(t){let e=this,{params:n,activeIndex:i,slidesEl:r}=e;n.loop&&e.loopDestroy();let s=i+1,o=a=>{if(typeof a=="string"){let l=document.createElement("div");l.innerHTML=a,r.prepend(l.children[0]),l.innerHTML=""}else r.prepend(a)};if(typeof t=="object"&&"length"in t){for(let a=0;a<t.length;a+=1)t[a]&&o(t[a]);s=i+t.length}else o(t);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update(),e.slideTo(s,0,!1)}function G8(t,e){let n=this,{params:i,activeIndex:r,slidesEl:s}=n,o=r;i.loop&&(o-=n.loopedSlides,n.loopDestroy(),n.recalcSlides());let a=n.slides.length;if(t<=0){n.prependSlide(e);return}if(t>=a){n.appendSlide(e);return}let l=o>t?o+1:o,c=[];for(let d=a-1;d>=t;d-=1){let h=n.slides[d];h.remove(),c.unshift(h)}if(typeof e=="object"&&"length"in e){for(let d=0;d<e.length;d+=1)e[d]&&s.append(e[d]);l=o>t?o+e.length:o}else s.append(e);for(let d=0;d<c.length;d+=1)s.append(c[d]);n.recalcSlides(),i.loop&&n.loopCreate(),(!i.observer||n.isElement)&&n.update(),i.loop?n.slideTo(l+n.loopedSlides,0,!1):n.slideTo(l,0,!1)}function H8(t){let e=this,{params:n,activeIndex:i}=e,r=i;n.loop&&(r-=e.loopedSlides,e.loopDestroy());let s=r,o;if(typeof t=="object"&&"length"in t){for(let a=0;a<t.length;a+=1)o=t[a],e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=t,e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update(),n.loop?e.slideTo(s+e.loopedSlides,0,!1):e.slideTo(s,0,!1)}function q8(){let t=this,e=[];for(let n=0;n<t.slides.length;n+=1)e.push(n);t.removeSlide(e)}function Ek(t){let{swiper:e}=t;Object.assign(e,{appendSlide:U8.bind(e),prependSlide:z8.bind(e),addSlide:G8.bind(e),removeSlide:H8.bind(e),removeAllSlides:q8.bind(e)})}function hi(t){let{effect:e,swiper:n,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);let h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),i("setTranslate",()=>{n.params.effect===e&&r()}),i("setTransition",(h,f)=>{n.params.effect===e&&s(f)}),i("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}});let d;i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(d=!0),requestAnimationFrame(()=>{d&&n.slides&&n.slides.length&&(r(),d=!1)}))})}function fr(t,e){let n=Bn(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function no(t){let{swiper:e,duration:n,transformElements:i,allSlides:r}=t,{activeIndex:s}=e,o=a=>a.parentElement?a.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0];if(e.params.virtualTranslate&&n!==0){let a=!1,l;r?l=i:l=i.filter(c=>{let d=c.classList.contains("swiper-slide-transform")?o(c):c;return e.getSlideIndex(d)===s}),l.forEach(c=>{eo(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;let d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function Dk(t){let{swiper:e,extendParams:n,on:i}=t;n({fadeEffect:{crossFade:!1}}),hi({effect:"fade",swiper:e,on:i,setTranslate:()=>{let{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){let c=e.slides[l],h=-c.swiperSlideOffset;e.params.virtualTranslate||(h-=e.translate);let f=0;e.isHorizontal()||(f=h,h=0);let p=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),y=fr(a,c);y.style.opacity=p,y.style.transform=`translate3d(${h}px, ${f}px, 0px)`}},setTransition:o=>{let a=e.slides.map(l=>Bn(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),no({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Tk(t){let{swiper:e,extendParams:n,on:i}=t;n({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});let r=(l,c,d)=>{let h=d?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),f=d?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");h||(h=Lt("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"left":"top"}`.split(" ")),l.append(h)),f||(f=Lt("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"right":"bottom"}`.split(" ")),l.append(f)),h&&(h.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};hi({effect:"cube",swiper:e,on:i,setTranslate:()=>{let{el:l,wrapperEl:c,slides:d,width:h,height:f,rtlTranslate:p,size:y,browser:w}=e,_=e.params.cubeEffect,g=e.isHorizontal(),C=e.virtual&&e.params.virtual.enabled,b=0,x;_.shadow&&(g?(x=e.wrapperEl.querySelector(".swiper-cube-shadow"),x||(x=Lt("div","swiper-cube-shadow"),e.wrapperEl.append(x)),x.style.height=`${h}px`):(x=l.querySelector(".swiper-cube-shadow"),x||(x=Lt("div","swiper-cube-shadow"),l.append(x))));for(let P=0;P<d.length;P+=1){let A=d[P],E=P;C&&(E=parseInt(A.getAttribute("data-swiper-slide-index"),10));let D=E*90,I=Math.floor(D/360);p&&(D=-D,I=Math.floor(-D/360));let O=Math.max(Math.min(A.progress,1),-1),M=0,T=0,k=0;E%4===0?(M=-I*4*y,k=0):(E-1)%4===0?(M=0,k=-I*4*y):(E-2)%4===0?(M=y+I*4*y,k=y):(E-3)%4===0&&(M=-y,k=3*y+y*4*I),p&&(M=-M),g||(T=M,M=0);let H=`rotateX(${g?0:-D}deg) rotateY(${g?D:0}deg) translate3d(${M}px, ${T}px, ${k}px)`;O<=1&&O>-1&&(b=E*90+O*90,p&&(b=-E*90-O*90),e.browser&&e.browser.need3dFix&&Math.abs(b)/90%2===1&&(b+=.001)),A.style.transform=H,_.slideShadows&&r(A,O,g)}if(c.style.transformOrigin=`50% 50% -${y/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${y/2}px`,_.shadow)if(g)x.style.transform=`translate3d(0px, ${h/2+_.shadowOffset}px, ${-h/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${_.shadowScale})`;else{let P=Math.abs(b)-Math.floor(Math.abs(b)/90)*90,A=1.5-(Math.sin(P*2*Math.PI/360)/2+Math.cos(P*2*Math.PI/360)/2),E=_.shadowScale,D=_.shadowScale/A,I=_.shadowOffset;x.style.transform=`scale3d(${E}, 1, ${D}) translate3d(0px, ${f/2+I}px, ${-f/2/D}px) rotateX(-89.99deg)`}let R=(w.isSafari||w.isWebView)&&w.needPerspectiveFix?-y/2:0;c.style.transform=`translate3d(0px,0,${R}px) rotateX(${e.isHorizontal()?0:b}deg) rotateY(${e.isHorizontal()?-b:0}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${R}px`)},setTransition:l=>{let{el:c,slides:d}=e;if(d.forEach(h=>{h.style.transitionDuration=`${l}ms`,h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){let h=c.querySelector(".swiper-cube-shadow");h&&(h.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{let l=e.isHorizontal();e.slides.forEach(c=>{let d=Math.max(Math.min(c.progress,1),-1);r(c,d,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function pr(t,e,n){let i=`swiper-slide-shadow${n?`-${n}`:""}${t?` swiper-slide-shadow-${t}`:""}`,r=Bn(e),s=r.querySelector(`.${i.split(" ").join(".")}`);return s||(s=Lt("div",i.split(" ")),r.append(s)),s}function Ck(t){let{swiper:e,extendParams:n,on:i}=t;n({flipEffect:{slideShadows:!0,limitRotation:!0}});let r=(l,c)=>{let d=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),h=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");d||(d=pr("flip",l,e.isHorizontal()?"left":"top")),h||(h=pr("flip",l,e.isHorizontal()?"right":"bottom")),d&&(d.style.opacity=Math.max(-c,0)),h&&(h.style.opacity=Math.max(c,0))};hi({effect:"flip",swiper:e,on:i,setTranslate:()=>{let{slides:l,rtlTranslate:c}=e,d=e.params.flipEffect;for(let h=0;h<l.length;h+=1){let f=l[h],p=f.progress;e.params.flipEffect.limitRotation&&(p=Math.max(Math.min(f.progress,1),-1));let y=f.swiperSlideOffset,_=-180*p,g=0,C=e.params.cssMode?-y-e.translate:-y,b=0;e.isHorizontal()?c&&(_=-_):(b=C,C=0,g=-_,_=0),e.browser&&e.browser.need3dFix&&(Math.abs(_)/90%2===1&&(_+=.001),Math.abs(g)/90%2===1&&(g+=.001)),f.style.zIndex=-Math.abs(Math.round(p))+l.length,d.slideShadows&&r(f,p);let x=`translate3d(${C}px, ${b}px, 0px) rotateX(${g}deg) rotateY(${_}deg)`,R=fr(d,f);R.style.transform=x}},setTransition:l=>{let c=e.slides.map(d=>Bn(d));c.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>{h.style.transitionDuration=`${l}ms`})}),no({swiper:e,duration:l,transformElements:c})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(l=>{let c=l.progress;e.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),r(l,c)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Ik(t){let{swiper:e,extendParams:n,on:i}=t;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),hi({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{let{width:o,height:a,slides:l,slidesSizesGrid:c}=e,d=e.params.coverflowEffect,h=e.isHorizontal(),f=e.translate,p=h?-f+o/2:-f+a/2,y=h?d.rotate:-d.rotate,w=d.depth;for(let _=0,g=l.length;_<g;_+=1){let C=l[_],b=c[_],x=C.swiperSlideOffset,R=(p-x-b/2)/b,P=typeof d.modifier=="function"?d.modifier(R):R*d.modifier,A=h?y*P:0,E=h?0:y*P,D=-w*Math.abs(P),I=d.stretch;typeof I=="string"&&I.indexOf("%")!==-1&&(I=parseFloat(d.stretch)/100*b);let O=h?0:I*P,M=h?I*P:0,T=1-(1-d.scale)*Math.abs(P);Math.abs(M)<.001&&(M=0),Math.abs(O)<.001&&(O=0),Math.abs(D)<.001&&(D=0),Math.abs(A)<.001&&(A=0),Math.abs(E)<.001&&(E=0),Math.abs(T)<.001&&(T=0),e.browser&&e.browser.need3dFix&&(Math.abs(A)/90%2===1&&(A+=.001),Math.abs(E)/90%2===1&&(E+=.001));let k=`translate3d(${M}px,${O}px,${D}px)  rotateX(${E}deg) rotateY(${A}deg) scale(${T})`,H=fr(d,C);if(H.style.transform=k,C.style.zIndex=-Math.abs(Math.round(P))+1,d.slideShadows){let ie=h?C.querySelector(".swiper-slide-shadow-left"):C.querySelector(".swiper-slide-shadow-top"),F=h?C.querySelector(".swiper-slide-shadow-right"):C.querySelector(".swiper-slide-shadow-bottom");ie||(ie=pr("coverflow",C,h?"left":"top")),F||(F=pr("coverflow",C,h?"right":"bottom")),ie&&(ie.style.opacity=P>0?P:0),F&&(F.style.opacity=-P>0?-P:0)}}},setTransition:o=>{e.slides.map(l=>Bn(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function Sk(t){let{swiper:e,extendParams:n,on:i}=t;n({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});let r=a=>typeof a=="string"?a:`${a}px`;hi({effect:"creative",swiper:e,on:i,setTranslate:()=>{let{slides:a,wrapperEl:l,slidesSizesGrid:c}=e,d=e.params.creativeEffect,{progressMultiplier:h}=d,f=e.params.centeredSlides;if(f){let p=c[0]/2-e.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${p}px))`}for(let p=0;p<a.length;p+=1){let y=a[p],w=y.progress,_=Math.min(Math.max(y.progress,-d.limitProgress),d.limitProgress),g=_;f||(g=Math.min(Math.max(y.originalProgress,-d.limitProgress),d.limitProgress));let C=y.swiperSlideOffset,b=[e.params.cssMode?-C-e.translate:-C,0,0],x=[0,0,0],R=!1;e.isHorizontal()||(b[1]=b[0],b[0]=0);let P={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};_<0?(P=d.next,R=!0):_>0&&(P=d.prev,R=!0),b.forEach((T,k)=>{b[k]=`calc(${T}px + (${r(P.translate[k])} * ${Math.abs(_*h)}))`}),x.forEach((T,k)=>{let H=P.rotate[k]*Math.abs(_*h);e.browser&&e.browser.need3dFix&&Math.abs(H)/90%2===1&&(H+=.001),x[k]=H}),y.style.zIndex=-Math.abs(Math.round(w))+a.length;let A=b.join(", "),E=`rotateX(${x[0]}deg) rotateY(${x[1]}deg) rotateZ(${x[2]}deg)`,D=g<0?`scale(${1+(1-P.scale)*g*h})`:`scale(${1-(1-P.scale)*g*h})`,I=g<0?1+(1-P.opacity)*g*h:1-(1-P.opacity)*g*h,O=`translate3d(${A}) ${E} ${D}`;if(R&&P.shadow||!R){let T=y.querySelector(".swiper-slide-shadow");if(!T&&P.shadow&&(T=pr("creative",y)),T){let k=d.shadowPerProgress?_*(1/d.limitProgress):_;T.style.opacity=Math.min(Math.max(Math.abs(k),0),1)}}let M=fr(d,y);M.style.transform=O,M.style.opacity=I,P.origin&&(M.style.transformOrigin=P.origin)}},setTransition:a=>{let l=e.slides.map(c=>Bn(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${a}ms`})}),no({swiper:e,duration:a,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function Mk(t){let{swiper:e,extendParams:n,on:i}=t;n({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),hi({effect:"cards",swiper:e,on:i,setTranslate:()=>{let{slides:o,activeIndex:a,rtlTranslate:l}=e,c=e.params.cardsEffect,{startTranslate:d,isTouched:h}=e.touchEventsData,f=l?-e.translate:e.translate;for(let p=0;p<o.length;p+=1){let y=o[p],w=y.progress,_=Math.min(Math.max(w,-4),4),g=y.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(g-=o[0].swiperSlideOffset);let C=e.params.cssMode?-g-e.translate:-g,b=0,x=-100*Math.abs(_),R=1,P=-c.perSlideRotate*_,A=c.perSlideOffset-Math.abs(_)*.75,E=e.virtual&&e.params.virtual.enabled?e.virtual.from+p:p,D=(E===a||E===a-1)&&_>0&&_<1&&(h||e.params.cssMode)&&f<d,I=(E===a||E===a+1)&&_<0&&_>-1&&(h||e.params.cssMode)&&f>d;if(D||I){let k=(1-Math.abs((Math.abs(_)-.5)/.5))**.5;P+=-28*_*k,R+=-.5*k,A+=96*k,b=`${-25*k*Math.abs(_)}%`}if(_<0?C=`calc(${C}px ${l?"-":"+"} (${A*Math.abs(_)}%))`:_>0?C=`calc(${C}px ${l?"-":"+"} (-${A*Math.abs(_)}%))`:C=`${C}px`,!e.isHorizontal()){let k=b;b=C,C=k}let O=_<0?`${1+(1-R)*_}`:`${1-(1-R)*_}`,M=`
        translate3d(${C}, ${b}, ${x}px)
        rotateZ(${c.rotate?l?-P:P:0}deg)
        scale(${O})
      `;if(c.slideShadows){let k=y.querySelector(".swiper-slide-shadow");k||(k=pr("cards",y)),k&&(k.style.opacity=Math.min(Math.max((Math.abs(_)-.5)/.5,0),1))}y.style.zIndex=-Math.abs(Math.round(w))+o.length;let T=fr(c,y);T.style.transform=M}},setTransition:o=>{let a=e.slides.map(l=>Bn(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),no({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}var W8=[ok,ak,lk,ck,uk,dk,hk,fk,pk,mk,gk,vk,yk,_k,wk,bk,Ek,Dk,Tk,Ck,Ik,Sk,Mk];to.use(W8);var Sc=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ta(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function jg(t,e){let n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Ta(e[i])&&Ta(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:jg(t[i],e[i]):t[i]=e[i]})}function xk(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Ak(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Ok(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Mc(t){return t===void 0&&(t=""),t.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}function Rk(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t,c=r.filter(D=>D!=="children"&&D!=="direction"&&D!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:p,virtual:y,thumbs:w}=e,_,g,C,b,x,R,P,A;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(_=!0),r.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(g=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(C=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(b=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(x=!0);let E=D=>{e[D]&&(e[D].destroy(),D==="navigation"?(e.isElement&&(e[D].prevEl.remove(),e[D].nextEl.remove()),d[D].prevEl=void 0,d[D].nextEl=void 0,e[D].prevEl=void 0,e[D].nextEl=void 0):(e.isElement&&e[D].el.remove(),d[D].el=void 0,e[D].el=void 0))};r.includes("loop")&&e.isElement&&(d.loop&&!i.loop?R=!0:!d.loop&&i.loop?P=!0:A=!0),c.forEach(D=>{if(Ta(d[D])&&Ta(i[D]))Object.assign(d[D],i[D]),(D==="navigation"||D==="pagination"||D==="scrollbar")&&"enabled"in i[D]&&!i[D].enabled&&E(D);else{let I=i[D];(I===!0||I===!1)&&(D==="navigation"||D==="pagination"||D==="scrollbar")?I===!1&&E(D):d[D]=i[D]}}),c.includes("controller")&&!g&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),r.includes("children")&&n&&y&&d.virtual.enabled?(y.slides=n,y.update(!0)):r.includes("virtual")&&y&&d.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),r.includes("children")&&n&&d.loop&&(A=!0),_&&w.init()&&w.update(!0),g&&(e.controller.control=d.controller.control),C&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),b&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),x&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),f.init(),f.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(R||A)&&e.loopDestroy(),(P||A)&&e.loopCreate(),e.update()}var Pk=t=>{if(parseFloat(t)===Number(t))return Number(t);if(t==="true"||t==="")return!0;if(t==="false")return!1;if(t==="null")return null;if(t!=="undefined"){if(typeof t=="string"&&t.includes("{")&&t.includes("}")&&t.includes('"')){let e;try{e=JSON.parse(t)}catch{e=t}return e}return t}},Nk=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function K1(t,e,n){let i={},r={};jg(i,Bg);let s=[...Sc,"on"],o=s.map(l=>l.replace(/_/,""));s.forEach(l=>{l=l.replace("_",""),typeof t[l]<"u"&&(r[l]=t[l])});let a=[...t.attributes];return typeof e=="string"&&typeof n<"u"&&a.push({name:e,value:Ta(n)?K({},n):n}),a.forEach(l=>{let c=Nk.filter(d=>l.name.indexOf(`${d}-`)===0)[0];if(c){let d=Mc(c),h=Mc(l.name.split(`${c}-`)[1]);typeof r[d]>"u"&&(r[d]={}),r[d]===!0&&(r[d]={enabled:!0}),r[d][h]=Pk(l.value)}else{let d=Mc(l.name);if(!o.includes(d))return;let h=Pk(l.value);r[d]&&Nk.includes(l.name)&&!Ta(h)?(r[d].constructor!==Object&&(r[d]={}),r[d].enabled=!!h):r[d]=h}}),jg(i,r),i.navigation?i.navigation=K({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},i.navigation!==!0?i.navigation:{}):i.navigation===!1&&delete i.navigation,i.scrollbar?i.scrollbar=K({el:".swiper-scrollbar"},i.scrollbar!==!0?i.scrollbar:{}):i.scrollbar===!1&&delete i.scrollbar,i.pagination?i.pagination=K({el:".swiper-pagination"},i.pagination!==!0?i.pagination:{}):i.pagination===!1&&delete i.pagination,{params:i,passedParams:r}}var Y8=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",K8="::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}",Q1=class{},Fk=typeof window>"u"||typeof HTMLElement>"u"?Q1:HTMLElement,kk=`<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>
    `,Lk=(t,e)=>{if(typeof CSSStyleSheet<"u"&&t.adoptedStyleSheets){let n=new CSSStyleSheet;n.replaceSync(e),t.adoptedStyleSheets=[n]}else{let n=document.createElement("style");n.rel="stylesheet",n.textContent=e,t.appendChild(n)}},$g=class extends Fk{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return kk}static get prevButtonSvg(){return kk.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[Y8,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join(`
`)}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){let e=this.slideSlots||0,n=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=n.length?Math.max(...n)+1:0,!!this.rendered){if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){let r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);let s=document.createElement("slot");s.setAttribute("name",`slide-${i+1}`),r.appendChild(s),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<e){let i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&Lk(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;let s=document.createElement("link");s.rel="stylesheet",s.href=i,this.shadowRoot.appendChild(s)});let n=document.createElement("div");n.classList.add("swiper"),n.part="container",n.innerHTML=`
      <slot name="container-start"></slot>
      <div class="swiper-wrapper" part="wrapper">
        <slot></slot>
        ${Array.from({length:this.slideSlots}).map((i,r)=>`
        <swiper-slide part="slide slide-${r}">
          <slot name="slide-${r}"></slot>
        </swiper-slide>
        `).join("")}
      </div>
      <slot name="container-end"></slot>
      ${xk(this.passedParams)?`
        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>
        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>
      `:""}
      ${Ak(this.passedParams)?`
        <div part="pagination" class="swiper-pagination"></div>
      `:""}
      ${Ok(this.passedParams)?`
        <div part="scrollbar" class="swiper-scrollbar"></div>
      `:""}
    `,this.shadowRoot.appendChild(n),this.rendered=!0}initialize(){var e=this;if(this.initialized)return;this.initialized=!0;let{params:n,passedParams:i}=K1(this);this.swiperParams=n,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new to(this.shadowRoot.querySelector(".swiper"),Fe(K(K({},n.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0}),n),{touchEventsTarget:"container",onAny:function(r){r==="observerUpdate"&&e.calcSlideSlots();let s=n.eventsPrefix?`${n.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];let c=new CustomEvent(s,{detail:a,bubbles:r!=="hashChange",cancelable:!0});e.dispatchEvent(c)}}))}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.init===!1||this.getAttribute("init")==="false"||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(e,n){let{params:i,passedParams:r}=K1(this,e,n);this.passedParams=r,this.swiperParams=i,!(this.swiper&&this.swiper.params[e]===n)&&Rk(K(K(K({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Mc(e)]},e==="navigation"&&r[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),e==="pagination"&&r[e]?{paginationEl:".swiper-pagination"}:{}),e==="scrollbar"&&r[e]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(e,n,i){this.initialized&&(n==="true"&&i===null&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return Sc.filter(n=>n.includes("_")).map(n=>n.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}};Sc.forEach(t=>{t!=="init"&&(t=t.replace("_",""),Object.defineProperty($g.prototype,t,{configurable:!0,get(){return(this.passedParams||{})[t]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[t]=e,this.initialized&&this.updateSwiperOnPropChange(t,e)}}))});var X1=class extends Fk{constructor(){super(),this.attachShadow({mode:"open"})}render(){let e=this.lazy||this.getAttribute("lazy")===""||this.getAttribute("lazy")==="true";if(Lk(this.shadowRoot,K8),this.shadowRoot.appendChild(document.createElement("slot")),e){let n=document.createElement("div");n.classList.add("swiper-lazy-preloader"),n.part.add("preloader"),this.shadowRoot.appendChild(n)}}initialize(){this.render()}connectedCallback(){this.initialize()}},Vk=()=>{typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",$g),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",X1))};typeof window<"u"&&(window.SwiperElementRegisterParams=t=>{Sc.push(...t)});Vk();yM().bootstrapModule(qN).catch(t=>console.error(t));
